(()=>{"use strict";var a={n:e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},d:(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(a,e)=>Object.prototype.hasOwnProperty.call(a,e)};const e=window.jQuery;var t=a.n(e);const n=window.wp.i18n;var l;(l=t())(document).on("change","#gateway_balance_po_file",(function(){const a=l("#gateway_balance_po_file"),e=new FormData,t=a[0].files,o=l("#gateway_balance_po_upload").val(),d=l("#place_order"),r=l("#gateway_balance_po_file_id").val(),p=a.closest(".gateway-balance-field-file").find(".progress-bar");t.length>0&&(d.prop("disabled","disabled"),e.append("action","gateway_balance_purchase_order_upload_file"),e.append("_ajax_nonce",o),e.append("file",t[0]),e.append("old_file_id",r),l.ajax({url:gateway_balance.ajaxurl,method:"post",dataType:"json",contentType:!1,processData:!1,async:!0,cache:!1,enctype:"multipart/form-data",data:e,xhr:function(){var a=new window.XMLHttpRequest;return a.upload.addEventListener("progress",(function(a){if(a.lengthComputable){var e=a.loaded/a.total;e=parseInt(100*e),p.css({width:`${e}%`})}}),!1),a}}).success((a=>{const e=a.data.attachment_id;l("#gateway_balance_po_file_id").val(e),l("#gateway_balance_po_file_field .result").html((0,n.__)("File successfully uploaded.","chamfr-gateway-balance"))})).error((a=>{l("#gateway_balance_po_file_field .result").append(a.data.join("<br>"))})).done((()=>{d.prop("disabled",!1)})))}))})();