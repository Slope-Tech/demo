const wrapper=document.getElementById("liveChatBadge"),icon=document.getElementById("liveChatBadgeIcon"),textElem=document.querySelector(".liveChatBadgeText"),phrase=document.getElementById("liveChatBadgePhrase"),DEFAULT_TM_PHONE_NUMBER="1-888-551-7600";let cachedOptions={};const globalStorage=localStorage.getItem("persist:global"),cachedCustomerSupport=JSON.parse(globalStorage);cachedCustomerSupport&&(cachedOptions=JSON.parse(cachedCustomerSupport.customerSupport));const US_CANADA_ZIP_CODE_PATTERN=new RegExp("(\\d{5})(-(\\d{4}))?|([A-Za-z]\\d[A-Za-z]\\s?\\d[A-Za-z]\\d)"),extractUsOrCanadaZipCode=e=>{e=e?e.match(US_CANADA_ZIP_CODE_PATTERN):null;return e?e[0]:null},zipCookie=document.cookie.split(";").find(e=>e.includes("denaf")).split("=").pop(),zipCode=extractUsOrCanadaZipCode(zipCookie),deviceType=()=>{var e=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?"tablet":/Mobile|Android|iP(hone|od)|IEMobile|BlackBerry|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?"mobile":"desktop"},checkPhoneSupport=()=>{var e=deviceType();return"mobile"===e||"tablet"===e};let phoneSupported=checkPhoneSupport();const setTimesAndAvailability=e=>{const{tmSupportPhoneNumber:t,contactOptions:{chat:l,email:a,text:r,call:i}}=e;let n,o;o=t?(n=t.replace("1-",""),t.replace(/-/g,"")):(n=DEFAULT_TM_PHONE_NUMBER.replace("1-",""),DEFAULT_TM_PHONE_NUMBER.replace(/-/g,""));const p=new MutationObserver(e=>{for(const t of e)if("childList"===t.type&&!l.available)for(let e=0;e<textElem.children.length;e++)textElem.removeChild(textElem.children[e])});textElem&&p.observe(textElem,{childList:!0});e={Mon:"Mon",Tue:"Tue",Wed:"Wed",Thu:"Thurs",Fri:"Fri",Sat:"Sat",Sun:"Sun"};wrapper&&("PRO"===wrapper.getAttribute("data-variant")?r.available||i.available?(r.available&&i.available?(textElem.innerHTML="Call Or Text",textElem.setAttribute("href",`tel://${o}`)):(r.available&&(textElem.innerHTML="Text",textElem.setAttribute("href",`tel://${o}`)),i.available&&(textElem.innerHTML="Call",textElem.setAttribute("href",`sms://${o}`))),textElem.style.color="#343434",textElem.style.fontWeight="normal",textElem.style.pointerEvents=phoneSupported?"auto":"none",textElem.style.cursor=phoneSupported?"pointer":"default",icon.style.fill="#5E9A41",phrase.innerHTML=n,phrase.style.fontWeight="bold",phrase.style.color="#343434",wrapper.style.display="flex"):(textElem.innerHTML="Email",textElem.setAttribute("href","contactUs"),icon.style.fill="#5E9A41",wrapper.style.display="flex",a.available?phrase.innerHTML=`Response by ${e[a.respondIn]}`:phrase.innerHTML=`Available on ${e[a.respondIn]}`):l.available?(textElem.innerHTML="Live Chat",icon.style.fill="#5E9A41",phrase.innerHTML="Online Now",wrapper.style.display="flex"):(textElem.innerHTML="Email",textElem.setAttribute("href","contactUs"),icon.style.fill="#5E9A41",wrapper.style.display="flex",a.available?phrase.innerHTML=`Response by ${e[a.respondIn]}`:phrase.innerHTML=`Available on ${e[a.respondIn]}`))},fetchAndSet=async()=>{try{var e=await(await fetch("https://www.supplyhouse.com/webapi/api/cs/support",{method:"GET",withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json",zipcode:zipCode}})).json();setTimesAndAvailability(e)}catch(e){throw cachedOptions&&setTimesAndAvailability(cachedOptions),new Error("Could not retrieve data from customer support",e)}};fetchAndSet();