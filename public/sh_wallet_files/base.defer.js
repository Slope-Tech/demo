var US_ZIPCODE_PATTERN=ZipcodeUtil.USZipcodeRegex;jQuery.validator.addMethod("shZipcode",function(e,t){return this.optional(t)||US_ZIPCODE_PATTERN.test(e)&&Geo.isCountryUSByZip(e)},"Please enter a valid US zip code. We only ship within the US.");var ZIPCODE_PATTERN=ZipcodeUtil.USOrCanadaZipcodeRegex;jQuery.validator.addMethod("shUSCAZipcode",function(e,t){var a=Geo.getCountryCodeByZip(e);return this.optional(t)||ZIPCODE_PATTERN.test(e)&&("US"===a||"CA"===a)},"Please enter a valid US or Canadian zip code.");var EMAIL_PATTERN=/^([a-zA-Z0-9_\-\.'\+]+)@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/;function isEmail(e){return EMAIL_PATTERN.test(e)}jQuery.validator.addMethod("shEmail",function(e,t){return this.optional(t)||EMAIL_PATTERN.test(e)},"Please enter a valid e-mail address (for example: name@example.com)");var PHONE_PATTERN=/^1?\s*\W?\s*([2-9][0-8][0-9])\s*\W?\s*([2-9][0-9]{2})\s*\W?\s*([0-9]{4})(\se?x?t?[ ]*(\d*))?$/;function getInvalidSpecialCharacters(e,t){var t=[...e.matchAll(t)].flat(),a=[...new Set(t)];let n="";for(var r=0;r<a.length;r++)n+=r==a.length-1?a[r]:a[r]+", ";return n}jQuery.validator.addMethod("shPhone",function(e,t){return this.optional(t)||PHONE_PATTERN.test(e)},"Please enter a valid phone number.");var INVALID_CHAR=/[^\x00-\x7F]/g,PO_BOX_PATTERN=/^.*?P[\. ]*O[\. ]*?Box.*$|^.*?Post[\. ]*Office[\. ]*?Box.*$|^.*?Post[\. ]*?Box.*$|^.*?Post[\. ]*?Office.*$|^.*?P[\. ]*?Box.*$/i;jQuery.validator.addMethod("shPoAddress",function(e,t){return this.optional(t)||!/[^\x00-\x7F]+/.test(e)&&!PO_BOX_PATTERN.test(e)},function(e,t){return PO_BOX_PATTERN.test(e)?"PO Boxes are not allowed.":/[^\x00-\x7F]+/.test($(t).val())?"Please remove any special characters: "+getInvalidSpecialCharacters($(t).val(),INVALID_CHAR):void 0});var CC_PATTERN=/(^4[0-9]{12}(?:[0-9]{3})?$)|(^(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}$)|(^3[47][0-9]{13}$)|(^6(?:011|5[0-9]{2})[0-9]{12}$)/;jQuery.validator.addMethod("shCC",function(e,t){return e=e.replace(/[\s\-_]/g,""),CC_PATTERN.test(e)?jQuery("#overlay_address").length?checkNonUsCardDialog():jQuery("#payment-nonus-container").length&&checkNonUsCard():(jQuery("#payment-nonus-container").length?cleanUpNonUsCard:cleanUpNonUsCardDialog)(),this.optional(t)||CC_PATTERN.test(e)},"Please enter a valid credit card number.");var CC_EXP_PATTERN=/^(0[1-9]|1[0-2])\/\d{2}$/;jQuery.validator.addMethod("shExpCC",function(e,t){return this.optional(t)||CC_EXP_PATTERN.test(e)},"Please enter a valid expiration date.");var FULL_NAME_PATTERN=/^[\s\t]*[a-zA-Z,.'-]{1,35}(?=.{1,35}$)([\s]+[a-zA-Z,.'-]+)+[\s\t]*$/,FULL_NAME_PATTERN_NO_LENGTH=/^[\s\t]*[a-zA-Z,.'-]+([\s]+[a-zA-Z,.'-]+)+[\s\t]*$/,FULL_NAME_PATTERN_INVALID_CHAR=/[^A-Za-z0-9\s\t,.'-]/g;jQuery.validator.addMethod("shFullName",function(e,t){return this.optional(t)||FULL_NAME_PATTERN.test(e)},function(e,t){return FULL_NAME_PATTERN_NO_LENGTH.test($(t).val())?"Your first name or last name exceeds the maximum length. ":/[^A-Za-z0-9\s\t,.'-]+/.test($(t).val())?"Please remove any special characters: "+getInvalidSpecialCharacters($(t).val(),FULL_NAME_PATTERN_INVALID_CHAR):"Please enter a valid full name."}),jQuery.validator.addMethod("shCompanyName",function(e,t){return this.optional(t)||!/[^\x00-\x7F]+/.test(e)},function(e,t){return/[^\x00-\x7F]+/.test($(t).val())?"Please remove any special characters: "+getInvalidSpecialCharacters($(t).val(),INVALID_CHAR):"Please enter a valid company name"}),jQuery.validator.addMethod("shExpCCFuture",function(e,t){var a=e.split("/"),n=Number(a[1])+2e3,e=new Date;return e.getFullYear()<n||e.getFullYear()==n&&e.getMonth()<=Number(a[0])},"Please enter a date in the future.");var CC_CVV_PATTERN=/^\d{3,4}$/;jQuery.validator.addMethod("shCVV",function(e,t){return this.optional(t)||CC_CVV_PATTERN.test(e)},"Please enter a valid CVV.");var Validator={validateEmail:function(e){return EMAIL_PATTERN.test(e)},validateZipcode:function(e){return ZIPCODE_PATTERN.test(e)}};function showUsInMap(e){var t="https://www.google.com/maps?q=";"object"==typeof navigator&&(-1==navigator.platform.indexOf("iPhone")&&-1==navigator.platform.indexOf("iPod")&&-1==navigator.platform.indexOf("iPad")||t.replace("www","maps"));var a="SupplyHouse.com,+130+Spagnoli+Rd,+Melville,+NY+11747",n={PEXWAREHOUSE01:a,PEXWAREHOUSE03:"SupplyHouse.com,+7+Santa+Fe+Way,+Cranbury,+NJ+08512",PEXWAREHOUSE05:"SupplyHouse.com,+12301+N+Stemmons+Freeway+Suite+150,+Farmers+Branch,+TX+75234",PEXWAREHOUSE04:"SupplyHouse.com,+9460+North+Virginia+St+Suite+C,+Reno,+NV+89506"};n[e]&&(a=n[e]),window.open(t+a)}function DragAndDropImageUploader(e,t,i){this.uploadedFiles={},this.$container=e,this.maxFileSize=t||20971520,this.maxFileCount=i||30,this.$thumbnailContainer=e.find(".image-thumbnails"),this.$uploadTitle=e.find(".image-uploader-title"),this.$uploader=e.find(".image-uploader-box"),this.$file=e.find(".file"),this.$uploadTitle.click(function(){992<=$(window).width()?this.$uploader.show():this.$file.click()}.bind(this)),this.$uploader.on("drag dragstart dragend dragover dragenter dragleave drop",function(e){e.preventDefault(),e.stopPropagation()}).on("dragover dragenter",function(){this.$uploader.addClass("is-dragover")}.bind(this)).on("dragleave dragend drop",function(){this.$uploader.removeClass("is-dragover")}.bind(this)).on("drop",function(e){this.addPhotos(e.originalEvent.dataTransfer.files)}.bind(this)),this.$file.change(function(e){this.addPhotos(e.target.files),this.$uploader.hide()}.bind(this)),this.validatePhoto=function(e){return e.type.startsWith("image/")&&e.size<=this.maxFileSize},this.addPhotos=function(e){for(var t,a={},n=!1,r="",o=0;t=e[o];o++){if(Object.keys(this.uploadedFiles).length>i){r+="Please upload no more than "+i+" images.<br>";break}this.validatePhoto(t)?this.uploadedFiles[t.name]||(a[(this.uploadedFiles[t.name]=t).name]=t):n=!0}n&&(r+="One or more uploaded images are invalid and ignored.<br>"),r&&Popup.showInfoPopup("Error",r),this.updateThumbnails(a)},this.createThumbnail=function(t){var e=this.uploadedFiles[t],a=$("#image-thumbnail-template .image-thumbnail").clone();this.$thumbnailContainer.prepend(a);var n=this,r=new FileReader;r.onload=function(e){a.find("img").attr("src",e.target.result).attr("title",t),a.find(".close").on("click",function(){a.remove(),delete n.uploadedFiles[t]})},r.onloadend=function(e){a.show()},r.readAsDataURL(e)},this.updateThumbnails=function(e){for(var t in e)this.createThumbnail(t)},this.getAllFiles=function(){return this.uploadedFiles}}function formatPhoneNumber(e){e=(""+e).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return e?"("+e[1]+") "+e[2]+"-"+e[3]:null}function showWarehouseClosureModal(e){var t=$("#warehouse-closure-modal");t.length&&(e&&t.find("#closed-warehouse-names").text(e),t.modal())}function isTablet(e){return/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(e)}function cleanUpNonUsCard(){var e;jQuery("#payment-nonus-container").length&&(jQuery("#payment-nonus-container").hasClass("nonus-hidden")||(jQuery("#payment-nonus-container").addClass("nonus-hidden"),!1!==(e=$("#payment-nonus-container").attr("nonus"))&&"nonus"===e&&$("#payment-nonus-container").removeAttr("nonus"),jQuery("#btn-continue").length&&jQuery("#btn-continue").prop("disabled",!1)))}function checkNonUsCard(){setTimeout(function(){var e=$("#CC_NUMBER").val();null!=typeof e&&jQuery.ajax({url:"/sh/control/checkUsCredit",type:"post",data:{ccNumber:e},success:function(e,t,a){JSON.parse(a.getResponseHeader("X-Json")).isUs?jQuery("#payment-nonus-container").hasClass("nonus-hidden")||(jQuery("#payment-nonus-container").addClass("nonus-hidden"),jQuery("#payment-nonus-container").removeAttr("nonus"),jQuery("#btn-continue").length&&jQuery("#btn-continue").prop("disabled",!1)):jQuery("#payment-nonus-container").length&&jQuery("#payment-nonus-container").hasClass("nonus-hidden")&&(jQuery("#payment-nonus-container").removeClass("nonus-hidden"),jQuery("#payment-nonus-container").attr("nonus","nonus"),jQuery("#btn-continue").length&&jQuery("#btn-continue").prop("disabled",!0))},error:function(e){console.log(e)}})},600)}function cleanUpNonUsCardDialog(){jQuery("#cardNumber-error").length&&(jQuery("#cardNumber-error").remove(),jQuery(".btn").each(function(e){if("ADD NEW CARD"===jQuery(this).text())return jQuery(this).prop("disabled",!1),!1}))}function checkNonUsCardDialog(){setTimeout(function(){var e=$("#cardNumber").val();null!=typeof e&&jQuery.ajax({url:"/sh/control/checkUsCredit",type:"post",data:{ccNumber:e},success:function(e,t,a){JSON.parse(a.getResponseHeader("X-Json")).isUs?(jQuery("#cardNumber-error").length&&jQuery("#cardNumber-error").remove(),jQuery(".btn").each(function(e){if("ADD NEW CARD"===jQuery(this).text())return jQuery(this).prop("disabled",!1),!1})):jQuery("#cardNumber").length&&(jQuery("#cardNumber").after('<label id="cardNumber-error" class="error" for="cardNumber">We only accept US-based credit cards</label>'),jQuery(".btn").each(function(e){if("ADD NEW CARD"===jQuery(this).text())return jQuery(this).prop("disabled",!0),!1}))},error:function(e){console.log(e)}})},600)}