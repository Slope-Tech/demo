(function(t){var k=window.AmazonUIPageJS||window.P,n=k._namespace||k.attributeErrors,D=n?n("SocialShareWidgetAUI","AmazonUI"):k;D.guardFatal?D.guardFatal(t)(D,window):D.execute(function(){t(D,window)})})(function(t,k,n){function D(f){if(Array.isArray(f)){for(var a=0,g=Array(f.length);a<f.length;a++)g[a]=f[a];return g}return Array.from(f)}"use strict";"use strict";var V="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"===typeof Symbol&&
f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f};t.register("SocialShareWidget",function(){return function(f){function a(c){if(g[c])return g[c].exports;var e=g[c]={i:c,l:!1,exports:{}};return f[c].call(e.exports,e,e.exports,a),e.l=!0,e.exports}var g={};return a.m=f,a.c=g,a.d=function(c,e,d){a.o(c,e)||Object.defineProperty(c,e,{enumerable:!0,get:d})},a.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"});Object.defineProperty(a,
"__esModule",{value:!0})},a.t=function(c,e){if((1&e&&(c=a(c)),8&e)||4&e&&"object"==("undefined"===typeof c?"undefined":V(c))&&c&&c.__esModule)return c;var d=Object.create(null);if(a.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:c}),2&e&&"string"!=typeof c)for(var h in c)a.d(d,h,function(b){return c[b]}.bind(null,h));return d},a.n=function(c){var e=c&&c.__esModule?function(){return c.default}:function(){return c};return a.d(e,"a",e),e},a.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,
e)},a.p="",a(a.s=6)}([function(f,a,g){Object.defineProperty(a,"__esModule",{value:!0});a.isSafari=a.isCSALoaded=a.isNativeAppShareAvailable=a.isNativeWebShareAvailable=a.isMobileWeb=a.isMobileApp=a.isDesktop=a.isIOS=a.isAndroid=a.isIE=a.isAUILoaded=a.isUeAvailable=a.isClipboardAvailable=a.isRTL=a.isTwisterAsin=a.context=a.Device=void 0;var c,e=g(4);!function(a){a.Android="apan";a.IOS="apin";a.MWeb="mwn";a.Other="ud"}(c=a.Device||(a.Device={}));a.context=function(){var d=c.Other;(0,a.isMobileApp)()&&
(0,a.isAndroid)()?d=c.Android:(0,a.isMobileApp)()&&(0,a.isIOS)()?d=c.IOS:(0,a.isMobileWeb)()&&(d=c.MWeb);var b="unknown";return(0,a.isMobileApp)()?b="mshop":(0,a.isMobileWeb)()?b="mweb":(0,a.isDesktop)()&&(b="desktop"),{device:d,page:(0,a.isUeAvailable)()?k.ue_pty:"unknown",subPage:(0,a.isUeAvailable)()?k.ue_spty||k.ue_pti:"unknown",platform:b}};a.isTwisterAsin=function(){return!!k.isTwisterPage||!!k.twisterController||d};a.isRTL=function(){return"rtl"===document.dir};a.isClipboardAvailable=function(){return!!navigator.clipboard&&
(0,e.isFunction)(navigator.clipboard.writeText)};a.isUeAvailable=function(){return!!k.ue};a.isAUILoaded=function(){var a;return(0,e.isString)(null===(a=null===k||void 0===k?void 0:k.P)||void 0===a?void 0:a.AUI_BUILD_DATE)};a.isIE=function(){return(0,e.testUserAgent)(/MSIE|Trident/i)};a.isAndroid=function(){return(0,e.testUserAgent)(/android.([1-9]|[L-Z])/i)&&!(0,e.testUserAgent)(/trident|Edge/i)};a.isIOS=function(){return(0,e.testUserAgent)(/OS [1-9][0-9]*(_[0-9]*)+ like Mac OS X/i)&&!(0,e.testUserAgent)(/trident|Edge/i)};
a.isDesktop=function(){return!((0,a.isAndroid)()||(0,a.isIOS)()||(0,a.isMobileApp)()||(0,a.isMobileWeb)())};a.isMobileApp=function(){return/(Windowshop|Amazon|Amazon\.com)\//.test((0,e.getCookie)("amzn-app-id"))};a.isMobileWeb=function(){return 450>=k.screen.availWidth&&((0,e.testUserAgent)(/mobile|mini/i)||(0,a.isAndroid)()||(0,a.isIOS)())};a.isNativeWebShareAvailable=function(){return k.navigator&&(0,e.isFunction)(k.navigator.share)};a.isNativeAppShareAvailable=function(a){return a&&(0,e.isFunction)(a.share)};
a.isCSALoaded=function(){return(0,e.isFunction)(k.csa)};a.isSafari=function(){var a;return/apple/i.test(null===(a=k.navigator)||void 0===a?void 0:a.vendor)};var d=!1;(0,a.isAUILoaded)()&&k.P.when("mobile-inline-twister-critical").execute(function(){d=!0});a.default={context:a.context,isTwisterAsin:a.isTwisterAsin,isClipboardAvailable:a.isClipboardAvailable,isUeAvailable:a.isUeAvailable,isAUILoaded:a.isAUILoaded,isIE:a.isIE,isAndroid:a.isAndroid,isDesktop:a.isDesktop,isIOS:a.isIOS,isMobileApp:a.isMobileApp,
isMobileWeb:a.isMobileWeb,isNativeWebShareAvailable:a.isNativeWebShareAvailable,isNativeAppShareAvailable:a.isNativeAppShareAvailable,isCSALoaded:a.isCSALoaded,isSafari:a.isSafari,isRTL:a.isRTL}},function(f,a,g){Object.defineProperty(a,"__esModule",{value:!0});a.defaultCustomizeShareCSAData=a.defaultShareDataAttributes=a.REGEX_TO_REF_ID_AND_CHANNEL_APP=a.SSF_AUI_PACKAGE_ATTRIBUTION=a.TRUE=a.FALSE=a.EMBED_CHANNEL_REF=a.CAF_REF_PREFIX=a.CUSTOM_SHARE_OPTIONS_REF_PREFIX=a.CUSTOM_SHARE_OPTIONS_CP_CHANNEL_REF=
a.CP_CHANNEL_REF=a.RAW_CHANNEL_PREFIX=a.EMPTY_STRING=a.DEFAULT_CSA_REF_ID=a.UNKNOWN=a.CSA_DEFAULT_VALUE=a.customShareOptions=a.customize=a.CSA_HIT_TYPE=void 0;f=a.CSA_HIT_TYPE||(a.CSA_HIT_TYPE={});f.CLICK_SUCCESS="click_success";f.CLICK_ERROR="click_error";f.CLICK_CANCEL="click_cancel";f.SHARE="share";f.CUSTOMIZE_SHARE="click_customize_success";a.customize="customize";a.customShareOptions="customShareOptions";a.CSA_DEFAULT_VALUE={string:"unknown",number:0,boolean:2};a.UNKNOWN="unknown";a.DEFAULT_CSA_REF_ID=
"u_";a.EMPTY_STRING="";a.RAW_CHANNEL_PREFIX="raw:";a.CP_CHANNEL_REF="cp";a.CUSTOM_SHARE_OPTIONS_CP_CHANNEL_REF="cso_cp";a.CUSTOM_SHARE_OPTIONS_REF_PREFIX="cso";a.CAF_REF_PREFIX="caf";a.EMBED_CHANNEL_REF="eb";a.FALSE="false";a.TRUE="true";a.SSF_AUI_PACKAGE_ATTRIBUTION="SocialShareWidgetAUI";a.REGEX_TO_REF_ID_AND_CHANNEL_APP={instagram:{refId:"in",channel:"Instagram"},snap:{refId:"sn",channel:"Snapchat"},discord:{refId:"di",channel:"Discord"},viber:{refId:"vi",channel:"Viber"},telegram:{refId:"te",
channel:"Telegram"},pinterest:{refId:"pi",channel:"Pinterest"},qzone:{refId:"qz",channel:"QQ Zone"},renren:{refId:"re",channel:"Renren"},twitter:{refId:"tw",channel:"Twitter"},airdrop:{refId:"ar",channel:"AirDrop"},tencentweibo:{refId:"tc",channel:"Tencent Weibo"},wechatmoment:{refId:"wm",channel:"WeChat Moment"},line:{refId:"li",channel:"Line"},whatsapp:{refId:"wa",channel:"Whatsapp"},weibo:{refId:"si",channel:"Sina Weibo"},facebook:{refId:"fb",channel:"Facebook"}};a.defaultShareDataAttributes={isInternal:a.CSA_DEFAULT_VALUE.boolean,
isRobot:a.CSA_DEFAULT_VALUE.boolean,userAgent:a.CSA_DEFAULT_VALUE.number,platform:a.CSA_DEFAULT_VALUE.string,ingress:a.CSA_DEFAULT_VALUE.string,asin:a.CSA_DEFAULT_VALUE.string,requestId:a.CSA_DEFAULT_VALUE.string,customerId:a.CSA_DEFAULT_VALUE.string,marketplaceId:a.CSA_DEFAULT_VALUE.string};a.defaultCustomizeShareCSAData={backgroundImagePhysicalId:a.EMPTY_STRING,deviceCoverImagePhysicalId:a.EMPTY_STRING,hasQuote:a.EMPTY_STRING,isCustomizedExperienceEnabled:a.EMPTY_STRING,isCustomized:a.EMPTY_STRING}},
function(f,a,g){Object.defineProperty(a,"__esModule",{value:!0});var c=g(3);f=function(){function a(d,h,b){this.REF_PARAM_NAME="ref_";a.isValid(d)||(d=a.getDefault());this.url=new URL(d);this._refMarker=new c.default(h,b)}return a.prototype.getUpdatedUrl=function(a){var d=new URL(this.raw);return d.searchParams.set(this.REF_PARAM_NAME,a),d.toString()},Object.defineProperty(a.prototype,"raw",{get:function(){return this.url.toString()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,
"refMarker",{get:function(){return this._refMarker},enumerable:!1,configurable:!0}),a.isValid=function(a){try{new URL(a)}catch(h){return!1}return!0},a.getDefault=function(){var a,c,b=null===(a=null===k||void 0===k?void 0:k.location)||void 0===a?void 0:a.href;if(!b)return(null===(c=null===k||void 0===k?void 0:k.ue)||void 0===c?0:c.sn)?"https://"+k.ue.sn:"https://amazon.com";a=new URL(b);c=a.searchParams.has("psc")?"?psc\x3d1":"";return k.ue_pti?k.location.origin+"/dp/"+k.ue_pti+c:(a.search=c,a.href)},
a.prototype.getReturnForChannel=function(a){a=this._refMarker.getReturnForChannel(a);return this.getUpdatedUrl(a)},a.prototype.getClickForChannel=function(a){a=this._refMarker.getClickForChannel(a);return this.getUpdatedUrl(a)},Object.defineProperty(a.prototype,"return",{get:function(){return this.getUpdatedUrl(this._refMarker.return)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"click",{get:function(){return this.getUpdatedUrl(this._refMarker.click)},enumerable:!1,configurable:!0}),
a}();a.default=f},function(f,a,g){Object.defineProperty(a,"__esModule",{value:!0});var c,e=g(0),d=g(1);!function(a){a.RETURN="r";a.CLICK="cl"}(c||(c={}));f=function(){function a(a,c){if(void 0===a&&(a="ur"),void 0===c&&(c=void 0),this.PREFIX="cm_sw",this.id="",this.refId="",this.cxt={device:e.Device.Other,page:"",subPage:"",platform:d.UNKNOWN},2>a.length)throw new TypeError("refId must be 2 or more characters long");this.refId=a;this.cxt=(0,e.context)();this.treatment=c;this.generateUniqueId()}return Object.defineProperty(a.prototype,
"return",{get:function(){return this.get(c.RETURN)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"click",{get:function(){return this.get(c.CLICK)},enumerable:!1,configurable:!0}),a.prototype.getReturnForChannel=function(a){return this.PREFIX+"_"+c.RETURN+"_"+a+"_"+this.cxt.device+"_"+this.refId+"_"+(this.treatment?this.treatment+"_":"")+this.id},a.prototype.getClickForChannel=function(a){return this.PREFIX+"_"+c.CLICK+"_"+a+"_"+this.cxt.device+"_"+this.refId+"_"+this.id},a.prototype.generateUniqueId=
function(){var a,c=null===(a=null===k||void 0===k?void 0:k.ue)||void 0===a?void 0:a.rid;return c||(c=(""+Math.random().toString(36).slice(2)+Math.random().toString(36).slice(2)).substring(0,13)),this.id=c},a.prototype.get=function(a){return this.PREFIX+"_"+a+"_"+this.cxt.device+"_"+this.refId+"_"+(this.treatment?this.treatment+"_":"")+this.id},a}();a.default=f},function(f,a,g){Object.defineProperty(a,"__esModule",{value:!0});a.getDPXObject=a.getCookie=a.testUserAgent=a.truncate=a.isString=a.isEmpty=
a.isNumber=a.isFunction=void 0;a.isFunction=function(a){return"function"==typeof a};a.isNumber=function(a){return!isNaN(a)&&"number"==typeof a};a.isEmpty=function(a){return!a||!a.length};a.isString=function(a){return"string"==typeof a};a.truncate=function(a,e){void 0===a&&(a="");var c=Array(3).fill(".");return a.length>e?a.substring(0,e-3)+c.join(""):a};a.testUserAgent=function(a){if(!k&&!k.navigator)return!1;try{return a.test(k.navigator.userAgent)}catch(e){return!1}};a.getCookie=function(a){a+=
"\x3d";for(var c=document.cookie.split(";"),d=0;d<c.length;d++){for(var h=c[d];" "==h.charAt(0);)h=h.substring(1);if(0==h.indexOf(a))return h.substring(a.length,h.length)}return""};a.getDPXObject=function(){var a,e;return null===(e=null===(a=k.DetailPage)||void 0===a?void 0:a.StateController)||void 0===e?void 0:e.state};a.default={isFunction:a.isFunction,isNumber:a.isNumber,isEmpty:a.isEmpty,isString:a.isString,truncate:a.truncate,testUserAgent:a.testUserAgent,getCookie:a.getCookie,getDPXObject:a.getDPXObject}},
function(f,a,g){Object.defineProperty(a,"__esModule",{value:!0});var c=g(0),e=g(9),d=g(1);f=function(){function a(){}return a.logCountOnce=function(a){(0,c.isUeAvailable)()&&k.ue.count(a,(k.ue.count(a)||0)+1)},a.emitFullMetricName=function(a,d){var b=this;(0,c.isAUILoaded)()&&k.P.when("A").execute(function(c){c.trigger(b.BASE_METRIC_NAME+":metrics:logged",{fullMetricName:a,callee:d})})},a.logCounter=function(a,c){a=this.BASE_METRIC_NAME+"."+a+(c?"."+c:"");this.emitFullMetricName(a,"logCounter");this.logCountOnce(a)},
a.logCounterRefactor=function(a,c){c=c?"."+c.toLowerCase():"";a=""+this.BASE_METRIC_NAME+c+"."+this.platform+this.metricName+"."+a.toLowerCase();this.emitFullMetricName(a,"logCounterRefactor");this.logCountOnce(a)},a.logLoad=function(a){a=this.BASE_METRIC_NAME+"."+this.platform+this.metricName+"."+a.toLowerCase();this.logCountOnce(a)},a.logFatal=function(a){(0,c.isAUILoaded)()&&k.P.log(a,"FATAL",this.BASE_METRIC_NAME)},a.logCSAEvent=function(a,d){(0,c.isCSALoaded)()&&(new e.default).withCSAClickEventData(d).withShareHitType(a).logEvent()},
a.startTimer=function(a){this.timers[this.BASE_METRIC_NAME+"."+this.LATENCY+"."+a]=Date.now()},a.stopTimer=function(a){a=this.BASE_METRIC_NAME+"."+this.LATENCY+"."+a;var b=this.timers[a];(0,c.isUeAvailable)()&&b&&(k.ue.count(a,Date.now()-b),this.emitFullMetricName(a,"stopTimer"),delete this.timers[a])},a.BASE_METRIC_NAME="SocialShareFramework",a.LATENCY="Latency",a.platform=d.UNKNOWN,a.metricName="",a.timers={},a.getMetricName=function(b,d){var e;if(void 0===d&&(d=""),(0,c.isUeAvailable)()){var h=
(0,c.context)();a.platform=h.platform;a.metricName=d?"."+d.toLowerCase():""}return(b=b('[data-action\x3d"ssf-share-icon"]').data())?(b=(null===(e=b.ssfShareIcon)||void 0===e?void 0:e.shareDataAttributes)||{},e=b.ingress,b=b.platform,((void 0===e?"unknown":e)+"."+(void 0===b?"unknown":b)+(d?"."+d:"")).toLowerCase()):""},a}();a.default=f},function(f,a,g){Object.defineProperty(a,"__esModule",{value:!0});a.SocialShareCore=void 0;f=g(7);var c=g(2),e=g(8),d=g(5),h=g(10),b=g(3),p=g(0);g=g(1);a.SocialShareCore=
{Channels:f.default,Url:c.default,Translations:e.default,Metrics:d.default,ShareSheet:h.default,RefMarker:b.default,Detection:p.default,Constants:g};a.default=a.SocialShareCore},function(f,a,g){Object.defineProperty(a,"__esModule",{value:!0});a.default=function(a,e){var d={email:{label:"Email",name:"email",ref:"em",shareBaseUrl:"mailto:",image:"https://m.media-amazon.com/images/G/01/share-icons/email-circular.svg",imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/email-squared.svg",
canOpenInPopup:!1,getSharingUrl:function(b){var d="?subject\x3d"+encodeURIComponent(a.emailSubject||a.title),c="\x26body\x3d"+encodeURIComponent(a.title);b=encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));return""+this.shareBaseUrl+d+c+" "+b}},pi:{label:"Pinterest",name:"pinterest",ref:"pi",shareBaseUrl:"https://www.pinterest.com/pin/create/button/",image:"https://m.media-amazon.com/images/G/01/share-icons/pinterest-circular.svg",imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/pinterest-squared.svg",
canOpenInPopup:!0,getSharingUrl:function(b){b="?url\x3d"+encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));var d="\x26description\x3d"+encodeURIComponent(a.title),c="\x26media\x3d"+encodeURIComponent(a.image);return""+this.shareBaseUrl+b+d+c+"\x26method\x3dbutton"}},li:{label:"Line",name:"line",ref:"li",shareBaseUrl:"https://social-plugins.line.me/lineit/share",image:"https://m.media-amazon.com/images/G/01/share-icons/line-circular.svg",imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/line-squared.svg",
canOpenInPopup:!0,getSharingUrl:function(b){var d="?text\x3d"+encodeURIComponent(a.text)+" "+encodeURIComponent(a.title);b="\x26url\x3d"+encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));return""+this.shareBaseUrl+d+b}},fb:{label:"Facebook",name:"facebook",ref:"fa",shareBaseUrl:"https://www.facebook.com/dialog/share",image:"https://m.media-amazon.com/images/G/01/share-icons/facebook-circular.svg",imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/facebook-squared.svg",
canOpenInPopup:!0,getSharingUrl:function(b){b=["?_encoding\x3dUTF8\x26app_id\x3d465632727431967\x26display\x3dpopup","href\x3d"+encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref)),"redirect_uri\x3d"+encodeURIComponent(a.shareUrl.getReturnForChannel(this.ref).replace("_r_","_s_")),"hashtag\x3d"+encodeURIComponent("#"+(a.hashtags[0]||"Amazon"))].join("\x26");return""+this.shareBaseUrl+b}},tw:{label:"X",name:"x",ref:"tw",shareBaseUrl:"https://twitter.com/intent/tweet",image:"https://m.media-amazon.com/images/G/01/share-icons/x-circular.svg",
imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/x-squared.svg",canOpenInPopup:!0,getSharingUrl:function(b){var d="?text\x3d"+encodeURIComponent(a.title);b="\x26url\x3d"+encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));var c="\x26hashtags\x3d"+a.hashtags.join(","),e="\x26via\x3d"+encodeURIComponent("Amazon");return""+this.shareBaseUrl+d+b+c+e}},wa:{label:"WhatsApp",name:"whatsapp",ref:"wa",shareBaseUrl:"https://api.whatsapp.com/send?text\x3d",image:"https://m.media-amazon.com/images/G/01/share-icons/whatsapp-circular.svg",
imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/whatsapp-squared.svg",canOpenInPopup:!0,getSharingUrl:function(b){b="\n              "+encodeURIComponent(a.title)+"\n              "+encodeURIComponent(a.text)+"\n              "+encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));return""+this.shareBaseUrl+b}},sms:{label:"SMS",name:"sms",ref:"sms",shareBaseUrl:"sms:",image:"https://m.media-amazon.com/images/G/01/share-icons/sms-circular.svg",imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/sms-squared.svg",
canOpenInPopup:!1,getSharingUrl:function(b){b="\n              "+encodeURIComponent(a.title)+"\n              "+encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));return""+this.shareBaseUrl+b}},embed:{label:"Embed",name:"embed",ref:"eb",shareBaseUrl:"",image:"https://m.media-amazon.com/images/G/01/share-icons/embed-circular.svg",imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/embed-squared.svg",canOpenInPopup:!1,getSharingUrl:function(){return""}},copy:{label:"Copy",
name:"copy",ref:"cp",shareBaseUrl:"",image:"https://m.media-amazon.com/images/G/01/share-icons/link-circular.svg",imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/link-squared.svg",canOpenInPopup:!1,getSharingUrl:function(){return""}}};if(null==e?0:e.length){var c={};return e.forEach(function(a){d[a]&&(c[a]=d[a])}),c}return d}},function(f,a,g){Object.defineProperty(a,"__esModule",{value:!0});a.default={}},function(f,a,g){Object.defineProperty(a,"__esModule",{value:!0});var c=g(0),
e=g(1);f=function(){function a(){var c=this;this.generateTimestampCollection=function(){var a=(new Date).getTimezoneOffset();a=c.getDateTimeByOffset(a);var b=c.getDateTimeByOffset(0);return{hitDay:a.split("T")[0],hitDatetime:a,hitDatetimeUtc:b}};this.getMarketplaceId=function(a){return"string"==typeof a?a:k.ue&&k.ue.mid?k.ue.mid:e.CSA_DEFAULT_VALUE.string};var b=this.generateTimestampCollection();this.csaMetricsData={schemaId:a.CSA_SCHEMA_ID,userAgentId:e.CSA_DEFAULT_VALUE.number,hitDay:b.hitDay,
hitDatetime:b.hitDatetime,hitDatetimeUtc:b.hitDatetimeUtc,pageType:k.ue_pty?k.ue_pty:e.CSA_DEFAULT_VALUE.string,subPageType:k.ue_spty?k.ue_spty:e.CSA_DEFAULT_VALUE.string,sessionId:k.ue&&k.ue.sid?k.ue.sid:e.CSA_DEFAULT_VALUE.string}}return a.prototype.withCSAClickEventData=function(a){var b=a.shareDataAttributes;if(this.csaMetricsData.customerId=b.customerId?b.customerId:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.httpRequestId=b.requestId?b.requestId:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.asin=
b.asin?b.asin:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.ingress=b.ingress?b.ingress:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.platform=b.platform?b.platform:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.isInternal=this.getCSANumberMapping(b.isInternal),this.csaMetricsData.isRobot=this.getCSANumberMapping(b.isRobot),this.csaMetricsData.channel=a.channel?a.channel:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.refMarker=a.refMarker?a.refMarker:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.referrerUrl=
a.refererURL?a.refererURL:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.marketplaceId=this.getMarketplaceId(b.marketplaceId),this.csaMetricsData.isExperiment=/T\d+/.test(a.treatment)?"Y":"N",this.csaMetricsData.triggeredFromScreenshotToast=!!b.triggeredFromScreenshotToast&&b.triggeredFromScreenshotToast,a.weblab)b=this.csaMetricsData.shareEntities,(b=void 0===b?{}:b)[a.weblab]=a.treatment,this.csaMetricsData.shareEntities=b;a.customizeShareCSAData&&(b=this.csaMetricsData.shareEntities,b=void 0===
b?{}:b,a.customizeShareCSAData.isCustomizedExperienceEnabled===e.TRUE&&(b.backgroundImagePhysicalId=a.customizeShareCSAData.backgroundImagePhysicalId,b.deviceCoverImagePhysicalId=a.customizeShareCSAData.deviceCoverImagePhysicalId,b.hasQuote=a.customizeShareCSAData.hasQuote,b.isCustomized=a.customizeShareCSAData.isCustomized,this.csaMetricsData.shareEntities=b));a.isCustomShareOptionsSheetEnabled&&(b=this.csaMetricsData.shareEntities,(b=void 0===b?{}:b).isCustomShareOptionsSheetEnabled="1",this.csaMetricsData.shareEntities=
b);a.caf&&(b=this.csaMetricsData.shareEntities,(b=void 0===b?{}:b).cafSwitchEnabled=a.cafSwitchEnabled?e.TRUE:e.FALSE,this.csaMetricsData.shareEntities=b);return this},a.prototype.withShareHitType=function(a){return this.csaMetricsData.shareHitType=a||e.CSA_DEFAULT_VALUE.string,this},a.prototype.getCSANumberMapping=function(a){return isNaN(Number(a))?2:Number(a)},a.prototype.getDateTimeByOffset=function(c){var b=new Date;0!==c&&(c*=a.MINUTES_TO_MILISECONDS,b=b.getTime()-c,b=new Date(b));return b.toISOString().split("Z")[0].split(".")[0]},
a.prototype.logEvent=function(){(0,c.isCSALoaded)()&&k.csa(a.CSAPluginId,{producerId:a.CSA_PRODUCER_ID})(a.CSA_LOG_EVENT,this.csaMetricsData)},a.MINUTES_TO_MILISECONDS=6E4,a.CSAPluginId="Events",a.CUSTOMIZE_SHARE_ENTITY_NAME="CustomizeShare",a.CSA_PRODUCER_ID="social-share",a.CSA_LOG_EVENT="log",a.CSA_SCHEMA_ID="SocialShareCSACustomEvent.CSAShareMetrics.8",a}();a.default=f},function(f,a,g){var c=this&&this.__assign||function(){return(c=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<
d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0});var e,d=g(5),h=g(0),b=g(2),p=g(4),m=g(1);(0,h.isAUILoaded)()&&k.P.when("mash").execute(function(a){return e=a});f=function(){function a(a){this.sheetOptions={title:m.EMPTY_STRING,text:m.EMPTY_STRING,shareUrl:new b.default("http://amazon.com/","ur"),lang:"en",shareDataAttributes:m.defaultShareDataAttributes,refererURL:"",image:"",
customizeShareCSAData:m.defaultCustomizeShareCSAData,isCustomShareOptionsSheetEnabled:!1};this.sheetOptions=c(c({},this.sheetOptions),a);this.shareUrl=a.shareUrl}return a.prototype.launchNativeWeb=function(){var a,b=this,c=this.sheetOptions.shareDataAttributes.ingress,e={channel:m.EMPTY_STRING,refMarker:this.shareUrl.refMarker.click,refererURL:this.sheetOptions.refererURL,shareDataAttributes:this.sheetOptions.shareDataAttributes,customizeShareCSAData:this.sheetOptions.customizeShareCSAData},f=this.shareUrl.return;
this.sheetOptions.tinyUrl&&(f=this.sheetOptions.tinyUrl,d.default.logCounter("MWeb.Tiny.Success"),d.default.logCounterRefactor("Tiny.Success",c));var h=(0,p.isFunction)(this.sheetOptions.sheetShownCallback);try{null===(a=null===k||void 0===k?void 0:k.navigator)||void 0===a||a.share({url:f,title:this.sheetOptions.title,text:this.sheetOptions.text}).then(function(){h&&b.sheetOptions.sheetShownCallback();d.default.logCSAEvent(m.CSA_HIT_TYPE.CLICK_SUCCESS,e);d.default.logCSAEvent(m.CSA_HIT_TYPE.SHARE,
e);(0,p.isFunction)(b.sheetOptions.incrementShareCount)&&b.sheetOptions.incrementShareCount(e.refMarker);d.default.logCounterRefactor("ChannelClick",b.sheetOptions.shareDataAttributes.ingress)}).catch(function(){h&&b.sheetOptions.sheetShownCallback();d.default.logCSAEvent(m.CSA_HIT_TYPE.CLICK_SUCCESS,e);d.default.logCSAEvent(m.CSA_HIT_TYPE.CLICK_CANCEL,e)})}catch(v){d.default.logCSAEvent(m.CSA_HIT_TYPE.CLICK_ERROR,e)}},a.prototype.launchNativeApp=function(){var a=this,b=this.shareUrl.refMarker.click,
f=this.sheetOptions.shareDataAttributes,h=this.sheetOptions.refererURL,g=this.sheetOptions.customizeShareCSAData,q=this.sheetOptions.shareDataAttributes.ingress,v=m.EMPTY_STRING,k=this.sheetOptions.caf||!1,n=this.sheetOptions.cafSwitchEnabled||!1,l=this.sheetOptions.isCustomShareOptionsSheetEnabled||!1,y=this.shareUrl.return,t=(0,p.isFunction)(this.sheetOptions.incrementShareCount);this.sheetOptions.tinyUrl&&(y=this.sheetOptions.tinyUrl,d.default.logCounter("MShop.Tiny.Success"),d.default.logCounterRefactor("Tiny.Success",
q));var x={channel:v,refMarker:b,refererURL:h,shareDataAttributes:f,customizeShareCSAData:g,caf:k,cafSwitchEnabled:n,isCustomShareOptionsSheetEnabled:l};f={messagePlain:this.getShareMessage,messagePlain160:this.getShare160Message,messagePlain140:this.getShare140Message,messageHTML:this.getShareMessage,url:y,imageURL:this.sheetOptions.image,subject:this.sheetOptions.text};null==e||e.share(c(c({},f),{successCallback:function(){(0,p.isFunction)(a.sheetOptions.sheetShownCallback)&&a.sheetOptions.sheetShownCallback();
d.default.logCSAEvent(m.CSA_HIT_TYPE.CLICK_SUCCESS,x)},failCallback:function(){d.default.logCSAEvent(m.CSA_HIT_TYPE.CLICK_ERROR,x)},shareServiceSelectedCallback:function(c){c&&"'null'"!==c?((0,p.isFunction)(a.sheetOptions.channelSelectCB)&&a.sheetOptions.channelSelectCB(c),x.channel=a.getChannelByKeyword(c).channel,c=a.getChannelByKeyword(c).refId,x.refMarker=a.shareUrl.refMarker.getClickForChannel(c),d.default.logCSAEvent(m.CSA_HIT_TYPE.SHARE,x),d.default.logCounterRefactor("ChannelClick",a.sheetOptions.shareDataAttributes.ingress),
(0,p.isFunction)(a.sheetOptions.sdTooltipCallback)&&a.sheetOptions.sdTooltipCallback(),t&&a.sheetOptions.incrementShareCount(b)):("MSHOP_ANDROID"===a.sheetOptions.shareDataAttributes.platform&&t&&a.sheetOptions.incrementShareCount(b),d.default.logCSAEvent(m.CSA_HIT_TYPE.CLICK_CANCEL,x))}}))},a.prototype.launch=function(a){(0,h.isNativeAppShareAvailable)(e)?this.launchNativeApp():(0,h.isNativeWebShareAvailable)()?this.launchNativeWeb():(0,p.isFunction)(a)?a():(d.default.logCounter("Click.ShareUnavailable"),
d.default.logCounterRefactor("Click.ShareUnavailable",this.sheetOptions.shareDataAttributes.ingress))},Object.defineProperty(a.prototype,"getShare160Message",{get:function(){var a=this.sheetOptions.tinyUrl||this.shareUrl.return,b=a.length+2;return(0,p.truncate)(this.sheetOptions.title,160-b)+" "+a},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"getShare140Message",{get:function(){var a=this.sheetOptions.tinyUrl||this.shareUrl.return,b=a.length+2;return(0,p.truncate)(this.sheetOptions.title,
140-b)+" "+a},enumerable:!1,configurable:!0}),a.prototype.getRefByRegex=function(a){return m.REGEX_TO_REF_ID_AND_CHANNEL_APP[a].refId},a.prototype.getChannelByRegex=function(a){return m.REGEX_TO_REF_ID_AND_CHANNEL_APP[a].channel},a.prototype.getChannelByKeyword=function(a){var b=m.RAW_CHANNEL_PREFIX+a,c=m.DEFAULT_CSA_REF_ID,d=a.match(/instagram|snap|discord|viber|telegram|pinterest|qzone|renren|twitter|airdrop|tencentweibo|wechatmoment|line|whatsapp|weibo|^Facebook$/ig);if(d&&d.length)return{channel:this.getChannelByRegex(d[0].toLowerCase()),
refId:this.getRefByRegex(d[0].toLowerCase())};switch(!0){case /android.messaging|sms|android.apps.messaging|mms/gi.test(a):b="SMS";c="sm";break;case /outlook|mail/gi.test(a):b="Email";c="em";break;case /clipboardactivity|copy/gi.test(a):b="Copy";c="cp";break;case /facebook.composer/gi.test(a):b="Facebook";c="fb";break;case /facebook.messenger|FacebookMessenger/gi.test(a):b="FacebookMessenger";c="fm";break;case /tencent|wechat/gi.test(a):b="WeChat";c="we";break;case /unknown|null/gi.test(a):b="unknown",
c="u"}return{channel:b,refId:c}},Object.defineProperty(a.prototype,"getShareMessage",{get:function(){return this.sheetOptions.title+" "+(this.sheetOptions.tinyUrl||this.shareUrl.return)},enumerable:!1,configurable:!0}),a}();a.default=f}])});"use strict";t.register("SocialShareWidgetConfig",function(){var f=Object.freeze({MODAL:"modal",POPOVER:"popover"}),a=Object.freeze({IOS:"ios",ANDROID:"android",ARROW:"arrow",VARIABLE:"variable"});return{WIDGET_TYPE:f,WIDGET_ICON:a,excludedChannels:["sms","wa"],
lineMarketplaces:["A1VC38T7YXB528"],cnMarketplace:["AAHKV2X7AFYLW"],nonCNChannels:["fb","tw","pi"],defaultShareData:{url:"",title:location.hostname,text:"",image:"",hashtags:["Amazon"],type:f.POPOVER,lang:"en",refId:"ts",channels:[],refererURL:"",treatment:"",weblab:"",customize:!1,caf:!1,cafSwitch:!1,cafStarAlignmentLeft:!1,cafCustomShareOptionsEnabled:!1,t:{},associateLink:{},popoverPosition:"triggerBottom",popoverDistance:48,defaultCustomShareOptions:{email:{label:"Email",image:"customchannels-email.png",
ref:"em",shareUrl:"mailto:?subject\x3d{subject}\x26body\x3d{body}\x26url\x3d{url}",className:"email",stringId:"taf_customshare_email"},copy:{label:"Copy",image:"customchannels-link.png",ref:"cp",shareUrl:"",className:"custom-share-copy",stringId:"taf_customshare_copy"},more:{label:"More",image:"customchannels-more.png",ref:"",shareUrl:"",className:"custom-share-native-sheet",stringId:"taf_customshare_more"}}},defaultWidgetData:{icon:a.VARIABLE,background:!0,width:24},shareDataAttributes:{isInternal:2,
isRobot:2,userAgent:k.navigator.userAgent,platform:"DESKTOP",ingress:k.ue_pty,asin:k.ue_pti,requestId:k.ue_id,customerId:k.opts&&k.opts.customerId,marketplaceId:k.ue_mid,triggeredFromScreenshotToast:!1},iconMap:{ios:"https://m.media-amazon.com/images/G/01/share-icons/share-std.svg",android:"https://m.media-amazon.com/images/G/01/share-icons/share-android.svg",arrow:"https://m.media-amazon.com/images/G/01/share-icons/share-icon-experiment.svg"},customShareOptions:[]}});"use strict";t.when("A","SocialShareWidget",
"SocialShareWidgetTemplating","SocialShareWidgetConfig").register("SocialShareWidgetAUI",function(f,a,g,c){var e=a.SocialShareCore,d=e.Metrics,h=0,b=function(){},p=!1,m=d.getMetricName(f.$),q=f.constants.HIDE_CLASS;d.startTimer(m);d.logCounter("DPX.Desktop.ImageBlockRender");try{(function(){var a=f.$,r=e.Detection,C=e.Translations,w=e.Channels,A=e.ShareSheet,B=e.Url,v=e.Constants,F=function(a){a=a.data("share")||a.find("[data-share]").data("share");return f.extend({},c.defaultWidgetData,a)},z=a(".ssf-share-trigger"),
l=c.defaultShareData,y=F(z),P=l.url,x=a("#ac-getlink-bottomsheet"),T=a('[data-action\x3d"ssf-share-icon"]'),W=function(){var a=c.iconMap;return y.icon===c.WIDGET_ICON.ARROW?a.arrow:r.isDesktop()?a.ios:y.icon===c.WIDGET_ICON.VARIABLE?r.isIOS()?a.ios:a.android:a[y.icon]},X=function(a){a.find('[class*\x3d"ssf-multi-"]').length||a.find(".ssf-share-trigger").addClass("ssf-multi-"+Math.random().toString(36).slice(2));z=a.find('[class*\x3d"ssf-multi-"]')},K=void 0,E=void 0,G=void 0,I=void 0,M=void 0,H=void 0,
L=void 0;t.when("a-sheet").execute(function(a){return K=a});t.when("a-popover").execute(function(a){return E=a});t.when("a-modal").execute(function(a){return G=a});t.when("SocialShareWidgetTiny").execute(function(a){return L=a});var Q=function(a,b){var c=2<arguments.length&&arguments[2]!==n?arguments[2]:"ssf-share-bottom-sheet",d=l.customize||l.caf;if(!I||d)I=K.create({name:c,inlineContent:a,closeType:"icon",height:b});K.showSheet(I)},O=function(a){var b=a.type===c.WIDGET_TYPE.POPOVER&&E,d=a.type===
c.WIDGET_TYPE.MODAL&&G;a=g.build(a);K?Q(a.getBottom()):b?(b=a.getPopover(),z.hasClass("a-declarative")||(M=E.create(z,{name:"ssf-share-popover",position:l.popoverPosition,inlineContent:b,activate:"onclick",closeButton:!1,width:160,padding:"none",popoverLabel:"Share Popup",closeButtonLabel:"Close Share Popup"}).show())):d&&(b=a.getModal(),z.hasClass("a-declarative")||(H=G.create(z,{inlineContent:b,width:600}).show()))},Z=function(a){if(a.customize||a.caf)d.logCounter("webview.sharesheet.caf.background"),
d.logCounterRefactor("webview.sharesheet.caf.background",a.shareDataAttributes.ingress),t.when("mash").execute(function(a){a.addEventListener("appPause",N)})},aa=function(a){t.when("SocialShareWidgetCustomize").execute(function(b){g.build(a).getCustomize(function(c){Q(c,650,"ssf-customize-bottom-sheet");b.init(a,O,N);Z(a)})})},N=function Y(){t.when("mash").execute(function(a){a.removeEventListener("appPause",Y)});M&&E.get(z).hide();I&&K.hideSheet(I);H&&G.get(z).hide()},ba=function(){var a=l.shareDataAttributes.asin,
b=k.DetailPage;if(!b)return!1;b=b.StateController&&b.StateController.getState().current_asin;l.shareDataAttributes.asin="string"==typeof b?b:a;return a!==b},U=function(a){a.addClass("ssf-noclick");a.find(".a-spinner").removeClass(q);a.find("i").hide()},R=function(a){a.removeClass("ssf-noclick");a.find(".a-spinner").addClass(q);a.find("i").show()},D=function(b){var c=b.shareData,e=b.copyElement,h=c.shareDataAttributes,p=c.t,g=c.treatment;g=g===n?"":g;var q=c.weblab;q=q===n?"":q;b={channel:"copy",refMarker:c.shareUrl.refMarker.getClickForChannel(b.channelRef),
shareDataAttributes:h,treatment:g,weblab:q};d.logCSAEvent(v.CSA_HIT_TYPE.SHARE,b);d.logCounter("DPX.Desktop.CopySuccess");d.logCounter(m,"CopySuccess");d.logCounterRefactor("CopySuccess",h.ingress);r.isDesktop()?function(){var a=e.find(".copy-label");a.text(p.taf_copy_url_changeover);f.delay(function(){N();a.text(p.taf_copy_name)},1E3)}():(a(".ssf-feedback").show(),N())},J=function(a){d.logCSAEvent(v.CSA_HIT_TYPE.CLICK_ERROR,a);d.logCounter("DPX.Desktop.CopyFailure");d.logCounter(m,"CopyFailure");
d.logCounterRefactor("CopyFailure",l.shareDataAttributes.ingress)},S=function(a){var b=a.shareData,c=a.channelRef,d=b.shareUrl;a=b.socialLinks;a=a===n?{}:a;var e=b.isOGTEnabled;e=e===n?!1:e;c=c?d.getReturnForChannel(c):d.return;d=b.aapiBaseUrl;var f=b.shareAapiCsrfToken,m=b.tinyUrlEnabled,g=b.deeplinkInfo;g=g===n?{}:g;var p=b.shareDataAttributes.marketplaceId;return{tinyUrlEnabled:m===n?!1:m,aapiBaseUrl:d===n?"":d,shareAapiCsrfToken:f===n?"":f,marketplaceId:p===n?"":p,url:c,isOGTEnabled:e,originalUrl:a.shareframework||
b.url||c,refMarkerId:h++,deeplinkInfo:g}};a(document).delegate(".ssf-channel:not(.copy,.embed)","click",function(b){b.preventDefault();b.stopPropagation();d.logCounter("DPX.Desktop.ChannelClick");d.logCounter(m,"ChannelClick");d.logCounterRefactor("ChannelClick",l.shareDataAttributes.ingress);var c=a(this),e=c.data("key"),h=l;b=h.refererURL;var g=h.shareDataAttributes,p=h.treatment;p=p===n?"":p;var q=h.weblab;q=q===n?"":q;var x=h.builtChannels[e],u=x.ref;e=h.shareUrl.refMarker.getClickForChannel(u);
h=x.name;var y=x.getSharingUrl();d.logCSAEvent(v.CSA_HIT_TYPE.SHARE,{channel:h,refMarker:e,refererURL:b,shareDataAttributes:g,treatment:p,weblab:q});b=S({shareData:l,channelRef:u});U(c);L.fetch({data:b,callback:function(a){R(c);a&&(y=x.getSharingUrl(a),d.logCounter("Desktop.Tiny.Success"),d.logCounterRefactor("Tiny.Success",g.ingress));if("em"===u)k.open(y,"_self");else if(r.isDesktop()){a=screen.width;var b=screen.height,e="pi"===u?900:600,h=Math.min(e,.7*a);e=Math.min(e,.7*b);k.open(y,"_blank",
"toolbar\x3d0,status\x3d0,width\x3d"+h+",height\x3d"+e+",top\x3d"+(b/2-e/2)+",left\x3d"+(a/2-h/2))}else k.open(y,"_blank");N();f.trigger("ssf:event:share",l)}})});f.declarative("ssf-share-icon","click",function(b){d.logCounter("DPX.Desktop.SheetClick");d.logCounter(m,"SheetClick");if(p)return N();X(b.$currentTarget);l=f.extend(l,b.data);l.shareDataAttributes=f.extend(c.shareDataAttributes,b.data.shareDataAttributes);var e=l.shareDataAttributes.ingress;d.logCounterRefactor("SheetClick",e);if(!f.objectIsEmpty(b.data.associateLink)&&
x.length)d.logCounter("ShareIngress.GetLink.T1"),d.logCounterRefactor("ShareIngress.GetLink.T1",e),f.trigger("ac-getlink-bottomsheet-event",l);else{f.extend(C[l.lang],l.t);var h=w(l,l.channels);l.builtChannels=h;l.url=l.url.startsWith("/")?""+k.location.origin+l.url:l.url;l.shareUrl=new B(l.url,l.refId);ba()&&(l.shareUrl=new B(l.url,l.refId),l.shareUrl.url.searchParams.set("psc",1));r.isDesktop()?(l.image=l.image||a("#imgTagWrapperId img").attr("src"),O(l),d.logCounter("DPX.Desktop.SheetOpen"),d.logCounter(m,
"SheetOpen"),d.logCounterRefactor("SheetOpen",e),d.logCSAEvent(v.CSA_HIT_TYPE.CLICK_SUCCESS,{channel:v.EMPTY_STRING,refMarker:l.shareUrl.refMarker.click,refererURL:l.refererURL,shareDataAttributes:l.shareDataAttributes,treatment:l.treatment||"",weblab:l.weblab||""})):l.customize||l.caf?aa(l):(U(b.$currentTarget),h=S({shareData:l}),l=f.extend(l,{sheetShownCallback:function(){R(b.$currentTarget)}}),L.fetch({data:h,callback:function(a){l.tinyUrl=a;(new A(l)).launch(function(){O(l);d.logCounter("DPX.Desktop.SheetOpen");
d.logCounter(m,"SheetOpen");d.logCounterRefactor("SheetOpen",e);R(b.$currentTarget)})}}));r.isSafari()&&r.isDesktop()&&(h=S({shareData:l,channelRef:v.CP_CHANNEL_REF}),L.fetch({data:h,callback:function(a){d.logCounter("DPX.Desktop.TinyUrlOnSheetOpen");d.logCounter(m,"TinyUrlOnSheetOpen");d.logCounterRefactor("TinyUrlOnSheetOpen",e);P=a}}));f.trigger("ssf:event:sheetOpen",l)}});a(document).delegate(".ssf-copy,.ssf-channel.copy","click",function(b){d.logCounter("DPX.Desktop.ChannelClick");d.logCounter(m,
"ChannelClick");d.logCounterRefactor("ChannelClick",l.shareDataAttributes.ingress);b.preventDefault();var c=a(this),e=v.CP_CHANNEL_REF,h=l.shareUrl.getReturnForChannel(e);r.isSafari()&&r.isDesktop()?navigator.clipboard.writeText(P||h).then(function(){D({shareData:l,copyElement:c,channelRef:e})},function(){J(csaOptions)}):(b=S({shareData:l,channelRef:v.CP_CHANNEL_REF}),U(c),L.fetch({data:b,callback:function(a){R(c);navigator.clipboard.writeText(a||h).then(function(){D({shareData:l,copyElement:c,channelRef:e})},
function(){J(csaOptions)})}}));f.trigger("ssf:event:share",l)});a(document).delegate(".ssf-embed,.ssf-channel.embed","click",function(b){b.preventDefault();var c=l;b=c.shareDataAttributes;var e=c.treatment;e=e===n?"":e;var f=c.weblab;f=f===n?"":f;c={channel:"embed",refMarker:c.shareUrl.refMarker.getClickForChannel(v.EMBED_CHANNEL_REF),shareDataAttributes:b,treatment:e,weblab:f};d.logCSAEvent(v.CSA_HIT_TYPE.SHARE,c);d.logCounter("DPX.Desktop.ChannelClick");d.logCounter(m,"ChannelClick");d.logCounterRefactor("ChannelClick",
b.ingress);G.create(a(".ssf-channel.embed"),l.kpModalParams).show()});b=function(){z=a(".ssf-share-trigger");y=F(z);var b=y.width;if(!a(".ssf-background").length&&y.background){var c=1.4*b;c=a('\x3cdiv class\x3d"ssf-background'+(y.floatedIcon?"-float":"")+'"\x3e\x3c/div\x3e').css({width:c,height:c});z.wrap(c)}y.icon&&z.css({height:b,width:b,backgroundImage:"url("+W()+")"})};r.isIE()&&a(".ssf-share-trigger,.ssf-background").remove();f.on("a:popover:afterUpdatePosition:ssf-share-popover",function(a){a=
a.popover.$popover;var b=a.position().left-l.popoverDistance;a.find(".a-arrow-border").css({right:24,left:""});a.css({left:b})});f.on("ssf:event:trigger-share-widget",function(a){f.trigger("a:declarative:ssf-share-icon:click",{data:a,$currentTarget:(1<arguments.length&&arguments[1]!==n?arguments[1]:n)||T})});f.on("a:popover:show:ssf-share-popover",function(){return p=!0});f.on("a:popover:hide:ssf-share-popover",function(){return p=!1});f.on("a:sheet:beforeShow:ssf-customize-bottom-sheet",function(a){a.sheet.$container.css("height",
"")});b()})()}catch(u){d.logCounter("DPX.Desktop.Error"),d.logCounter(m,"Error"),d.logLoad("Error"),d.logFatal("Error loading Share Framework AUI: "+u.toString())}finally{d.logCounter("DPX.Desktop.Render"),d.logCounter(m,"Render"),d.logLoad("Render"),f.trigger("ssf:event:load"),d.stopTimer(m)}return{init:b}});"use strict";var J=function(){return function(f,a){if(Array.isArray(f))return f;if(Symbol.iterator in Object(f)){var g=[],c=!0,e=!1,d=n;try{for(var h=f[Symbol.iterator](),b;!(c=(b=h.next()).done)&&
(g.push(b.value),!a||g.length!==a);c=!0);}catch(p){e=!0,d=p}finally{try{if(!c&&h["return"])h["return"]()}finally{if(e)throw d;}}return g}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();t.when("A","SocialShareWidgetConfig","SocialShareWidget").register("SocialShareWidgetTemplating",function(f,a,g){g=g.SocialShareCore;var c=f.$,e=g.Detection.isClipboardAvailable,d=g.Detection.isDesktop,h=a.excludedChannels;e()||h.push("copy");var b=function(a){return'\x3cspan class\x3d"a-spinner a-spinner-'+
a+' a-align-center aok-hidden"\x3e\x3c/span\x3e'};return{build:function(f){var g=f.shareUrl,q=f.socialLinks,p=q===n?{}:q;q=f.shareDataAttributes;var k=f.builtChannels,C=f.kpModalParams,w=f.t;p.email=f.mailToUri;var A='\x3cspan class\x3d"a-button ssf-copy"\x3e\n        \x3cspan class\x3d"a-button-inner"\x3e\n          \x3cinput class\x3d"a-button-input" type\x3d"button"\x3e\n          \x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3e\n            \x3cdiv class\x3d"copy-label"\x3e'+w.taf_copy_tooltip+
"\x3c/div\x3e\n          \x3c/span\x3e\n        \x3c/span\x3e\n      \x3c/span\x3e";!d()&&e()&&1>c(".ssf-feedback").length&&c(document.body).append('\x3cdiv class\x3d"a-changeover ssf-feedback" style\x3d"display:none"\x3e\n          \x3cdiv class\x3d"a-changeover-inner"\x3e\n            \x3ci class\x3d"a-icon a-icon-checkmark-inverse"\x3e\x3c/i\x3e\n            \x3cstrong class\x3d"a-size-medium"\x3e'+w.taf_copy_url_changeover+"\x3c/strong\x3e\n          \x3c/div\x3e\n        \x3c/div\x3e");var B=
function(a){return{title:w["taf_"+a.name+"_tooltip"]||a.label,label:w["taf_"+a.name+"_name"]||a.label}};a.lineMarketplaces.includes(q.marketplaceId)||p.li?h.push("pi"):h.push("li");C||h.push("embed");a.cnMarketplace.includes(q.marketplaceId)&&h.push.apply(h,D(a.nonCNChannels));return{getModal:function(){var a="",c=!0,d=!1,f=n;try{for(var m=Object.entries(k)[Symbol.iterator](),q;!(c=(q=m.next()).done);c=!0){var x=J(q.value,2),r=x[0],u=x[1];if(!h.includes(r)&&"copy"!==r){var t=B(u),C=p[u.name]||u.getSharingUrl();
a+='\x3cdiv class\x3d"ssf-channel-h"\x3e\n              \x3ca class\x3d"ssf-channel a-color-base" href\x3d"'+C+'" title\x3d"'+t.title+'" data-key\x3d"'+r+'"\x3e\n                '+b("medium")+'\n                \x3ci role\x3d"img" aria-label\x3d"'+t.label+'" style\x3d"background-image: url('+u.image+')"\x3e\x3c/i\x3e\n              \x3c/a\x3e\n              \x3cspan\x3e'+t.label+"\x3c/span\x3e\n            \x3c/div\x3e"}}}catch(E){d=!0,f=E}finally{try{!c&&m.return&&m.return()}finally{if(d)throw f;
}}c=e()?'\x3cdiv class\x3d"ssf-copy-section a-box a-padding-base a-spacing-top-large"\x3e\n              \x3cdiv class\x3d"link-section"\x3e'+g.return+'\x3c/div\x3e\n              \x3cdiv class\x3d"copy-button"\x3e'+A+"\x3c/div\x3e\n          \x3c/div\x3e":"";return'\x3ch3 class\x3d"a-spacing-large"\x3e'+w.taf_share_bottom_sheet_title+"\x3c/h3\x3e"+('\x3cdiv class\x3d"ssf-h-icons"\x3e'+a+"\x3c/div\x3e")+c},getPopover:function(){var a="",c=!0,e=!1,d=n;try{for(var f=Object.entries(k)[Symbol.iterator](),
g;!(c=(g=f.next()).done);c=!0){var m=J(g.value,2),q=m[0],r=m[1];if(!h.includes(q)){var u=B(r),A=p[r.name]||r.getSharingUrl();a+='\x3cdiv class\x3d"ssf-channel-v"\x3e\n              \x3ca class\x3d"ssf-channel '+q+' a-color-base" href\x3d"'+A+'" title\x3d"'+u.title+'" data-key\x3d"'+q+'"\x3e\n                '+b("small")+'\n                \x3ci role\x3d"img" aria-label\x3d"'+u.label+'" style\x3d"background-image: url('+r.image+')"\x3e\x3c/i\x3e\n                \x3cspan class\x3d"'+q+'-label"\x3e'+
u.label+"\x3c/span\x3e\n              \x3c/a\x3e\n            \x3c/div\x3e"}}}catch(E){e=!0,d=E}finally{try{!c&&f.return&&f.return()}finally{if(e)throw d;}}return""+a},getBottom:function(){var a="",c=!0,e=!1,d=n;try{for(var f=Object.entries(k)[Symbol.iterator](),g;!(c=(g=f.next()).done);c=!0){var m=J(g.value,2),q=m[0],r=m[1];if(!h.includes(q)){var u=B(r),A=p[r.name]||r.getSharingUrl();a+='\x3cdiv class\x3d"ssf-channel-b a-padding-base"\x3e\n              \x3ca class\x3d"ssf-channel '+q+' a-color-base" href\x3d"'+
A+'" title\x3d"'+u.title+'" data-key\x3d"'+q+'"\x3e\n                '+b("medium")+'\n                \x3ci role\x3d"img" aria-label\x3d"'+u.label+'" style\x3d"background-image: url('+r.image+')"\x3e\x3c/i\x3e\n                \x3cspan class\x3d"a-size-base-plus"\x3e'+u.label+"\x3c/span\x3e\n              \x3c/a\x3e\n            \x3c/div\x3e"}}}catch(E){e=!0,d=E}finally{try{!c&&f.return&&f.return()}finally{if(e)throw d;}}return'\x3cdiv class\x3d"a-padding-base ssf-header"\x3e\n          \x3ch4\x3e'+
w.taf_share_bottom_sheet_title+'\x3c/h4\x3e\n        \x3c/div\x3e\x3cdiv class\x3d"ssf-scroll"\x3e'+a+"\x3c/div\x3e"},getCustomize:function(){var a=void 0;t.now("SocialShareWidgetCustomizeTemplate").execute(function(b){a=f.customize?b.getCustomizeBox(w):""});var c='\x3ch3 class\x3d"a-spacing-base a-spacing-top-base"\x3e'+w.taf_share_bottom_sheet_title+"\x3c/h3\x3e",e='\x3cdiv class\x3d"ssf-heading-container"\x3e\x3cimg class\x3d"ssf-back-btn" src\x3d"https://m.media-amazon.com/images/G/01/share-icons/arrow-left.svg"\x3e'+
c+"\x3c/div\x3e",d='\x3cdiv class\x3d"a-padding-base a-box ssf-cus-img ssf-no-border" style\x3d"background-image: url('+f.image+')"\x3e'+b("medium")+"\x3c/div\x3e",h=f.caf?'\x3cdiv class\x3d"a-row a-spacing-top-large'+(f.customize?"":" a-spacing-large")+'"\x3e\n          \x3cdiv class\x3d"a-column a-span9"\x3e\n            \x3cstrong class\x3d"ssf-caf-toggle-label"\x3e'+w.taf_custshare_caf_ingress+'\x3c/strong\x3e\n          \x3c/div\x3e\n          \x3cdiv class\x3d"a-column a-span3 a-text-right a-span-last"\x3e\n            \x3cdiv class\x3d"a-switch-row ssf-caf-toggle"\x3e\n          \x3cinput class\x3d"a-declarative a-switch-input" data-action\x3d"a-switch-input" name\x3d"caf" type\x3d"checkbox"\x3e\n          \x3clabel class\x3d"a-switch-label a-declarative" data-action\x3d"a-switch-label"\x3e\n            \x3cdiv class\x3d"a-switch a-declarative" data-action\x3d"a-switch"\x3e\n              \x3ca class\x3d"a-switch-control" style\x3d"transform: translateX(-1px) translateZ(0px);"\x3e\x3c/a\x3e\n            \x3c/div\x3e\n          \x3c/label\x3e\n        \x3c/div\x3e\n          \x3c/div\x3e\n        \x3c/div\x3e':
"",g='\x3cspan class\x3d"a-button a-button-primary a-spacing-top-small ssf-customize-share-btn"\x3e\n          \x3cspan class\x3d"a-button-inner"\x3e\n            \x3cinput class\x3d"a-button-input" type\x3d"button" aria-labelledby\x3d"ssf-customize-share-btn"\x3e\n            \x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"ssf-customize-share-btn"\x3e\n              '+f.shareLabel+"\n              "+b("small")+"\n            \x3c/span\x3e\n          \x3c/span\x3e\n        \x3c/span\x3e";
return'\x3cdiv class\x3d"a-padding-base ssf-customize-container-one"\x3e'+c+d+h+a+g+"\x3c/div\x3e"+(f.customize?'\x3cdiv class\x3d"a-padding-base ssf-customize-container-two aok-hidden"\x3e'+e+d+h+'\x3cdiv class\x3d"a-row a-spacing-top-base a-padding-base ssf-tabs"\x3e\x3c/div\x3e'+g+"\x3c/div\x3e":"")}}}}});"use strict";t.when("jQuery","SocialShareWidget").register("SocialShareWidgetTiny",function(f,a){var g=a.SocialShareCore.Metrics;return{fetch:function(a){var c=a.data,d=a.isAsync;d=d===n?!0:d;
var h=a.callback;a=k.location.protocol+"//";var b="application/json;charset\x3dUTF-8",p="/conversations/sharetinyurl",m={},q={},u=JSON.stringify(c);c.isOGTEnabled&&(b=new URL(c.url),b.searchParams.append("newOGT","1"),c.url=b.toString());(b=c.deeplinkInfo)&&b.isDisabled&&b.flag!=n&&(p=new URL(c.url),p.searchParams.append("nodl",b.flag),c.url=p.toString());if(c.tinyUrlEnabled)if(c.aapiBaseUrl&&c.shareAapiCsrfToken&&c.marketplaceId)p=""+a+c.aapiBaseUrl+"/api/marketplaces/"+c.marketplaceId+"/social-share/tinyurl",
u={longUrl:c.url},0<c.refMarkerId&&c.url.match(".+(?\x3d(\\/ref\x3d|ref_\x3d)([A-Za-z0-9_])+$).+")&&(u={longUrl:c.url+"_"+c.refMarkerId}),b="application/x-www-form-urlencoded",m={"Accept-Language":"en-US",Accept:'application/vnd.com.amazon.api+json; type\x3d"social-share.tinyurl/v1"',"x-api-csrf-token":c.shareAapiCsrfToken,"Content-Type":b},q={withCredentials:!0},g.startTimer("Tiny"),f.ajax(p,{type:"POST",headers:m,xhrFields:q,contentType:b,async:d,data:u,success:function(a){g.logCounter("Desktop.Tiny.Response");
g.logCounterRefactor("Tiny.Response");a.entity&&a.entity.shortUrl?h(a.entity.shortUrl.url):h(c.url);g.stopTimer("Tiny")},error:function(){g.logCounter("Desktop.Tiny.Error");g.logCounterRefactor("Tiny.Error");g.stopTimer("Tiny");h(c.url)}});else return g.logCounter("Tiny.Unavailable"),g.logCounterRefactor("Tiny.Unavailable"),h(c.url);else return h(c.url)}}});"use strict";t.when("A").register("SocialShareWidgetState",function(f){var a="social-"+k.ue_id+"-share";f.state(a,{});return{getCurrent:function(){return f.state(a)},
get:function(a){return this.getCurrent()[a]},set:function(g,c){var e=this.getCurrent();f.trigger("ssf:event:state:set",e);if(!g)return e;e[g]=c;e=f.state(a,e);f.trigger("ssf:event:state:changed",e);return e}}});"use strict";t.when("A","SocialShareWidget","SocialShareWidgetAPI","SocialShareWidgetCustomizeUtils").register("SocialShareWidgetCustomize",function(f,a,g,c){a=a.SocialShareCore;var e=f.$,d=a.ShareSheet,h=a.Url,b=a.Metrics,p=a.Constants,m=b.getMetricName(e,p.customize),q=f.constants.HIDE_CLASS,
u=function(){},r={},C=0,w=void 0,A=void 0,B=void 0;t.when("a-checkbox").execute(function(a){return A=a});t.when("a-button").execute(function(a){return w=a});try{(function(){var a=c.imageState;f.declarative("cafCheckboxAction","change",function(){B()});f.on(c.getEventName("Hide"),function(b){b.sheet.getContentContainer().remove();a.clear()});f.on(c.getEventName("Show"),function(){if(!r.caf){var a=Math.round(k.innerHeight*(700>k.innerHeight?.2:.25));c.getCustomizeImage().css({height:a})}});var F=function(b){var c=
b.productImage;b.cafSwitch||(b=new Image,b.src=c,b.onload=function(){a.productImageProperties.width=this.width;a.productImageProperties.height=this.height})},z=function(a,c){var d=e(".ssf-caf-regular-image"),h=e(".ssf-caf-image"),g=(r.cafSwitch=a)?"CAF.switchOn":"CAF.switchOff";b.logCounter(m,g);b.logCounterRefactor(g,c);f.trigger("ssf:event:caf-switch-change",a);a?(h.fadeIn(100),d.hide()):(d.fadeIn(100),h.hide())},l=function(a){var b=a.shareData,c=a.channelRef,d=b.shareUrl;a=b.isOGTEnabled;a=a===
n?!1:a;var e=b.aapiBaseUrl;e=e===n?"":e;var f=b.shareAapiCsrfToken;f=f===n?"":f;var h=b.tinyUrlEnabled;h=h===n?!1:h;var g=b.deeplinkInfo;g=g===n?{}:g;var m=b.shareDataAttributes;c=c?d.getReturnForChannel(c):d.return;d=m.marketplaceId;return{tinyUrlEnabled:h,aapiBaseUrl:e,shareAapiCsrfToken:f,marketplaceId:d===n?"":d,url:c,isOGTEnabled:a,originalUrl:b.url||c,refMarkerId:C++,deeplinkInfo:g}},y=function(a,c,g,k,u,r,A){var x=g.shareDataAttributes,y=g.url,B=x.asin,v=x.ingress;x=g.refId;e(".ssf-customize-share-btn").find(".a-spinner").addClass(q);
w(".ssf-customize-share-btn").enable();c();var C=!1;c=new URL(r===n?y:r);k&&(x=p.CAF_REF_PREFIX+"_"+x,c.searchParams.append("cafId",k),c.searchParams.append("cafASIN",u),u!==B&&b.logCounter(m,"CAF.ShareASINMismatch"),C=!0);g.shareUrl=new h(c.toString(),x);var O=l({shareData:g});t.when("SocialShareWidgetTiny").execute(function(c){c.fetch({data:O,callback:function(c){g.tinyUrl=c;A&&A();c=f.extend({channelSelectCB:function(){k&&f.trigger("ssf:event:caf-share-complete-success",g)},cafSwitchEnabled:C},
g);(new d(c)).launch(function(){f.delay(function(b){a(g)},100);k?(b.logCounter(m,"CAF.ShareSheetOpen"),b.logCounterRefactor("CAF.ShareSheetOpen",v)):(b.logCounter(m,"ShareSheetOpen"),b.logCounterRefactor("ShareSheetOpen",v))})}})})},P=function(b,c){if(a.isEmpty())return c({});var d=encodeURIComponent(a.currentImage);g.build(b).externalizeImage(d,c)};u=function(d,k,u){var l=d,v=l.shareDataAttributes,x=l.treatment,C=x===n?"":x;l=l.weblab;var T=l===n?"":l,M=v.ingress;r={productImage:d.productImage||
d.image,rating:d.starRating,caf:d.caf,cafSwitch:d.cafSwitch,text:d.t.taf_custshare_caf_recipientemoji};var H=function(a){b.logCounter(m,a);b.logCounterRefactor(a,M)};B=function(){var a=A(".ssf-caf-toggle");z(a.isChecked(),M)};a.currentImage=c.getImage(r);c.setImage(c.getImage(r));F(r);z(r.cafSwitch,M);e(".ssf-customize-share-btn").click(function(){w(".ssf-customize-share-btn").isEnabled()&&(e(".ssf-customize-share-btn").find(".a-spinner").removeClass(q),w(".ssf-customize-share-btn").disable(),r.cafSwitch?
(H("CAF.shareClick"),b.startTimer("CAF.fetchCAFAndTinyURL"),d.title=(d.t["taf-share-caf-messageprefix"]||"")+" "+d.title,g.build(d).fetchCAFID(function(a,c,e){y(k,u,d,a,c,e,function(){b.stopTimer("CAF.fetchCAFAndTinyURL")})})):function(){var e=c.getCSAData(d,a);H("shareClick");"true"===e.isCustomized&&H("shareClickCustomized");P(d,function(a){if((a=a.entity)&&a.physicalId){H("externalizeImageSuccess");var c=new URL(d.url);c.searchParams.append("cspi",a.physicalId);d.shareUrl=new h(c.toString(),d.refId,
d.customize?"T3":n)}d=f.extend({customizeShareCSAData:e},d);b.logCSAEvent(p.CSA_HIT_TYPE.CUSTOMIZE_SHARE,{channel:p.EMPTY_STRING,refMarker:d.shareUrl.refMarker.click,shareDataAttributes:v,treatment:C,weblab:T,customizeShareCSAData:e});y(k,u,d)})}())});e("#ssf-customize-share").click(function(){var a=this;w(this).isEnabled()&&(H("CustomizeButtonClick"),w(this).disable(),g.build(d).fetchTabs(function(b){t.now("SocialShareWidgetCustomizeTemplate").execute(function(c){e(".ssf-tabs").html(c.getTabs(d,
b));w(a).enable();b.forEach(function(a){var b="input[type\x3dradio][name\x3d"+a.id+"]";e(b).change(function(a){a=JSON.parse(a.target.value);L(a);e(b).unbind("click");e(this).one("click",function(a){a=a.target;a.checked=!1;a=JSON.parse(a.value);Q(a)})})})});c.transitionToCustomizePage()}))});var L=function(b){c.setImage();c.showImageSpinner();a.set(b);var e=c.getImageData(d,a);H(b.id+"Select");g.build(d).generateImage(e,function(b){(b=b.entity)&&"SUCCEEDED"===b.status&&(b=b.customizedImage.url,a.currentImage=
b,F({productImage:b}),c.setImage(b),c.hideImageSpinner(),c.getCustomizeImage().removeClass("a-box"))})},Q=function(b){c.setImage();c.showImageSpinner();H(b.id+"Unselect");a.unset(b);a.isEmpty()?(b=c.getImage(r),a.currentImage=b,c.setImage(b),c.hideImageSpinner(),c.getCustomizeImage().addClass("a-box")):(b=c.getImageData(d,a),g.build(d).generateImage(b,function(b){(b=b.entity)&&"SUCCEEDED"===b.status&&(b=b.customizedImage.url,a.currentImage=b,F({productImage:b}),c.setImage(b),c.hideImageSpinner())}))};
e(".ssf-back-btn").click(function(){b.logCounter("BackButtonClick");c.transitionToDefaultPage();a.clear();c.setImage(c.getImage(r))});t.when("a-checkbox").execute(function(a){e(".ssf-caf-toggle-label").click(function(){var b=a(".ssf-caf-toggle");b.check(!b.isChecked())})})}})()}catch(v){b.logCounter(m,"Error"),b.logLoad("Error"),b.logFatal("Error loading Customize widget, Share Framework AUI: "+v.toString())}finally{b.logCounter(m,"Render"),b.logLoad("Render")}return{init:u}});"use strict";t.when("A").register("SocialShareWidgetCustomizeTemplate",
function(f){var a=function(a){return'\x3cul class\x3d"ssf-options-box-container a-unordered-list a-nostyle"\x3e'+a.values.map(function(c,b){var d=f.extend(c,{id:a.id}),e={id:a.id,position:b,val:d,background:c.url};a.isQuote&&(e=f.extend(e,{center:!0,width:150,content:d.displayText,background:n}));d=e.id;b=e.position;c=e.content;c=c===n?"":c;var g=e.width,h=g===n?100:g,k=e.background;g=e.center;g=g===n?!1:g;e=e.val;h='style\x3d"width: '+h+"px;background-image: url("+(k===n?"":k)+");background-size: "+
h+"px "+h+'px;"';k=JSON.stringify(e);b=d+b;e=e.label||"";var t='\x3cspan class\x3d"aok-offscreen"\x3e'+e+"\x3c/span\x3e";g&&(t='\x3cspan class\x3d"a-box-inner a-text-center ssf-q-text"\x3e'+c+"\x3c/span\x3e");return'\x3cli class\x3d"ssf-options-box" aria-label\x3d\''+e+"'\x3e\n              \x3cinput id\x3d\""+b+'" type\x3d"radio" name\x3d"'+d+"\" value\x3d'"+k+"' aria-label\x3d'"+e+"'\x3e\x3c/input\x3e\n              \x3clabel for\x3d\""+b+'" class\x3d"a-box a-text-normal" '+h+"\x3e"+t+"\x3c/label\x3e\n            \x3c/li\x3e"}).join("")+
"\x3c/ul\x3e"},g=function(a){var c=2<arguments.length&&arguments[2]!==n?arguments[2]:!1;return'\x3cli class\x3d"a-tab-heading '+(c?"a-active":"")+'" data-a-tab-name\x3d"ssf-tab-'+a+'" role\x3d"presentation"\x3e\n              \x3ca href\x3d"#" role\x3d"tab" aria-selected\x3d"'+(c?"true":"false")+'" '+(c?"":'tabindex\x3d"-1"')+"\x3e"+(1<arguments.length&&arguments[1]!==n?arguments[1]:"")+"\x3c/a\x3e\n            \x3c/li\x3e"},c=function(a){return'\x3cdiv data-a-name\x3d"ssf-tab-'+a+'" class\x3d"ssf-tab-'+
a+" a-box a-box-tab a-tab-content "+(3<arguments.length&&arguments[3]!==n&&arguments[3]?"":"a-hidden")+'" role\x3d"tabpanel" tabindex\x3d"0"\x3e\n              \x3ch4 class\x3d"a-text-normal a-spacing-base"\x3e'+(2<arguments.length&&arguments[2]!==n?arguments[2]:"")+"\x3c/h4\x3e\n              "+(1<arguments.length&&arguments[1]!==n?arguments[1]:"")+"\n            \x3c/div\x3e"},e=function(){return(0<arguments.length&&arguments[0]!==n?arguments[0]:[]).map(function(a){a=a.replace(/"|”|“/g,"");return{displayText:"“"+
a+"”",value:a}})};return{getTabs:function(d,f){var b=d.popularHighlightStrings;if(!f.length)return"";var h="",m="",q=-1;f.forEach(function(d,f){d.isQuote&&(d.values=e(b));if(!d.values.length)return"";-1===q&&(q=f);f=f===q;h+=g(d.id,d.heading,f);m+=c(d.id,a(d),d.text,f)});return'\x3cdiv class\x3d"a-tab-container a-size-small"\x3e'+('\x3cul data-action\x3d"a-tabs" class\x3d"a-tabs a-declarative" role\x3d"tablist" data-a-tabs\x3d\'{"name": "customize-tabs"}\'\x3e\n        '+h+"\x3c/ul\x3e"+m)+"\x3c/div\x3e"},
getCustomizeBox:function(a){return'\x3cdiv class\x3d"a-box a-color-alternate-background a-spacing-top-large a-padding-base ssf-customize-box"\x3e\n      '+('\x3ch5 class\x3d"a-size-small a-spacing-micro"\x3e'+a.taf_custshare_customizelong+"\x3c/h5\x3e")+('\x3cp class\x3d"a-size-small a-color-secondary"\x3e'+a.taf_custshare_customizedesc+"\x3c/p\x3e")+('\x3cspan class\x3d"a-button a-button-small" id\x3d"ssf-customize-share"\x3e\n      \x3cspan class\x3d"a-button-inner"\x3e\n        \x3cbutton class\x3d"a-button-text" type\x3d"button"\x3e'+
a.taf_custshare_customizeshort+"\x3c/button\x3e\n      \x3c/span\x3e\n    \x3c/span\x3e")+"\n    \x3c/div\x3e"},getBackArrow:function(a){a=a["taf-share-general-gobacktopage"]||"";return'\x3cbutton type\x3d"button" class\x3d"ssf-back-btn" aria-label\x3d"'+a+'" tabindex\x3d"0"\x3e'+('\x3cimg src\x3d"https://m.media-amazon.com/images/G/01/share-icons/arrow-left.svg" alt\x3d"'+a+'"\x3e')+"\x3c/button\x3e"},tabsContainer:'\x3cdiv class\x3d"a-row a-spacing-top-base a-padding-base ssf-tabs"\x3e\x3c/div\x3e'}});
"use strict";t.when("A","SocialShareWidget").register("SocialShareWidgetCustomizeUtils",function(f,a){function g(a){var b=a.values,c=b.BackgroundImageTab,d=b.DeviceCoverImageTab;b=b.BookQuotesTab;var e=a.productImageProperties;a=e.width;e=e.height;return{bgId:(c===n?{}:c).physicalId||"",deviceId:(d===n?{}:d).physicalId||"",quoteValue:(b===n?{}:b).value||"",width:a===n?"":a,height:e===n?"":e}}var c=f.constants.HIDE_CLASS,e=f.$,d=a.SocialShareCore.Constants;return{getImage:function(a){var b=a.productImage;
a=a.rating;var c=b.match(/([\w\d_+-]*)\.?[^\\\/]*$/i),d=c[1],e=b.match(/\.[0-9a-z]+$/i)[0];return""+b.replace(c[0],"")+d+"._SR450,315_AC_SR450,180,0,C_SR450,250,0,T_PIStarRating"+a+",TopLeft,290,205"+e},getEventName:function(a){return"a:sheet:after"+a+":ssf-customize-bottom-sheet"},getCustomizeImage:function(){return e(".ssf-cus-img")},showImageSpinner:function(){this.getCustomizeImage().find(".a-spinner").removeClass(c)},hideImageSpinner:function(){this.getCustomizeImage().find(".a-spinner").addClass(c)},
setImage:function(a){this.getCustomizeImage().css("background-image",'url("'+a+'")')},transitionToCustomizePage:function(){e(".ssf-customize-container-one").addClass(c);e(".ssf-customize-container-two").removeClass(c).addClass("ssf-customize-transition")},transitionToDefaultPage:function(){e(".ssf-customize-container-two").addClass(c);e(".ssf-customize-container-one").removeClass(c).addClass("ssf-customize-transition-back")},getImageData:function(a,b){b=g(b);return{productImageUrl:a.productImage,
starRating:a.starRating||"",numberOfReviews:a.numberOfReviews||"",backgroundImagePhysicalId:b.bgId,deviceCoverImagePhysicalId:b.deviceId,bookQuote:b.quoteValue,productImageWidth:b.width,productImageHeight:b.height}},getCSAData:function(a,b){b=g(b);var c=d.TRUE,e=d.FALSE;return{backgroundImagePhysicalId:b.bgId,deviceCoverImagePhysicalId:b.deviceId,hasQuote:0<b.quoteValue?c:e,isCustomizedExperienceEnabled:a.customize?c:e,isCustomized:b.bgId||b.deviceId||b.quoteValue?c:e}},imageState:{clear:function(){this.values=
{}},isEmpty:function(){return e.isEmptyObject(this.values)},values:{},unset:function(a){delete this.values[a.id]},set:function(a){this.values[a.id]=a},currentImage:"",productImageProperties:{width:0,height:0}}}});"use strict";t.when("A").register("SocialShareWidgetCAFTemplate",function(f){var a=f.capabilities.rtl,g=function(a){var b=1<arguments.length&&arguments[1]!==n?arguments[1]:"";a=a.startsWith("http")?a:"https://m.media-amazon.com/images/G/01/share-icons/"+a;return'\x3cimg class\x3d"'+b+'" src\x3d"'+
a+'"/\x3e'},c=function(){return'\x3cspan class\x3d"a-size-mini ssf-rating-count"\x3e'+(0<arguments.length&&arguments[0]!==n?arguments[0]:"")+"\x3c/span\x3e"},e=function(){return'\x3cp class\x3d"a-size-base a-spacing-micro ssf-caf-text"\x3e'+(0<arguments.length&&arguments[0]!==n?arguments[0]:"")+"\x3c/p\x3e"},d=function(a){return'\x3cdiv class\x3d"ssf-caf-p-image"\x3e'+g(a.productImage)+"\x3c/div\x3e"},h=function(b){var d=b.starRating,e=b.numberOfReviews;b=b.cafStarAlignmentLeft;d=g("RIO"+(d===n?"ZERO":
d)+(a?"r":"")+".png","ssf-caf-stars");e=c(e);return'\x3cdiv class\x3d"ssf-caf-rating"\x3e\n              \x3cdiv class\x3d"'+(b?"ssf-caf-rating-left":"ssf-caf-rating-right")+'"\x3e\n                '+d+e+"\n              \x3c/div\x3e\n            \x3c/div\x3e"};return{cafToggle:'\x3cdiv class\x3d"a-checkbox a-declarative a-checkbox-fancy ssf-caf-toggle" data-action\x3d"cafCheckboxAction"\x3e\n      \x3clabel\x3e\n        \x3cinput class\x3d"a-declarative" name\x3d"caf" type\x3d"checkbox"\x3e\n        \x3ci class\x3d"a-icon a-icon-checkbox"\x3e\x3c/i\x3e\n      \x3c/label\x3e\n    \x3c/div\x3e\n  ',
getCAFImageSection:function(b){var c=b.starRating,f=b.numberOfReviews,q=b.cafStarAlignmentLeft,k=d({productImage:b.productImage});c=h({starRating:c,numberOfReviews:f,cafStarAlignmentLeft:q});k='\x3cdiv class\x3d"a-box" role\x3d"img"\x3e\n              '+('\x3cdiv class\x3d"a-padding-base ssf-caf-regular-image"\x3e\n              '+k+"\n              "+c+"\n            \x3c/div\x3e");c=b.starRating;q=c===n?"ZERO":c;f=b.t;var r=b.numberOfReviews,t=b.cafStarAlignmentLeft;c=d({productImage:b.productImage});
q=h({starRating:q,numberOfReviews:r,cafStarAlignmentLeft:t});r=a?"r":"";f=e(f.taf_custshare_caf_recipientemoji);r=g("caf-emojis"+r+".png","ssf-caf-emojis");return k+('\x3cdiv class\x3d"a-padding-base ssf-caf-image"\x3e\n              \x3cdiv class\x3d"a-row ssf-caf-image-stickers"\x3e'+c+('\x3cdiv class\x3d"a-column ssf-caf-stickers"\x3e'+f+r+"\x3c/div\x3e")+"\x3c/div\x3e\n              "+q+"\n            \x3c/div\x3e")+'\n              \x3cdiv class\x3d"a-color-secondary a-padding-base ssf-product-title-text"\x3e\n                \x3cspan\x3e\n                  '+
b.title+"\n                \x3c/span\x3e\n              \x3c/div\x3e\n            \x3c/div\x3e"},getToggleContainer:function(a){return'\x3cdiv class\x3d"a-row a-spacing-top-medium a-spacing-small"\x3e\n      \x3cdiv class\x3d"a-column"\x3e\x3cdiv class\x3d"a-checkbox a-declarative a-checkbox-fancy ssf-caf-toggle" data-action\x3d"cafCheckboxAction"\x3e\n      \x3clabel\x3e\n        \x3cinput class\x3d"a-declarative" name\x3d"caf" type\x3d"checkbox"\x3e\n        \x3ci class\x3d"a-icon a-icon-checkbox"\x3e\x3c/i\x3e\n      \x3c/label\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n      \x3cdiv class\x3d"a-column"\x3e\n        \x3csmall class\x3d"ssf-caf-toggle-label"\x3e'+
a.taf_custshare_caf_ingress+"\x3c/small\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e"}}});"use strict";t.when("jQuery","SocialShareWidget").register("SocialShareWidgetAPI",function(f,a){a=a.SocialShareCore;var g=a.Constants,c=a.Metrics,e=k.location.protocol+"//",d=c.getMetricName(f,g.customize),h=Object.freeze({GET:"GET",POST:"POST",PUT:"PUT"}),b=Object.freeze({generateImage:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.custom.ssapis.product.generate.customized.image.response/v1"',
externalizeImage:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.custom.ssapis.product.externalize.customized.image.response/v1"',fetchTabs:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.custom.ssapis.product.shareable.attributes.response/v1"',fetchCAFID:'application/vnd.com.amazon.api+json; type\x3d"aapi.consultafriendcontracts.custom.consult-a-friend.feedback-request.response/v1"'}),p=function(a){return(a=a.entity)&&"SUCCEEDED"===a.status?
a.tabs.map(function(a){var b={id:a.id,heading:a.shortDisplayName,text:a.longDisplayName,isQuote:!0};a.params&&(b.values=Object.values(a.params)[0],b.isQuote=!1);return b}):[]};return{build:function(a){var k=a.shareAapiCsrfToken,m=a.locale,r=a.cafAapiCsrfToken,C=a.productType,w=a.shareDataAttributes,A=w.marketplaceId,B=w.asin,v=w.ingress,F=e+a.aapiBaseUrl,z=function(a){return F+"/custom/socialshareapicontracts/marketplaces/"+A+"/products/"+B+"/shareframework/"+a},l=function(a){var b=a.async;f.ajax({url:a.url,
type:a.type,async:b===n?!0:b,data:a.data,headers:{"Accept-Language":m,Accept:a.accept,"x-api-csrf-token":a.cafToken||k,"Content-Type":"application/x-www-form-urlencoded"},xhrFields:{withCredentials:!0},success:a.success,error:a.error})};return{generateImage:function(a,e){var f=z("generatecustomizedimage");l({url:f,type:h.POST,data:a,accept:b.generateImage,success:function(a){c.logCounter(d,"generateCustomizeImageSuccess");c.logCounterRefactor("generateCustomizeImageSuccess",v);e(a)},error:function(a){c.logCounter(d,
"generateCustomizeImageFail");c.logCounterRefactor("generateCustomizeImageFail",v);e(a)}})},externalizeImage:function(a,e){a=z("externalizecustomizedimage?customizedImageUrl\x3d"+a);l({url:a,type:h.PUT,accept:b.externalizeImage,success:function(a){e(a)},error:function(){c.logCounter(d,"externalizeImageFail");c.logCounterRefactor("externalizeImageFail",v);e({})}})},fetchTabs:function(a){var e=z("productshareableattributes?locale\x3d"+m+"\x26type\x3d"+C);l({url:e,type:h.GET,accept:b.fetchTabs,success:function(b){c.logCounter(d,
"FetchTabsSuccess");c.logCounterRefactor("FetchTabsSuccess",v);a(p(b))},error:function(){c.logCounter(d,"FetchTabsFail");c.logCounterRefactor("FetchTabsFail",v);a([])}})},fetchCAFID:function(e){var f=1<arguments.length&&arguments[1]!==n?arguments[1]:!0,k=F+"/custom/consultafriendcontracts/marketplaces/"+A+"/consultafriend/feedback-request/"+B;c.logCounter(d,"CAF.createCAFID.called");c.logCounterRefactor("CAF.createCAFID.called",v);l({url:k,type:h.POST,accept:b.fetchCAFID,async:f,cafToken:r,success:function(b){e(b.entity&&
b.entity.cafId,B,a.url)},error:function(a){c.logCounter(d,"CAF.createCAFID.failed");c.logCounterRefactor("CAF.createCAFID.failed",v);t.log("Error Creating CAF Id. Error Code: "+a.status+". Error Response: "+a.responseText,"ERROR",g.SSF_AUI_PACKAGE_ATTRIBUTION);e()}})}}}}});"use strict";t.when("A","SocialShareWidget").register("SocialShareWidgetCustomShareOptionsTemplate",function(f,a){var g=f.capabilities.rtl,c=a.SocialShareCore.Detection.isAndroid(),e=void 0,d=f.constants.HIDE_CLASS;t.when("mash").execute(function(a){return e=
a});var h=function(a,c){if(!e)return c([]);var d=a.length,f=[];a.forEach(function(a){b(a,function(a,b){d--;b&&(f[a.label.toLowerCase()]=a);(3<=f.length||0>=d)&&c(f)})})},b=function(a,b){var d="whatsapp"===a.label.toLowerCase()&&c;e.canLaunchIntentURL({url:a.schemeURI,successCallback:function(c){if(d)return b(a,!0);b(a,c)},failCallback:function(){if(d)return b(a,!0);b(a,!1)}})},k=function(a){var b=1<arguments.length&&arguments[1]!==n?arguments[1]:"";a=a.startsWith("http")?a:"https://m.media-amazon.com/images/G/01/share-icons/"+
a;return'\x3cimg class\x3d"'+b+'" src\x3d"'+a+'" /\x3e'},m=function(){return'\x3cspan class\x3d"a-size-mini ssf-rating-count"\x3e'+(0<arguments.length&&arguments[0]!==n?arguments[0]:"")+"\x3c/span\x3e"};return{getChannelsHtml:function(a,b){var g="";h(a.customShareOptions,function(h){h=f.extend(h,a.defaultCustomShareOptions);a.customShareBuiltChannels=h;for(var k in h)if(!("more"===k&&!e||"copy"===k&&c)){var m=g;var q=a;var p=h[k],r=p.stringId,t=p.className,l=p.label;p="https://m.media-amazon.com/images/G/01/share-icons/"+
p.image;q='\x3cli class\x3d"ssf-custom-share-option '+(t===n?"":t)+'"  data-name\x3d"'+l.toLowerCase()+'"\x3e\n                    \x3cdiv class\x3d"ssf-custom-share-spinner"\x3e\n                        '+('\x3cspan class\x3d"a-spinner a-spinner-medium a-align-center '+d+'"\x3e\x3c/span\x3e')+'\n                        \x3cimg src\x3d"'+p+'" title\x3d"'+l+'" /\x3e\n                    \x3c/div\x3e\n                    \x3cspan class\x3d"label a-size-small"\x3e'+(q.t[r]||l)+"\x3c/span\x3e\n                 \x3c/li\x3e";
g=m+q}b('\x3cdiv class\x3d"ssf-custom-channels-container a-color-base-background"\x3e\x3cdiv class\x3d"ssf-no-border"\x3e\x3cul class\x3d"ssf-custom-share-options-container a-unordered-list a-nostyle"\x3e'+g+"\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e")})},getPreviewImage:function(a){var b=a.starRating,c=a.numberOfReviews,d=g?"r":"";a='\x3cdiv class\x3d"ssf-cso-p-image ssf-regular"\x3e'+k(a.productImage,"ssf-regular")+"\x3c/div\x3e";b=b?k("RIO"+b+d+".png","ssf-caf-stars"):"";c=m(c);return'\x3cdiv class\x3d"ssf-cso-p-image"\x3e'+
a+('\x3cdiv class\x3d"ssf-cso-stickers ssf-regular"\x3e'+b+c+"\x3c/div\x3e")+"\x3c/div\x3e"}}});"use strict";t.when("A","SocialShareWidget","SocialShareWidgetAPI").register("SocialShareWidgetCustomShareOptions",function(f,a,g){a=a.SocialShareCore;var c=void 0,e=void 0,d=f.$,h=a.ShareSheet,b=a.Metrics,p=a.Constants;b.getMetricName(d,p.customShareOptions);var m=a.Url,q=!1,u=f.constants.HIDE_CLASS;t.when("mash").execute(function(a){return e=a});t.when("SocialShareWidgetTiny").execute(function(a){return c=
a});t.when("a-checkbox").execute(function(a){return a});var r=function(a,b){a&&f.trigger("ssf:event:caf-share-complete-success",b)},C=function(a,b,c){var d=b.shareUrl,e=encodeURIComponent(a.title+" \n "+c);return"Messages"==b.label&&f.capabilities.ios?"sms:///\x26body\x3d"+e:"Email"==b.label?d=d.replace("\x26url\x3d{url}","").replace("{subject}",encodeURIComponent(a.emailSubject)).replace("{body}",""+e):d=d.replace("{text}",encodeURIComponent(a.title)).replace("{url}",c)},w=function(a,b,c){g.build(a).fetchCAFID(c,
b)};return{init:function(a,g,v,F,z,l){var y=a.shareDataAttributes;g=a.incrementShareCount;var A=g===n?null:g;g=a.treatment;var x=g===n?"":g;g=a.weblab;var B=g===n?"":g;g=a.refererURL;var D=g===n?"":g,J=a.ingress,K=new URL(a.url);d(".custom-share-native-sheet").unbind("click").click(function(c){v();I(p.EMPTY_STRING,a,!0,function(c,d){a.tinyUrl=c;c=f.extend({channelSelectCB:function(){r(d,a)},cafSwitchEnabled:q},a);(new h(c)).launch(function(){b.logCounterRefactor("customShareOptions.SheetOpen",J)})})});
d(".custom-share-copy").unbind("click").click(function(b){var c=p.CUSTOM_SHARE_OPTIONS_CP_CHANNEL_REF,e=a.caf,f=d(this);E(f);I(c,a,!1,function(b,d){navigator.clipboard.writeText(b).then(function(){z({shareData:a,channelRef:c,caf:e,cafSwitchEnabled:q});r(d,a);G(f)},function(){l({shareData:a,channelRef:c,caf:e,cafSwitchEnabled:q});G(f)})})});f.on("ssf:event:caf-switch-change",function(a){q=a});d(".ssf-custom-share-option:not(.custom-share-copy,.custom-share-native-sheet)").unbind("click").click(function(c){var f=
d(this);c=a.customShareBuiltChannels;var g=a.isCustomShareOptionsSheetEnabled,h=g===n?!1:g;g=a.caf;var l=g===n?!1:g,m=f.data("name"),u=c[m];c=p.CUSTOM_SHARE_OPTIONS_REF_PREFIX+"_"+u.ref;var w=a.shareUrl.refMarker.getClickForChannel(c);E(f);I(c,a,!0,function(c,d){var g=C(a,u,c);e?e.launchIntentURL({url:g,successCallback:function(){G(f);v();b.logCounterRefactor("ChannelClick",y.ingress);"function"===typeof A&&A(w);r(d,a);b.logCSAEvent(p.CSA_HIT_TYPE.SHARE,{channel:m,refMarker:w,refererURL:D,shareDataAttributes:y,
treatment:x,weblab:B,isCustomShareOptionsSheetEnabled:h,caf:l,cafSwitchEnabled:q})},failCallback:function(){G(f);v();b.logCSAEvent(p.CSA_HIT_TYPE.CLICK_ERROR,{channel:m,refMarker:w,refererURL:D,shareDataAttributes:y,treatment:x,weblab:B,isCustomShareOptionsSheetEnabled:h,caf:l,cafSwitchEnabled:q});t.log("Failed to launch intent URL "+g,p.SSF_AUI_PACKAGE_ATTRIBUTION);b.logCounterRefactor("customShareOptions.LaunchShareIntentFail",a.shareDataAttributes.ingress)}}):(G(f),b.logCSAEvent(p.CSA_HIT_TYPE.SHARE,
{channel:m,refMarker:w,refererURL:D,shareDataAttributes:y,treatment:x,weblab:B,isCustomShareOptionsSheetEnabled:h,caf:l,cafSwitchEnabled:q}),v(),k.open(K,"_blank"))})});var E=function(a){a.addClass("ssf-noclick");a.find(".a-spinner").removeClass(u)},G=function(a){a.removeClass("ssf-noclick");a.find(".a-spinner").addClass(u)},I=function(a,d,e,f){var g=d.refId;q?(b.logCounterRefactor("CAF.shareChannelClick",J),b.startTimer("CAF.fetchCAFAndTinyURL"),d.title=(d.t["taf-share-caf-messageprefix"]||"")+" "+
d.title,g=p.CAF_REF_PREFIX+"_"+g,w(d,e,function(h,k,l){l=new URL(d.url);h&&l.searchParams.append("cafId",h);k&&l.searchParams.append("cafASIN",k);d.shareUrl=new m(l.toString(),g);tinyUrlData=F({shareData:d,channelRef:a});c.fetch({data:tinyUrlData,isAsync:e,callback:function(a){b.stopTimer("CAF.fetchCAFAndTinyURL");f(a,h)}})})):(d.shareUrl=new m(K.toString(),d.refId),tinyUrlData=F({shareData:d,channelRef:a}),c.fetch({data:tinyUrlData,isAsync:e,callback:function(a){f(a)}}))}}}});"use strict"});