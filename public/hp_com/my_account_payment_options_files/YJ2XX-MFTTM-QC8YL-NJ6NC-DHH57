/*
 * Copyright (c) 2011, Yahoo! Inc.  All rights reserved.
 * Copyright (c) 2011-2012, Log-Normal, Inc.  All rights reserved.
 * Copyright (c) 2012-2017, SOASTA, Inc. All rights reserved.
 * Copyright (c) 2017-2022, Akamai Technologies, Inc. All rights reserved.
 * Copyrights licensed under the BSD License. See the accompanying LICENSE.txt file for terms.
 */
/* Boomerang Version: 1.792.0 e2ad31965b3add033aa3d32556a8d4f0cf9b8e56 */

BOOMR_start=(new Date).getTime();function BOOMR_check_doc_domain(e){if(window){if(!e){if(window.parent===window||!document.getElementById("boomr-if-as"))return;if(window.BOOMR&&BOOMR.boomerang_frame&&BOOMR.window)try{BOOMR.boomerang_frame.document.domain!==BOOMR.window.document.domain&&(BOOMR.boomerang_frame.document.domain=BOOMR.window.document.domain)}catch(t){BOOMR.isCrossOriginError(t)||BOOMR.addError(t,"BOOMR_check_doc_domain.domainFix")}e=document.domain}if(e&&-1!==e.indexOf(".")&&window.parent){try{window.parent.document;return}catch(t){try{document.domain=e}catch(n){return}}try{window.parent.document;return}catch(t){e=e.replace(/^[\w\-]+\./,"")}BOOMR_check_doc_domain(e)}}}BOOMR_check_doc_domain();!function(l){var u,t,a,o,s,e,c,n=l;l.parent!==l&&document.getElementById("boomr-if-as")&&"script"===document.getElementById("boomr-if-as").nodeName.toLowerCase()&&(l=l.parent);a=l.document;l.BOOMR||(l.BOOMR={});BOOMR=l.BOOMR;if(!BOOMR.version){BOOMR.version="1.792.0";BOOMR.window=l;BOOMR.boomerang_frame=n;BOOMR.plugins||(BOOMR.plugins={});!function(){try{new l.CustomEvent("CustomEvent")!==undefined&&(o=function(e,t){return new l.CustomEvent(e,t)})}catch(e){}try{!o&&a.createEvent&&a.createEvent("CustomEvent")&&(o=function(e,t){var n=a.createEvent("CustomEvent");n.initCustomEvent(e,(t=t||{cancelable:!1,bubbles:!1}).bubbles,t.cancelable,t.detail);return n})}catch(e){}o=(o=!o&&a.createEventObject?function(e,t){var n=a.createEventObject();n.type=n.propertyName=e;n.detail=t.detail;return n}:o)||function(){return undefined}}();s=function(e,t,n){var r=o(e,{detail:t});r&&(n?BOOMR.setImmediate(i):i());function i(){try{a.dispatchEvent?a.dispatchEvent(r):a.fireEvent&&a.fireEvent("onpropertychange",r)}catch(e){}}};if("undefined"!=typeof a.hidden){e="visibilityState";c="visibilitychange"}else if("undefined"!=typeof a.mozHidden){e="mozVisibilityState";c="mozvisibilitychange"}else if("undefined"!=typeof a.msHidden){e="msVisibilityState";c="msvisibilitychange"}else if("undefined"!=typeof a.webkitHidden){e="webkitVisibilityState";c="webkitvisibilitychange"}u={beacon_url:"",beacon_url_force_https:!0,beacon_urls_allowed:["^//[a-z0-9]+\\.akstat\\.io/?$"],beacon_type:"AUTO",beacon_auth_key:"Authorization",beacon_auth_token:undefined,beacon_with_credentials:!1,beacon_disable_sendbeacon:!1,site_domain:l.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/,"$1").toLowerCase(),user_ip:"",autorun:!0,hasSentPageLoadBeacon:!1,r:undefined,strip_query_string:!1,onloadFired:!1,handlers_attached:!1,waiting_for_config:!1,same_site_cookie:"Lax",secure_cookie:!1,forced_same_site_cookie_none:!1,userAgentData:undefined,request_client_hints:!1,no_unload:!1,unloadEventsCount:0,unloadEventCalled:0,listenerCallbacks:{},vars:{},singleBeaconVars:{},varPriority:{"-1":{},1:{}},errors:{},disabled_plugins:{},localStorageSupported:!1,LOCAL_STORAGE_PREFIX:"_boomr_",nativeOverwrites:[],events:{page_ready:[],page_unload:[],before_unload:[],dom_loaded:[],visibility_changed:[],prerender_to_visible:[],before_beacon:[],beacon:[],page_load_beacon:[],xhr_load:[],click:[],form_submit:[],config:[],xhr_init:[],spa_init:[],spa_navigation:[],spa_cancel:[],xhr_send:[],xhr_error:[],error:[],netinfo:[],rage_click:[],before_early_beacon:[],bfcache:[]},public_events:{before_beacon:"onBeforeBoomerangBeacon",beacon:"onBoomerangBeacon",onboomerangloaded:"onBoomerangLoaded"},translate_events:{onbeacon:"beacon",onconfig:"config",onerror:"error",onxhrerror:"xhr_error"},createCallbackHandler:function(n){return function(e){var t;(e=e||l.event).target?t=e.target:e.srcElement&&(t=e.srcElement);(t=3===t.nodeType?t.parentNode:t)&&t.nodeName&&"OBJECT"===t.nodeName.toUpperCase()&&"application/x-shockwave-flash"===t.type||u.fireEvent(n,t)}},clearEvents:function(){for(var e in this.events)this.events.hasOwnProperty(e)&&(this.events[e]=[])},clearListeners:function(){for(var e in u.listenerCallbacks)if(u.listenerCallbacks.hasOwnProperty(e))for(;u.listenerCallbacks[e].length;)BOOMR.utils.removeListener(u.listenerCallbacks[e][0].el,e,u.listenerCallbacks[e][0].fn);u.listenerCallbacks={}},fireEvent:function(e,t){var n,r,i,o;e=e.toLowerCase();this.translate_events[e]&&(e=this.translate_events[e]);if(this.events.hasOwnProperty(e)){this.public_events.hasOwnProperty(e)&&s(this.public_events[e],t);i=this.events[e];"before_beacon"!==e&&"beacon"!==e&&"before_early_beacon"!==e&&BOOMR.real_sendBeacon();o=i.length;for(n=0;n<o;n++)try{(r=i[n]).fn.call(r.scope,t,r.cb_data)}catch(a){BOOMR.addError(a,"fireEvent."+e+"<"+n+">")}for(n=0;n<o;n++)if(i[n].once){i.splice(n,1);o--;n--}}},spaNavigation:function(){u.onloadfired=!0},beaconUrlAllowed:function(e){if(!u.beacon_urls_allowed||0===u.beacon_urls_allowed.length)return!0;for(var t=0;t<u.beacon_urls_allowed.length;t++)if(new RegExp(u.beacon_urls_allowed[t]).exec(e))return!0;return!1},checkLocalStorageSupport:function(){var e=u.LOCAL_STORAGE_PREFIX+"clss";u.localStorageSupported=!1;try{if(!l.JSON||!l.localStorage)return;l.localStorage.setItem(e,e);u.localStorageSupported=l.localStorage.getItem(e)===e}catch(t){u.localStorageSupported=!1}finally{try{l.localStorage&&l.localStorage.removeItem(e)}catch(t){}}},onFrameUnloaded:function(){var e,t;BOOMR.isUnloaded=!0;for(e=0;e<u.nativeOverwrites.length;e++)(t=u.nativeOverwrites[e]).obj[t.functionName]=t.origFn;u.nativeOverwrites=[]}};t={t_start:BOOMR_start,t_end:undefined,url:"",config_url:null,loadedLate:!1,beaconsSent:0,isUnloaded:!1,beaconInQueue:!1,cookies:{},testedCookies:!1,constants:{BEACON_TYPE_SPAS:["spa","spa_hard"],MAX_GET_LENGTH:2e3},session:{domain:u.site_domain,ID:undefined,start:undefined,length:0,enabled:!0},utils:{hasPostMessageSupport:function(){return!(!l.postMessage||"function"!=typeof l.postMessage&&"object"!=typeof l.postMessage)},objectToString:function(e,t,n){var r,i=[];if(!e||"object"!=typeof e)return e;t===undefined&&(t="\n\t");n=n||0;if(BOOMR.utils.isArray(e)){for(r=0;r<e.length;r++)0<n&&null!==e[r]&&"object"==typeof e[r]?i.push(this.objectToString(e[r],t+("\n\t"===t?"\t":""),n-1)):"&"===t?i.push(encodeURIComponent(e[r])):i.push(e[r]);t=","}else for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(0<n&&null!==e[r]&&"object"==typeof e[r]?i.push(encodeURIComponent(r)+"="+this.objectToString(e[r],t+("\n\t"===t?"\t":""),n-1)):"&"===t?i.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r])):i.push(r+"="+e[r]));return i.join(t)},getCookie:function(e){var t;if(!e)return null;if("undefined"!=typeof BOOMR.cookies[e])return!1===BOOMR.cookies[e]?undefined:BOOMR.cookies[e];if(void 0===(t=this.getRawCookie(e))){BOOMR.cookies[e]=!1;return undefined}BOOMR.cookies[e]=t;return BOOMR.cookies[e]},getRawCookie:function(e){if(!e)return null;var t,n=" "+a.cookie+";";if(0<=(t=n.indexOf(e=" "+e+"="))){t+=e.length;return n.substring(t,n.indexOf(";",t)).replace(/^"/,"").replace(/"$/,"")}},setCookie:function(e,t,n){var r;if(!e||!BOOMR.session.domain||void 0===t){BOOMR.addVar("nocookie",1);return!1}if((r=this.objectToString(t,"&"))===BOOMR.cookies[e])return!0;if((t=e+'="'+r+'"').length<500){t=[t,"path=/","domain="+BOOMR.session.domain];if("number"==typeof n){(i=new Date).setTime(i.getTime()+1e3*n);i=i.toGMTString();t.push("expires="+i)}var i=this.getSameSiteAttributeParts();"https:"===location.protocol&&!0===u.secure_cookie&&-1===i.indexOf("Secure")&&i.push("Secure");t=t.concat(i);a.cookie=t.join("; ");if(BOOMR.testedCookies){BOOMR.cookies[e]="number"!=typeof n||0<n?r:undefined;return!0}BOOMR.cookies[e]=undefined;if(r===(t=this.getRawCookie(e))||void 0===t&&"number"==typeof n&&n<=0){BOOMR.cookies[e]=r;BOOMR.testedCookies=!0;BOOMR.removeVar("nocookie");return!0}}BOOMR.addVar("nocookie",1);return!1},getSubCookies:function(e){var t,n,r,i,o=!1,a={};if(!e)return null;if("string"!=typeof e)return null;for(n=0,r=(t=e.split("&")).length;n<r;n++)if((i=t[n].split("="))[0]){i.push("");a[decodeURIComponent(i[0])]=decodeURIComponent(i[1]);o=!0}return o?a:null},removeCookie:function(e){return this.setCookie(e,{},-86400)},getSameSiteAttributeParts:function(){var e=u.same_site_cookie.toUpperCase();return"LAX"===(e=u.forced_same_site_cookie_none?"NONE":e)?["SameSite=Lax"]:"NONE"===e?"https:"===location.protocol&&this.isCurrentUASameSiteNoneCompatible()?["SameSite=None","Secure"]:[]:"STRICT"===e?["SameSite=Strict"]:["SameSite=Lax"]},getLocalStorage:function(e){var t,n;if(!e||!u.localStorageSupported)return null;try{if(null===(t=l.localStorage.getItem(u.LOCAL_STORAGE_PREFIX+e)))return undefined;n=l.JSON.parse(t)}catch(r){return null}if(!n||"object"!=typeof n.items){this.removeLocalStorage(e);return null}if("number"==typeof n.expires&&BOOMR.now()>=n.expires){this.removeLocalStorage(e);return undefined}return n.items},setLocalStorage:function(e,t,n){if(!e||!u.localStorageSupported||"object"!=typeof t)return!1;t={items:t};"number"==typeof n&&(t.expires=BOOMR.now()+1e3*n);if((t=l.JSON.stringify(t)).length<5e4)try{l.localStorage.setItem(u.LOCAL_STORAGE_PREFIX+e,t);if(t===l.localStorage.getItem(u.LOCAL_STORAGE_PREFIX+e))return!0}catch(r){}return!1},removeLocalStorage:function(e){if(!e||!u.localStorageSupported)return!1;try{l.localStorage.removeItem(u.LOCAL_STORAGE_PREFIX+e);return!0}catch(t){}return!1},cleanupURL:function(e,t){if(!e||BOOMR.utils.isArray(e))return"";u.strip_query_string&&(e=e.replace(/\?.*/,"?qs-redacted"));if(void 0!==t&&e&&e.length>t){var n=e.indexOf("?");e=-1!==n&&n<t?e.substr(0,n)+"?...":e.substr(0,t-3)+"..."}return e},hashQueryString:function(e,t){if(!e)return e;if(e.match)return(e=e.match(/^\/\//)?location.protocol+e:e).match(/^(https?|file):/)?(e=t?e.replace(/#.*/,""):e).replace(/\?([^#]*)/,function(e,t){return"?"+(10<t.length?BOOMR.utils.hashString(t):t)}):"";BOOMR.addError("TypeError: Not a string","hashQueryString",typeof e);return""},pluginConfig:function(e,t,n,r){var i,o=0;if(!t||!t[n])return!1;for(i=0;i<r.length;i++)if(t[n][r[i]]!==undefined){e[r[i]]=t[n][r[i]];o++}return 0<o},arrayFilter:function(e,t){var n=[];if(!(this.isArray(e)||e&&"number"==typeof e.length)||"function"!=typeof t)return n;if("function"==typeof e.filter)n=e.filter(t);else for(var r,i=-1,o=e.length;++i<o;)t(r=e[i],i,e)&&(n[n.length]=r);return n},arrayFind:function(e,t){if(!(this.isArray(e)||e&&"number"==typeof e.length)||"function"!=typeof t)return undefined;if("function"==typeof e.find)return e.find(t);for(var n,r=-1,i=e.length;++r<i;)if(t(n=e[r],r,e))return n;return undefined},isMutationObserverSupported:function(){return!(l&&l.navigator&&!l.navigator.userAgentData&&l.navigator.userAgent&&l.navigator.userAgent.match(/Trident.*rv[ :]*11\./))&&l&&l.MutationObserver&&"function"==typeof l.MutationObserver},addObserver:function(e,t,n,r,i,o){var a,s,u={observer:null,timer:null};if(!this.isMutationObserverSupported()||!r||!e)return null;function c(e){var t=!1;if(u.timer){clearTimeout(u.timer);u.timer=null}r&&((t=r.call(o,e,i))||(r=null));if(!t&&u.observer){u.observer.disconnect();u.observer=null}"number"==typeof t&&0<t&&(u.timer=setTimeout(c,t))}a=l.MutationObserver;l.Zone&&"function"==typeof l.Zone.__symbol__&&(s=l.Zone.__symbol__("MutationObserver"))&&"string"==typeof s&&l.hasOwnProperty(s)&&"function"==typeof l[s]&&(a=l[s]);u.observer=new a(c);n&&(u.timer=setTimeout(c,u.timeout));u.observer.observe(e,t);return u},addListener:function(e,t,n,r){var i=!1;if(e.addEventListener){"object"==typeof r?i=r:"boolean"==typeof r&&r&&BOOMR.browser.supportsPassive()&&(i={capture:!1,passive:!0});e.addEventListener(t,n,i)}else e.attachEvent&&e.attachEvent("on"+t,n);u.listenerCallbacks[t]=u.listenerCallbacks[t]||[];u.listenerCallbacks[t].push({el:e,fn:n})},removeListener:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n);if(u.listenerCallbacks.hasOwnProperty(t))for(var r=0;r<u.listenerCallbacks[t].length;r++)if(n===u.listenerCallbacks[t][r].fn&&e===u.listenerCallbacks[t][r].el){u.listenerCallbacks[t].splice(r,1);return}},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},inArray:function(e,t){var n;if(void 0===e||void 0===t||!t.length)return!1;for(n=0;n<t.length;n++)if(t[n]===e)return!0;return!1},getQueryParamValue:function(e,t){var n,r,i,o;if(!e)return null;"string"==typeof t?(n=BOOMR.window.document.createElement("a")).href=t:n="object"==typeof t&&"string"==typeof t.search?t:BOOMR.window.location;r=n.search.slice(1).split(/&/);for(i=0;i<r.length;i++)if(r[i]&&(o=r[i].split("=")).length&&o[0]===e)try{return 1<o.length?decodeURIComponent(o.splice(1).join("=").replace(/\+/g," ")):""}catch(a){if(!a||"string"!=typeof a.name||-1===a.name.indexOf("URIError"))throw a}return null},generateUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},generateId:function(e){return"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".substr(0,e||40).replace(/x/g,function(e){return"0"===(e=(Math.random()||.01).toString(36))?"0":e.substr(2,1)})},serializeForUrl:function(e){return BOOMR.utils.Compression&&BOOMR.utils.Compression.jsUrl?BOOMR.utils.Compression.jsUrl(e):window.JSON?JSON.stringify(e):""},getMyURL:function(){var e,t=document.currentScript||document.getElementById("boomr-if-as")||document.getElementById("boomr-scr-as");if(t)return t.src;for(var n=document.getElementsByTagName("script"),r=n.length;r--;)if("interactive"===n[r].readyState)return n[r].src;try{throw new Error}catch(i){if("stack"in i&&(e=this.arrayFilter(i.stack.split(/\n/),function(e){return e.match(/https?:\/\//)}))&&e.length)return e[0].replace(/.*(https?:\/\/.+?)(:\d+)+\D*$/m,"$1")}return""},scroll:function(){var e=l.pageXOffset!==undefined,t="CSS1Compat"===(l.document.compatMode||""),n={x:0,y:0};if(e)if("function"==typeof l.pageXOffset){n.x=l.pageXOffset();n.y=l.pageYOffset()}else{n.x=l.pageXOffset;n.y=l.pageYOffset}else if(t){n.x=l.document.documentElement.scrollLeft;n.y=l.document.documentElement.scrollTop}else{n.x=l.document.body.scrollLeft;n.y=l.document.body.scrollTop}"number"==typeof n.sx&&(n.sx=Math.round(n.sx));"number"==typeof n.sy&&(n.sy=Math.round(n.sy));return n},windowHeight:function(){return l.innerHeight||l.document.documentElement.clientHeight||l.document.body.clientHeight},windowWidth:function(){return l.innerWidth||l.document.documentElement.clientWidth||l.document.body.clientWidth},isNative:function(e){return!!e&&e.toString&&!e.hasOwnProperty("toString")&&/\[native code\]/.test(String(e))},overwriteNative:function(e,t,n){if(e&&n){BOOMR.boomerang_frame!==BOOMR.window&&u.nativeOverwrites.push({obj:e,functionName:t,origFn:e[t]});e[t]=n}},isInteger:function(e){return(Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e})(e)},isObjectEmpty:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},hashString:function(e){e=encodeURIComponent(e);for(var t=2166136261,n=0;n<e.length;n++){t^=e.charCodeAt(n);t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24)}var r=(t>>>0).toString()+e.length;return parseInt(r).toString(36)},isCurrentUASameSiteNoneCompatible:function(){return!(l&&l.navigator&&!l.navigator.userAgentData&&l.navigator.userAgent&&"string"==typeof l.navigator.userAgent)||this.isUASameSiteNoneCompatible(l.navigator.userAgent)},isUASameSiteNoneCompatible:function(e){var t=e.match(/(UCBrowser)\/(\d+\.\d+)\.(\d+)/);if(t){var n=parseFloat(t[2]),r=t[3];return 12.13===n?!(r<=2):!(n<12.13)}if(t=e.match(/(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)/)){n=t[2];return 51<=n&&n<=66?!1:!0}return(t=e.match(/(Macintosh;.*Mac OS X 10_14[_\d]*.*) AppleWebKit\//))?(!(t=e.match(/Version\/.* Safari\//))||null!==(t=e.match(/Chrom(?:e|ium)/)))&&!(t=e.match(/^Mozilla\/\d+(?:\.\d+)* \(Macintosh;.*Mac OS X \d+(?:_\d+)*\) AppleWebKit\/\d+(?:\.\d+)* \(KHTML, like Gecko\)$/)):!(t=e.match(/(iP.+; CPU .*OS 12(?:_\d+)*.*)/))},makeSelector:function(e){var t=[],r=e;function n(e,t){var n=!0;if(e){for(;e&&1!==e.nodeType;)e=e.parentNode||e.parentElement;e&&"BODY"!==e.tagName||(n=!1)}else n=!1;t||(r=e);return n}for(;r;){if(!n(r,!1)||!r)break;if(r.hasAttribute("id")){var i=r.tagName.toLowerCase()+"#"+r.getAttribute("id");t.unshift(i);break}i=n(r.parentNode,!0);if(t.length<3||3<=t.length&&!i){i=r.tagName.toLowerCase();r.hasAttribute("class")&&(i+="."+r.getAttribute("class").replace(/ +/g,"."));t.unshift(i)}else"*"!==t[0]&&t.unshift("*");r=r.parentNode||r.parentElement}return t.join(" ")}},browser:{results:{},supportsPassive:function(){if("undefined"==typeof BOOMR.browser.results.supportsPassive){BOOMR.browser.results.supportsPassive=!1;if(!Object.defineProperty)return!1;try{var e=Object.defineProperty({},"passive",{get:function(){BOOMR.browser.results.supportsPassive=!0}});window.addEventListener("test",null,e)}catch(t){}}return BOOMR.browser.results.supportsPassive}},init:function(e){var t,n,r=["autorun","beacon_auth_key","beacon_auth_token","beacon_with_credentials","beacon_disable_sendbeacon","beacon_url","beacon_url_force_https","beacon_type","site_domain","strip_query_string","user_ip","same_site_cookie","secure_cookie","request_client_hints","no_unload"];BOOMR_check_doc_domain();(e=e||{}).log!==undefined&&(this.log=e.log);this.log||(this.log=function(){});this.pageId||(this.pageId=BOOMR.utils.generateId(8));if(e.primary&&u.handlers_attached)return this;if("undefined"!=typeof e.site_domain){/:/.test(e.site_domain)&&(e.site_domain=l.location.hostname.toLowerCase());this.session.domain=e.site_domain}BOOMR.session.enabled&&"undefined"==typeof BOOMR.session.ID&&(BOOMR.session.ID=BOOMR.utils.generateUUID());"undefined"!=typeof e.autorun&&(u.autorun=e.autorun);for(n in this.plugins)if(this.plugins.hasOwnProperty(n))if(e[n]&&e[n].hasOwnProperty("enabled")&&!1===e[n].enabled){u.disabled_plugins[n]=1;"function"==typeof this.plugins[n].disable&&this.plugins[n].disable()}else{if(u.disabled_plugins[n]){if(!e[n]||!e[n].hasOwnProperty("enabled")||!0!==e[n].enabled)continue;"function"==typeof this.plugins[n].enable&&this.plugins[n].enable();delete u.disabled_plugins[n]}if("function"==typeof this.plugins[n].init)try{this.plugins[n].init(e)}catch(i){BOOMR.addError(i,n+".init")}}for(t=0;t<r.length;t++)e[r[t]]!==undefined&&(u[r[t]]=e[r[t]]);!0===u.request_client_hints&&l&&l.navigator&&l.navigator.userAgentData&&"function"==typeof l.navigator.userAgentData.getHighEntropyValues&&l.navigator.userAgentData.getHighEntropyValues(["architecture","model","platformVersion"]).then(function(e){u.userAgentData=e});if(!u.handlers_attached&&!e.wait||u.handlers_attached&&u.waiting_for_config){if(!u.onloadfired&&(u.autorun===undefined||!1!==u.autorun)){BOOMR.hasBrowserOnloadFired()&&(BOOMR.loadedLate=!0);BOOMR.attach_page_ready(BOOMR.page_ready_autorun)}u.waiting_for_config=!1}if(u.handlers_attached)return this;e.wait&&(u.waiting_for_config=!0);BOOMR.attach_page_ready(function(){BOOMR.t_onload||(BOOMR.t_onload=BOOMR.now())});BOOMR.utils.addListener(l,"DOMContentLoaded",function(){u.fireEvent("dom_loaded")});BOOMR.fireEvent("config",e);BOOMR.subscribe("config",function(e){e.beacon_url&&(u.beacon_url=e.beacon_url)});BOOMR.subscribe("spa_navigation",u.spaNavigation,null,u);!function(){var e,t;if(c!==undefined){BOOMR.utils.addListener(a,c,function(){u.fireEvent("visibility_changed")});u.lastVisibilityState=BOOMR.visibilityState();BOOMR.subscribe("visibility_changed",function(){var e=BOOMR.visibilityState();BOOMR.lastVisibilityEvent[e]=BOOMR.now();if("prerender"===u.lastVisibilityState&&"prerender"!==e){BOOMR.addVar("vis.pre","1");u.fireEvent("prerender_to_visible")}u.lastVisibilityState=e})}BOOMR.utils.addListener(a,"mouseup",u.createCallbackHandler("click"));e=a.getElementsByTagName("form");for(t=0;t<e.length;t++)BOOMR.utils.addListener(e[t],"submit",u.createCallbackHandler("form_submit"));l.onpagehide||null===l.onpagehide||BOOMR.utils.addListener(l,"unload",function(){BOOMR.window=l=null});BOOMR.boomerang_frame!==BOOMR.window&&BOOMR.utils.addListener(BOOMR.boomerang_frame,"unload",u.onFrameUnloaded)}();u.handlers_attached=!0;return this},attach_page_ready:function(e){BOOMR.hasBrowserOnloadFired()?this.setImmediate(e,null,null,BOOMR):l.onpagehide||null===l.onpagehide?BOOMR.utils.addListener(l,"pageshow",e):BOOMR.utils.addListener(l,"load",e)},page_ready_autorun:function(e){u.autorun&&BOOMR.page_ready(e,!0)},page_ready:function(e,t){var n;if(!t&&"number"==typeof e){n=e;e=null}e=(e=e||l.event)||{name:"load"};if(t){if("number"==typeof l.BOOMR_page_ready){e.timing=e.timing||{};e.timing.loadEventEnd=l.BOOMR_page_ready;BOOMR.addVar("pr",1,!0)}}else{e.timing=e.timing||{};n?e.timing.loadEventEnd=n:"number"==typeof l.BOOMR_page_ready?e.timing.loadEventEnd=l.BOOMR_page_ready:e.timing.loadEventEnd=BOOMR.now();BOOMR.addVar("pr",1,!0)}if(u.onloadfired)return this;u.fireEvent("page_ready",e);u.onloadfired=!0;return this},hasBrowserOnloadFired:function(){var e=BOOMR.getPerformance();return a.readyState&&"complete"===a.readyState||e&&e.timing&&0<e.timing.loadEventStart||0<l.BOOMR_onload},onloadFired:function(){return u.onloadfired},setImmediate:function(e,t,n,r){var i=function(){e.call(r||null,t,n||{},void 0);i=null};l.requestIdleCallback?l.requestIdleCallback(i,{timeout:1e3}):l.setImmediate?l.setImmediate(i):setTimeout(i,10)},now:Date.now||function(){return(new Date).getTime()},getPerformance:function(){try{if(BOOMR.window)return"performance"in BOOMR.window&&BOOMR.window.performance?BOOMR.window.performance:BOOMR.window.msPerformance||BOOMR.window.webkitPerformance||BOOMR.window.mozPerformance}catch(e){}},forceSameSiteCookieNone:function(){u.forced_same_site_cookie_none=!0},hrNow:function(){var e,t=BOOMR.getPerformance();if(t&&t.now)e=t.now();else{t=BOOMR.plugins.RT&&BOOMR.plugins.RT.navigationStart&&BOOMR.plugins.RT.navigationStart()||BOOMR.t_lstart||BOOMR.t_start;e=BOOMR.now()-t}return e},visibilityState:e===undefined?function(){return"visible"}:function(){return a[e]},lastVisibilityEvent:{},registerEvent:function(e){if(u.events.hasOwnProperty(e))return this;u.events[e]=[];return this},disable:function(){u.clearEvents();u.clearListeners()},fireEvent:function(e,t){return u.fireEvent(e,t)},subscribe:function(n,r,i,o,e){var t,a,s;n=n.toLowerCase();u.translate_events[n]&&(n=u.translate_events[n]);u.events.hasOwnProperty(n)||(u.events[n]=[]);s=u.events[n];for(t=0;t<s.length;t++)if((a=s[t])&&a.fn===r&&a.cb_data===i&&a.scope===o)return this;s.push({fn:r,cb_data:i||{},scope:o||null,once:e||!1});"page_ready"===n&&u.onloadfired&&u.autorun&&this.setImmediate(r,null,i,o);if(!u.no_unload&&("page_unload"===n||"before_unload"===n)){u.unloadEventsCount++;!function(){var e=function t(e){if(!u.no_unload){r&&r.call(o,e||l.event,i);r=null;++u.unloadEventCalled===u.unloadEventsCount&&BOOMR.real_sendBeacon()}};if(l.onpagehide||null===l.onpagehide)BOOMR.utils.addListener(l,"pagehide",e);else{"page_unload"===n&&BOOMR.utils.addListener(l,"unload",e);BOOMR.utils.addListener(l,"beforeunload",e)}}()}return this},addError:function BOOMR_addError(e,t,n){var r=BOOMR.plugins.Errors;if(r&&r.is_supported())if("string"==typeof e)r.send({message:e,extra:n,functionName:t,noStack:!0},r.VIA_APP,r.SOURCE_BOOMERANG);else{"string"==typeof t&&(e.functionName=t);void 0!==n&&(e.extra=n);r.send(e,r.VIA_APP,r.SOURCE_BOOMERANG)}else{"string"!=typeof e&&(e=r=(r=String(e)).match(/^\[object/)?e.name+": "+(e.description||e.message).replace(/\r\n$/,""):r);t!==undefined&&(e="["+t+":"+BOOMR.now()+"] "+e);n&&(e+=":: "+n);u.errors[e]?u.errors[e]++:u.errors[e]=1}},isCrossOriginError:function(e){return"SecurityError"===e.name||"TypeError"===e.name&&"Permission denied"===e.message||"Error"===e.name&&e.message&&e.message.match(/^(Permission|Access is) denied/)||-2146828218===e.number},addVar:function(e,t,n){if("string"==typeof e){u.vars[e]=t;n&&(u.singleBeaconVars[e]=1)}else if("object"==typeof e){var r,i=e;for(r in i)if(i.hasOwnProperty(r)){u.vars[r]=i[r];(t||n)&&(u.singleBeaconVars[r]=1)}}return this},appendVar:function(e,t){var n=BOOMR.getVar(e)||"";n&&(n+=",");BOOMR.addVar(e,n+t);return this},removeVar:function(e){var t,n;if(!arguments.length)return this;n=1===arguments.length&&BOOMR.utils.isArray(e)?e:arguments;for(t=0;t<n.length;t++)u.vars.hasOwnProperty(n[t])&&delete u.vars[n[t]];return this},hasVar:function(e){return u.vars.hasOwnProperty(e)},getVar:function(e){return u.vars[e]},setVarPriority:function(e,t){if("number"!=typeof t||1!==Math.abs(t))return this;u.varPriority[t][e]=1;return this},setReferrer:function(e){u.r=e},requestStart:function(t){var n=BOOMR.now();BOOMR.plugins.RT.startTimer("xhr_"+t,n);return{loaded:function(e){BOOMR.responseEnd(t,n,e)}}},readyToSend:function(){for(var e in this.plugins)if(this.plugins.hasOwnProperty(e)&&!u.disabled_plugins[e]&&"function"==typeof this.plugins[e].readyToSend&&!1===this.plugins[e].readyToSend())return!1;return!0},responseEnd:function(e,t,n,r){t="number"==typeof t?t:BOOMR.now();r="number"==typeof r?r:BOOMR.now();if(BOOMR.readyToSend())if(BOOMR.hasSentPageLoadBeacon()||BOOMR.utils.inArray(e.initiator,BOOMR.constants.BEACON_TYPE_SPAS))if(u.beaconInQueue)BOOMR.subscribe("beacon",function(){BOOMR.responseEnd(e,t,n,r)},null,BOOMR,!0);else{u.beaconInQueue=!0;if("object"==typeof e)e.url&&u.fireEvent("xhr_load",e);else{BOOMR.real_sendBeacon();BOOMR.addVar("xhr.pg",e,!0);BOOMR.plugins.RT.startTimer("xhr_"+e,t);u.fireEvent("xhr_load",{name:"xhr_"+e,data:n,timing:{loadEventEnd:r}})}}else BOOMR.subscribe("page_load_beacon",function(){BOOMR.responseEnd(e,t,n,r)},null,BOOMR,!0);else setTimeout(function(){BOOMR.responseEnd(e,t,n,r)},1e3)},uninstrumentXHR:function(){},instrumentXHR:function(){},uninstrumentFetch:function(){},instrumentFetch:function(){},sendBeacon:function(e){e&&(u.beacon_url_override=e);if(!u.beaconQueued){u.beaconQueued=!0;BOOMR.setImmediate(BOOMR.real_sendBeacon,null,null,BOOMR)}return!0},sendBeaconWhenReady:function(e,t,n){if(u.beaconInQueue)BOOMR.subscribe("beacon",function(){BOOMR.sendBeaconWhenReady(e,t,n)},null,BOOMR,!0);else{u.beaconInQueue=!0;for(var r in e)e.hasOwnProperty(r)&&BOOMR.addVar(r,e[r],!0);"function"==typeof t&&void 0!==n&&t.apply(n);BOOMR.sendBeacon()}},real_sendBeacon:function(){var e,t=[],n={};if(!u.beaconQueued)return!1;u.beaconQueued=!1;for(e in this.plugins)if(this.plugins.hasOwnProperty(e)&&!u.disabled_plugins[e]&&!this.plugins[e].is_complete(u.vars)){delete u.vars.early;return!1}if(!(window&&window.Image&&window.navigator&&BOOMR.window))return!1;var r=BOOMR.utils.inArray(u.vars["http.initiator"],BOOMR.constants.BEACON_TYPE_SPAS),i="undefined"==typeof u.vars["http.initiator"]||r;u.vars.pgu||(u.vars.pgu=r?a.URL:a.URL.replace(/#.*/,""));u.vars.pgu=BOOMR.utils.cleanupURL(u.vars.pgu);u.vars.u&&!r||(u.vars.u=u.vars.pgu);u.vars.pgu===u.vars.u&&delete u.vars.pgu;u.r?u.vars.r=BOOMR.utils.cleanupURL(u.r):delete u.vars.r;u.vars.v=BOOMR.version;BOOMR.snippetVersion&&(u.vars.sv=BOOMR.snippetVersion);u.vars.sm=BOOMR.snippetMethod||"i";if(BOOMR.session.enabled){u.vars["rt.si"]=BOOMR.session.ID+"-"+Math.round(BOOMR.session.start/1e3).toString(36);u.vars["rt.ss"]=BOOMR.session.start;"undefined"==typeof u.vars.early?u.vars["rt.sl"]=1<=BOOMR.session.length?BOOMR.session.length:1:u.vars["rt.sl"]=BOOMR.session.length}else BOOMR.removeVar("rt.si","rt.ss","rt.sl");if(BOOMR.visibilityState()){u.vars["vis.st"]=BOOMR.visibilityState();BOOMR.lastVisibilityEvent.visible&&(u.vars["vis.lv"]=BOOMR.now()-BOOMR.lastVisibilityEvent.visible);BOOMR.lastVisibilityEvent.hidden&&(u.vars["vis.lh"]=BOOMR.now()-BOOMR.lastVisibilityEvent.hidden)}r="",r=(navigator.userAgentData&&"string"==typeof navigator.userAgentData.platform?navigator.userAgentData:navigator).platform;u.vars["ua.plt"]=r;u.vars["ua.vnd"]=navigator.vendor;if(u.userAgentData){u.vars["ua.arch"]=u.userAgentData.architecture;u.vars["ua.model"]=u.userAgentData.model;u.vars["ua.pltv"]=u.userAgentData.platformVersion}this.pageId&&(u.vars.pid=this.pageId);u.vars.n=++this.beaconsSent;l!==window&&(u.vars["if"]="");for(e in u.errors)u.errors.hasOwnProperty(e)&&t.push(e+(1<u.errors[e]?" (*"+u.errors[e]+")":""));0<t.length&&(u.vars.errors=t.join("\n"));u.errors={};u.fireEvent("before_beacon",u.vars);for(e in u.vars)u.vars.hasOwnProperty(e)&&(n[e]=u.vars[e]);BOOMR.removeVar(["qt","pgu"]);if("undefined"==typeof u.vars.early){for(var o in u.singleBeaconVars)u.singleBeaconVars.hasOwnProperty(o)&&BOOMR.removeVar(o);u.singleBeaconVars={};if(!u.hasSentPageLoadBeacon&&i){u.hasSentPageLoadBeacon=!0;BOOMR.setImmediate(function(){u.fireEvent("page_load_beacon",n)})}}if(BOOMR.session.rate_limited)return!1;u.beaconInQueue=!1;BOOMR.sendBeaconData(n);return!0},sendBeaconData:function(e){var t,n=[],r=!0;u.beacon_url=u.beacon_url_override||u.beacon_url;if(!u.beacon_url)return!1;if(!u.beaconUrlAllowed(u.beacon_url))return!1;if(BOOMR.utils.isObjectEmpty(e))return!1;u.fireEvent("beacon",e);n=this.getVarsOfPriority(e,-1);i=this.getVarsOfPriority(e,1);n=n.concat(this.getVarsOfPriority(e,0),i).join("&");u.beacon_url_force_https&&u.beacon_url.match(/^\/\//)&&(u.beacon_url="https:"+u.beacon_url);e=u.beacon_url+(-1<u.beacon_url.indexOf("?")?"&":"?")+n;if("GET"===u.beacon_type){r=!0;e.length>BOOMR.constants.MAX_GET_LENGTH&&(window.console&&(console.warn||console.log)||function(){})("Boomerang: Warning: Beacon may not be sent via GET due to payload size > 2000 bytes")}else("POST"===u.beacon_type||e.length>BOOMR.constants.MAX_GET_LENGTH)&&(r=!1);if(l&&l.navigator&&"function"==typeof l.navigator.sendBeacon&&BOOMR.utils.isNative(l.navigator.sendBeacon)&&"function"==typeof l.Blob&&"GET"!==u.beacon_type&&"undefined"==typeof u.beacon_auth_token&&!u.beacon_disable_sendbeacon){var i=new l.Blob([n+"&sb=1"],{type:"application/x-www-form-urlencoded"});if(l.navigator.sendBeacon(u.beacon_url,i))return!0}if(r=!(BOOMR.orig_XMLHttpRequest||l&&l.XMLHttpRequest)?!0:r){try{t=new Image}catch(o){return!1}t.src=e}else{e=new(BOOMR.window.orig_XMLHttpRequest||BOOMR.orig_XMLHttpRequest||BOOMR.window.XMLHttpRequest);try{this.sendXhrPostBeacon(e,n)}catch(o){e=new BOOMR.boomerang_frame.XMLHttpRequest;this.sendXhrPostBeacon(e,n)}}return!0},hasSentPageLoadBeacon:function(){return u.hasSentPageLoadBeacon},sendXhrPostBeacon:function(e,t){e.open("POST",u.beacon_url);e.setRequestHeader("Content-type","application/x-www-form-urlencoded");if("undefined"!=typeof u.beacon_auth_token){"undefined"==typeof u.beacon_auth_key&&(u.beacon_auth_key="Authorization");e.setRequestHeader(u.beacon_auth_key,u.beacon_auth_token)}u.beacon_with_credentials&&(e.withCredentials=!0);e.send(t)},getVarsOfPriority:function(e,t){var n,r=[],i=0!==t?u.varPriority[t]:e;for(n in i)if(i.hasOwnProperty(n)&&e.hasOwnProperty(n)){r.push(this.getUriEncodedVar(n,"undefined"==typeof e[n]?"":e[n]));0!==t&&delete e[n]}return r},getUriEncodedVar:function(e,t){"object"==typeof(t=t===undefined||null===t?"":t)&&(t=BOOMR.utils.serializeForUrl(t));return encodeURIComponent(e)+"="+encodeURIComponent(t)},getResourceTiming:function(e,t,n){var r,i=BOOMR.getPerformance();try{if(i&&"function"==typeof i.getEntriesByName){if(!(r=i.getEntriesByName(e))||!r.length)return;if(!("function"!=typeof n||(r=BOOMR.utils.arrayFilter(r,n))&&r.length))return;1<r.length&&"function"==typeof t&&r.sort(t);return r[r.length-1]}}catch(o){}},isPageLoadBeacon:function(e){return("undefined"==typeof e["rt.quit"]||"undefined"!=typeof e["rt.abld"])&&("undefined"==typeof e["http.initiator"]||BOOMR.utils.inArray(e["http.initiator"],BOOMR.constants.BEACON_TYPE_SPAS))}};if(BOOMR.url){n=BOOMR.window.document.createElement("a");n.href=BOOMR.url;t.url=n.href}else t.url=t.utils.getMyURL();delete BOOMR_start;if("number"==typeof BOOMR_lstart){t.t_lstart=BOOMR_lstart;delete BOOMR_lstart}else"number"==typeof BOOMR.window.BOOMR_lstart&&(t.t_lstart=BOOMR.window.BOOMR_lstart);"number"==typeof BOOMR.window.BOOMR_onload&&(t.t_onload=BOOMR.window.BOOMR_onload);!function(){var e;"object"==typeof console&&console.log!==undefined?t.log=function(e,t,n){console.log("("+BOOMR.now()+") {"+BOOMR.pageId+"}: "+n+": ["+t+"] "+e)}:t.log=function(){};t.debug=(e=function(n){return function(e,t){this.log(e,n,"boomerang"+(t?"."+t:""));return this}})("debug");t.info=e("info");t.warn=e("warn");t.error=e("error")}();try{var r=t.getPerformance();r&&"function"==typeof r.now&&/\[native code\]/.test(String(r.now))&&r.timing&&r.timing.navigationStart&&(t.now=function(){return Math.round(r.now()+r.timing.navigationStart)})}catch(i){}u.checkLocalStorageSupport();!function(){for(var e in t)t.hasOwnProperty(e)&&(BOOMR[e]=t[e]);BOOMR.xhr_excludes||(BOOMR.xhr_excludes={})}();s("onBoomerangLoaded",{BOOMR:BOOMR},!0)}}(window);!function(){if(!BOOMR.plugins.ConfigOverride){var o={safeConfigOverride:function(e,t,n){for(var r in t)if(e.hasOwnProperty(r)&&t.hasOwnProperty(r)&&("object"!=typeof t[r]||"object"==typeof e[r]))if("object"==typeof e[r]&&"object"==typeof t[r]){n[r]=n[r]||{};o.safeConfigOverride(e[r],t[r],n[r])}else if("object"==typeof e[r]&&!0===t[r]){n[r]=n[r]||{};for(var i in e[r])e[r].hasOwnProperty(i)&&(n[r][i]=e[r][i])}else{n[r]=e[r];BOOMR.addVar("c.o","")}},allowedConfigOverrides:{instrument_xhr:!0,autorun:!0,beacon_disable_sendbeacon:!0,same_site_cookie:!0,secure_cookie:!0,Akamai:!0,Angular:!0,AutoXHR:!0,Backbone:!0,BW:!0,Continuity:!0,CrossDomain:!0,Early:!0,Ember:!0,Errors:!0,EventTiming:!0,History:!0,IFrameDelay:!0,LOGN:!0,Memory:!0,PageParams:!0,ResourceTiming:!0,RT:!0,TPAnalytics:!0,UserTiming:!0}};BOOMR.plugins.ConfigOverride={init:function(e){BOOMR.window&&BOOMR.window.BOOMR_config&&o.safeConfigOverride(BOOMR.window.BOOMR_config,o.allowedConfigOverrides,e);return this},is_complete:function(){return!0}}}}();!function(){if(!BOOMR.plugins.Continuity){var y=100,b=0,_=1,w=2,E="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_",S=".",T={passive:!0,capture:!0},x=BOOMR.getPerformance(),k={},P=x&&x.timing&&x.timing.navigationStart?x.timing.navigationStart:BOOMR.now(),N=5,A=20/(1e3/y),C=50,t=function(c){var d={},r={},o=[],a=0,n=0,i=0,s=!0,u=!1,f=0;BOOMR.fpsLog&&BOOMR.fpsLog.length&&(c=BOOMR.fpsLog[0]+P);function p(){return Math.floor((BOOMR.now()-c)/y)}function O(){var e=0;if(L.ttiWaitForFrameworkReady){if(!L.frameworkReady)return;e=L.frameworkReady}if(BOOMR.plugins.PaintTiming&&BOOMR.plugins.PaintTiming.is_supported()&&x&&x.timeOrigin){var t=BOOMR.plugins.PaintTiming.getTimingFor("largest-contentful-paint");(t=(t=t||BOOMR.plugins.PaintTiming.getTimingFor("first-contentful-paint"))||BOOMR.plugins.PaintTiming.getTimingFor("first-paint"))&&(e=Math.max(e,Math.round(t+x.timeOrigin)))}else if(x&&x.timing&&x.timing.msFirstPaint)e=Math.max(e,x.timing.msFirstPaint);else if(BOOMR.window&&BOOMR.window.chrome&&"function"==typeof BOOMR.window.chrome.loadTimes){t=BOOMR.window.chrome.loadTimes();t&&t.firstPaintTime&&(e=Math.max(e,1e3*t.firstPaintTime))}x&&x.timing&&x.timing.domContentLoadedEventEnd&&(e=Math.max(e,x.timing.domContentLoadedEventEnd));return e=L.ttiWaitForHeroImages&&(i=function c(e){var t,n,r,i,o,a,s=0;if(!BOOMR.window||!BOOMR.window.document||"function"!=typeof BOOMR.window.document.querySelectorAll)return 0;if(!x||"function"!=typeof x.getEntriesByType)return 0;if((t=BOOMR.window.document.querySelectorAll(e+", "+e+" * img, "+e+" * image"))&&t.length)for(n=0;n<t.length;n++){i=t[n].currentSrc||t[n].src||"function"==typeof t[n].getAttribute&&t[n].getAttribute("xlink:href");if(!i&&"function"==typeof BOOMR.window.getComputedStyle){var u=BOOMR.window.getComputedStyle(t[n])&&BOOMR.window.getComputedStyle(t[n]).getPropertyValue("background");if(u){u=u.match(/url\(["']?([^"']*)["']?\)/);if(u&&0<u.length){(a=a||document.createElement("a")).href=u[1];i=a.href}}}if(i&&(o=x.getEntriesByName(i))&&o.length)for(r=0;r<o.length;r++)s=Math.max(s,o[r].responseEnd)}return s?Math.floor(s+P):0}(L.ttiWaitForHeroImages))?Math.max(e,i):e}function m(e,t){return function f(e,t,n,r,i){var o,a,s,u,c,l="",d=0;if(!n)return"";if(0===n.length)return"";if(t){"undefined"==typeof n[r]&&(n[r]=0);for(o=r+1;o<=i;o++)"undefined"==typeof n[o]&&(n[o]=n[o-1])}for(o=r;o<=i;o++){d="number"!=typeof n[o]||isNaN(n[o])?0:n[o];e===b?s=d<=63?E.charAt(d):S+d.toString(36)+S:e===_?s=d.toString(36):e===w&&(s=d<99?d<=9?"0"+Math.max(d,0):d:"__");if(o+3<=i&&(n[o+1]===d||0===d&&n[o+1]===undefined)&&(n[o+2]===d||0===d&&n[o+2]===undefined)&&(n[o+3]===d||0===d&&n[o+3]===undefined)){a=1;for(;o<i&&(n[o+1]===d||0===d&&n[o+1]===undefined);){a++;o++}u="*"+a.toString(36)+"*"+s}else u=s;if(0!==d||o!==i){e===_&&c&&(l+=",");c=!0;l+=u}}return c?e.toString()+l:""}(r[e].compressMode,r[e].backfillLast,d[e],0!==t?Math.floor((t-c)/y):0,p())}k.timeToInteractive=function(){if(a)return a-P};k.timeToVisuallyReady=function(){if(n)return n-P};k.timeToHeroImagesReady=function(){if(L.ttiWaitForHeroImages&&i)return i-P};k.timeToFrameworkReady=function(){if(L.ttiWaitForFrameworkReady&&L.frameworkReady)return L.frameworkReady-P};k.log=function(){return o};return{register:function l(e,t,n){d[e]||(d[e]=[]);r[e]={compressMode:t||b,backfillLast:n}},set:function h(e,t,n){void 0===n&&(n=p());d[e]&&(d[e][n]=t)},log:function g(e,t,n){void 0===t&&(t=p());o.push({type:e,time:t,val:n});o.length>L.logMaxEntries&&Array.prototype.splice.call(o,0,o.length-L.logMaxEntries)},increment:function R(e,t,n){void 0===n&&(n=p());void 0===t&&(t=1);if(d[e]){d[e][n]||(d[e][n]=0);d[e][n]+=t}},getTimeBucket:p,getStats:function M(e,t){var n,r,i=0,o=0,a=Infinity,s=0,u=Math.floor((t-c)/y);if(!d[e])return 0;for(r in d[e]){r=parseInt(r,10);if(u<=r&&d[e].hasOwnProperty(r)){i++;o+=n=d[e][r];a=Math.min(a,n);s=Math.max(s,n)}}return{total:o,count:i,min:a,max:s}},analyze:function B(e){var t=p();L.sendLog&&void 0!==e&&function i(){for(var e="",t=0;t<o.length;t++){var n,r=o[t];0!==t&&(e+="|");e+=r.type;e+=Math.round(r.time-P).toString(36);for(n in r.val)if(r.val.hasOwnProperty(n)){e+=","+n;"number"==typeof r.val[n]?e+=r.val[n].toString(36):e+=r.val[n]}}""!==e&&L.addToBeacon("c.l",e)}();L.sendTimeline&&void 0!==e&&function r(e){var t,n;for(t in d)d.hasOwnProperty(t)&&""!==(n=m(t,e))&&L.addToBeacon("c.t."+t,n)}(e);if(!a&&(n=n||O())){if(s){L.addToBeacon("c.tti.vr",k.timeToVisuallyReady());L.addToBeacon("c.tti.fr",k.timeToFrameworkReady());L.addToBeacon("c.tti.hi",k.timeToHeroImagesReady());s=!1}if(d.longtask||d.fps||d.busy){e=!1===u?Math.max(Math.floor((n-c)/y),0):u+1,t=function l(e,t,n,r,i,o){for(var a=0,s=n,u=!1,c=n;c<=r;c++){s=c;if(o.longtask&&o.longtask[c])i=0;else if(o.fps&&(!o.fps[c]||o.fps[c]<A))i=0;else{if(o.busy){if(u&&"undefined"==typeof o.busy[c]){s--;break}u||"undefined"==typeof o.busy[c]||(u=!0);if(o.busy[c]>C){i=0;continue}}if(o.interdly&&o.interdly[c])i=0;else if(N<=++i){a=e+(c+1-N)*y;a=Math.max(a,t);break}}}return{tti:a,idleIntervals:i,lastBucketVisited:s}}(c,n,e,t,f,d);if(t){f=t.idleIntervals;u=t.lastBucketVisited;if(0<t.tti){a=t.tti;L.addToBeacon("c.tti",k.timeToInteractive())}}}}},stop:function e(){d={};o=[]},onBeacon:function v(){for(var e in d)if(d.hasOwnProperty(e))if(a||!1===u)d[e]=[];else{var t=d[e],n=new Array(u+1);d[e]=n.concat(t.slice(u+1))}s=!(o=[])}}},n=function(e){if(e.PerformanceObserver&&e.LayoutShift){var l,d=!0,f=0,p=[],O=0,t=new e.PerformanceObserver(function m(e){if(d){for(var t=e.getEntries(),n="",r=0;r<t.length;r++)if(!t[r].hadRecentInput){f+=t[r].value;var i={};i.value=parseFloat(t[r].value.toFixed(3));i.startTime=Math.round(t[r].startTime);for(var o=t[r].sources,a=[],s=0;s<o.length;s++){var u={selector:BOOMR.utils.makeSelector(o[s].node)};0===s&&(n=u.selector);var c=o[s].previousRect;u.previousRect={x:c.x,y:c.y,width:c.width,height:c.height};c=o[s].currentRect;u.currentRect={x:c.x,y:c.y,width:c.width,height:c.height};a.push(u)}i.sources=a;p.push(i);if(t[r].value>O){O=t[r].value;l=n}}O=parseFloat(O.toFixed(3))}});try{t.observe({type:"layout-shift",buffered:!0})}catch(a){return}k.clsScore=function(){return f};k.clsSources=function(){return p};k.topScore=function(){return O};k.topID=function(){return l};return{clearClsScore:n,clearClsSources:r,clearTopScore:i,clearTopID:o,analyze:function s(e){L.addToBeacon("c.cls",g(k.clsScore()));L.addToBeacon("c.cls.d",function c(e){if(!e||!e.length)return undefined;for(var t=[],n=0;n<e.length;n++){var r={};r.v=Math.round(1e3*e[n].value).toString(36);r.t=e[n].startTime.toString(36);r.s=[];for(var i=e[n].sources,o=0;o<i.length;o++){var a={};a.s=i[o].selector;var s=i[o].previousRect,u=i[o].currentRect;a.p={x:s.x.toString(36),y:s.y.toString(36),w:s.width.toString(36),h:s.height.toString(36)};a.d={};u.x-s.x!=0&&(a.d.x=(u.x-s.x).toString(36));u.y-s.y!=0&&(a.d.y=(u.y-s.y).toString(36));u.width-s.width!=0&&(a.d.w=(u.width-s.width).toString(36));u.height-s.height!=0&&(a.d.h=(u.height-s.height).toString(36));r.s.push(a)}t.push(r)}return BOOMR.utils.serializeForUrl(t)}(k.clsSources()));L.addToBeacon("c.cls.tops",g(k.topScore()));L.addToBeacon("c.cls.topid",k.topID())},stop:function u(){d=!1;t.disconnect();n();r();i();o()},onBeacon:function c(){n();r();i();o()}}}function n(){f=0}function r(){p=[]}function i(){O=0}function o(){l=undefined}},r=function(e,r){if(e.PerformanceObserver&&e.PerformanceLongTaskTiming){var f={unknown:0,self:1,"same-origin-ancestor":2,"same-origin-descendant":3,"same-origin":4,"cross-origin-ancestor":5,"cross-origin-descendant":6,"cross-origin-unreachable":7,"multiple-contexts":8},p={unknown:0,script:1,layout:2},O={unknown:0,iframe:1,embed:2,object:3},t=new e.PerformanceObserver(function a(e){var t,n;if(i){t=e.getEntries();Array.prototype.push.apply(m,t);for(n=0;n<t.length;n++)o+=t[n].duration;r.increment("longtask",t.length)}});try{t.observe({entryTypes:["longtask"]})}catch(s){return}r.register("longtask",b);var m=[],i=!0,o=0;k.longTasksTime=function(){return o};k.longTasksCount=function(){return m.length};return{getTasks:function u(){return m},clearTasks:n,analyze:function h(e){var t,n,r,i,o,a=[],s=[];if(0!==m.length){for(t=0;t<m.length;t++){r=m[t];i={s:Math.round(r.startTime).toString(36),d:Math.ceil(r.duration).toString(36),n:f[r.name]||0};s=[];for(n=0;n<r.attribution.length;n++)if("script"!==(o=r.attribution[n]).name||"iframe"!==o.containerType||o.containerName||o.containerId||o.containerSrc){var u=o.containerName||undefined,c=o.containerId||undefined;u===c&&(u=undefined);var l=c===undefined?o.containerSrc:undefined;s.push({a:p[o.name]||0,t:O[o.containerType]||0,n:u,i:c,s:l})}0<s.length&&(i.a=s);a.push(i)}L.addToBeacon("c.lt.n",k.longTasksCount(),!0);L.addToBeacon("c.lt.tt",k.longTasksTime());L.addToBeacon("c.lt",function d(e){var t=BOOMR.utils.Compression&&BOOMR.utils.Compression.jsUrl||window.UserTimingCompression&&window.UserTimingCompression.jsUrl||BOOMR.window.UserTimingCompression&&BOOMR.window.UserTimingCompression.jsUrl;return t?t(e):window.JSON?JSON.stringify(e):""}(a))}},stop:function c(){i=!1;t.disconnect();n()},onBeacon:function l(){n()}}}function n(){m=[];o=0}},i=function(e,r){r.register("busy",w);var i=Math.floor(3.125),n=BOOMR.now(),o=0,a=0,s=0,u=0,t=!1,c=!1;k.pageBusy=function(){return 0===s?0:Math.ceil(u/s*100)};t=setInterval(function l(){var e=BOOMR.now(),t=e-n;n=e;if(68<t){e=Math.floor((t-32)/32);o+=e;a+=e;t-=32*e}o++;36<t&&a++},32);c=setInterval(function d(){var e=r.getTimeBucket(),t=e,n=0;if(0!==o){for(;i+1<o&&n<=100;){r.set("busy",100,--t);o-=i;a=Math.max(a-i,0);s+=i;u+=i;n++}s+=o;u+=a;r.set("busy",Math.ceil(a/o*100),e);a=o=0}},100);return{analyze:function f(e){L.addToBeacon("c.b",k.pageBusy())},stop:function p(){if(t){clearInterval(t);t=!1}if(c){clearInterval(c);c=!1}},onBeacon:function O(){u=s=0}}},o=function(t,n){n.register("fps",b);var r,i=50,o=0,a=0,s=!0;if(BOOMR.fpsLog&&BOOMR.fpsLog.length){for(var u=r=BOOMR.fpsLog[0]+P,e=0;e<BOOMR.fpsLog.length;e++){var c=P+BOOMR.fpsLog[e];n.increment("fps",1,Math.floor((c-r)/y));i<=c-u&&a++;u=c}o=BOOMR.fpsLog.length;delete BOOMR.fpsLog}else r=BOOMR.now();t.requestAnimationFrame(function l(e){if(s){i<=e-u&&a++;u=e;o++;n.increment("fps");t.requestAnimationFrame(l)}});k.fps=function(){var e=k.fpsDuration();if(e)return Math.floor(o/(e/1e3))};k.fpsDuration=function(){if(r)return BOOMR.now()-r};k.fpsMinimum=function(){if(k.fpsDuration()){var e=n.getStats("fps",r).min;return e!==Infinity?e:undefined}};k.fpsLongFrames=function(){return a};k.fpsStart=function(){return r?r.toString(36):0};return{analyze:function d(e){L.addToBeacon("c.f",k.fps());L.addToBeacon("c.f.d",k.fpsDuration());L.addToBeacon("c.f.m",k.fpsMinimum());L.addToBeacon("c.f.l",k.fpsLongFrames());L.addToBeacon("c.f.s",k.fpsStart())},stop:function f(){s=!1;r=0},onBeacon:function p(){s&&(r=BOOMR.now());a=o=0}}},a=function(e,i,t){if(e&&e.document&&e.document.body&&e.document.documentElement){var o=2e3,a=20,s=0,u=0,c=0,l=0,d=0,f=0,p=0,O=0,n=!1,r=e.document.body,m=e.document.documentElement;i.register("scroll",b);i.register("scrollpct",w);var h=Math.max(r.scrollHeight,r.offsetHeight,m.clientHeight,m.scrollHeight,m.offsetHeight)-BOOMR.utils.windowHeight();k.scrollPct=function(){return l};k.scrollCount=function(){return d};k.scrollDistinct=function(){return p};k.scrollPixels=function(){return f};BOOMR.utils.addListener(e,"scroll",g,T);n=setInterval(function R(){var e=Math.min(c,100);0!==e&&i.set("scrollpct",e);c=0},y);return{analyze:function M(e){L.addToBeacon("c.s",k.scrollCount());L.addToBeacon("c.s.p",k.scrollPct());L.addToBeacon("c.s.y",k.scrollPixels());L.addToBeacon("c.s.d",k.scrollDistinct())},stop:function B(){if(n){clearInterval(n);n=!1}BOOMR.utils.removeListener(e,"scroll",g)},onBeacon:function v(){p=f=d=l=0}}}function g(e){var t=BOOMR.now();d++;o<t-O&&p++;O=t;var n=Math.ceil(BOOMR.utils.scroll().y),r=Math.abs(s-n);f+=r;i.increment("scroll",r);if(0===u||Math.abs(u-n)>a){i.log(0,t,{y:n});u=n}c+=Math.round(r/h*100);l+=Math.round(r/h*100);s=n}},s=function(e,o,a){o.register("click",b);var s=10,u=3,c=0,l=0,d=0,f=0,p=0,O=null;function t(e){var t=BOOMR.now(),n=e.clientX,r=e.clientY;c++;var i=Math.round(Math.sqrt(Math.pow(p-r,2)+Math.pow(f-n,2)));if(O===e.target||i<=s){if(u<=++l+1){d++;BOOMR.fireEvent("rage_click",e)}}else l=0;f=n;p=r;O=e.target;o.increment("click");o.log(1,t,{x:n,y:r});e.cancelable&&a.interact("click",t,e)}k.clicksCount=function(){return c};k.clicksRage=function(){return d};BOOMR.utils.addListener(e.document,"click",t,T);return{analyze:function n(e){L.addToBeacon("c.c",k.clicksCount());L.addToBeacon("c.c.r",k.clicksRage())},stop:function r(){BOOMR.utils.removeListener(e.document,"click",t)},onBeacon:function i(){d=l=c=0}}},u=function(e,n,r){n.register("key",b);var i=0,o=0;function t(e){var t=BOOMR.now();i++;27===e.keyCode&&o++;n.increment("key");n.log(3,t);e.cancelable&&r.interact("key",t,e)}k.keyCount=function(){return i};k.keyEscapes=function(){return o};BOOMR.utils.addListener(e.document,"keydown",t,T);return{analyze:function a(e){L.addToBeacon("c.k",k.keyCount());L.addToBeacon("c.k.e",k.keyEscapes())},stop:function s(){BOOMR.utils.removeListener(e.document,"keydown",t)},onBeacon:function u(){o=i=0}}},c=function(e,i,t){i.register("mouse",b);i.register("mousepct",w);var o=0,a=0,n=0,r=0,s=0,u=0,c=0,l=!1,d=!1,f=Math.round(Math.sqrt(Math.pow(BOOMR.utils.windowHeight(),2)+Math.pow(BOOMR.utils.windowWidth(),2)));function p(e){var t=e.clientX,n=e.clientY,r=Math.round(Math.sqrt(Math.pow(a-n,2)+Math.pow(o-t,2))),e=Math.round(r/f*100);s+=e;u+=e;c+=r;o=t;a=n;i.increment("mouse",r)}k.mousePct=function(){return u};k.mousePixels=function(){return c};l=setInterval(function O(){var e=Math.min(s,100);0!==e&&i.set("mousepct",e);s=0},y);d=setInterval(function m(){if(n!==o||r!==a)if(10<=Math.round(Math.sqrt(Math.pow(r-a,2)+Math.pow(n-o,2)))){i.log(2,BOOMR.now(),{x:o,y:a});n=o;r=a}},250);BOOMR.utils.addListener(e.document,"mousemove",p,T);return{analyze:function h(e){L.addToBeacon("c.m.p",k.mousePct());L.addToBeacon("c.m.n",k.mousePixels())},stop:function g(){if(l){clearInterval(l);l=!1}if(d){clearInterval(d);d=!1}BOOMR.utils.removeListener(e.document,"mousemove",p)},onBeacon:function R(){c=u=0}}},l=function(o,a,e){a.register("inter",b);a.register("interdly",b);var s=e,u=0,c=null,l=0,d=0,f=0,p=0,O=!0,m=0,h=0,g=!1,R=!1,M=!1,n=!1;function t(){if(g){clearTimeout(g);g=!1}if(R){clearTimeout(R);R=!1}}function B(){BOOMR.sendBeaconWhenReady({"rt.start":"manual","http.initiator":"interaction","rt.tstart":m,"rt.end":h},function(){t();BOOMR.fireEvent("interaction")},L)}k.interactionDelayed=function(){return f};k.interactionDelayedTime=function(){return Math.ceil(p)};k.interactionAvgDelay=function(){if(0<l)return Math.ceil(d/l)};k.timeToFirstInteraction=function(){if(u)return Math.floor(u-P)};k.firstInputDelay=function(){if(null!==c)return c};BOOMR.subscribe("spa_init",function r(){M=!0;t()},null,L);return{interact:function v(e,t,n){var r=0,i=BOOMR.hrNow();t=t||BOOMR.now();if(O){l++;u=u||(n&&n.timeStamp?n.timeStamp+P:t);if(n&&n.timeStamp&&(!L.isSafari||o===window)){r=14e11<n.timeStamp?t-n.timeStamp:i-n.timeStamp;d+=r;null===c&&(c=Math.ceil(r));if(50<r){a.increment("interdly");f++;p+=r}}a.increment("inter");if(!M&&L.afterOnloadMonitoring){h=BOOMR.now();if(!m){m=h;R=setTimeout(B,3e4)}if(g){clearTimeout(g);g=!1}g=setTimeout(B,s)}}},analyze:function i(e){var t;L.addToBeacon("c.i.dc",k.interactionDelayed());L.addToBeacon("c.i.dt",k.interactionDelayedTime());L.addToBeacon("c.i.a",k.interactionAvgDelay());if(!n&&"number"==typeof(t=!(t=BOOMR.plugins.EventTiming&&BOOMR.plugins.EventTiming.is_enabled()?BOOMR.plugins.EventTiming.metrics.firstInputDelay():t)&&null!==c?k.firstInputDelay():t)){L.addToBeacon("c.fid",Math.ceil(t),!0);L.addToBeacon("c.ttfi",BOOMR.plugins.EventTiming.metrics.timeToFirstInteraction()||k.timeToFirstInteraction());n=!0}},stop:function y(){O=!1},onBeacon:function _(){h=m=d=l=f=p=0;M=!1;t()}}},d=function(e,t,n){var r,i,o=!0;function a(){if(o){n.interact("pd",r,i);i=r=null;BOOMR.utils.removeListener(window,"pointerup",a)}}function s(e){if(o&&e.cancelable){r=BOOMR.now();i=e;BOOMR.utils.addListener(window,"pointerup",a,T)}}function u(){o=!1;BOOMR.utils.removeListener(window,"pointerdown",s);BOOMR.utils.removeListener(window,"pointerup",a);BOOMR.utils.removeListener(window,"pointercancel",u)}BOOMR.utils.addListener(window,"pointerdown",s,T);BOOMR.utils.addListener(window,"pointercancel",u,T);return{stop:u}},f=function(e,t,n){var r=!0;function i(e){if(r&&e.cancelable){var t=BOOMR.now();n.interact("md",t,e)}}BOOMR.utils.addListener(window,"mousedown",i,T);return{stop:function o(){r=!1;BOOMR.utils.removeListener(window,"mousedown",i)}}},p=function(e,t,n){var r=!0;function i(e){if(r&&e.cancelable){var t=BOOMR.now();n.interact("ts",t,e)}}BOOMR.utils.addListener(window,"touchstart",i,T);return{stop:function o(){r=!1;BOOMR.utils.removeListener(window,"touchstart",i)}}},O=function(e,n,t){n.register("vis",b);var r={visible:0,hidden:1,prerender:2,unloaded:3},i=!0;BOOMR.subscribe("visibility_changed",function(e){var t=BOOMR.now();if(i){n.increment("vis");n.log(4,t,{s:r[BOOMR.visibilityState()]})}});return{stop:function o(){i=!1}}},m=function(e,i,t){i.register("orn",b);var o=!0;function n(e){var t=BOOMR.now(),n=window.orientation;if(o){i.increment("orn");var r=window.screen&&(screen.orientation||screen.msOrientation||screen.mozOrientation||{});"number"==typeof(n=r&&"number"==typeof r.angle?screen.orientation.angle:n)&&i.log(5,t,{a:n})}}BOOMR.utils.addListener(e,"orientationchange",n,T);return{stop:function r(){o=!1;BOOMR.utils.removeListener(e,"orientationchange",n)}}},h=function(e,t){t.register("mem",_,!0);t.register("bat",w,!0);t.register("domsz",_,!0);t.register("domln",_,!0);t.register("mut",b);var n,r=e.document,i=!0,o=!1,a=null,s=0,u=0,c=r.getElementsByTagName("*");function l(){i&&a&&t.set("bat",a.level)}o=setInterval(function d(){var e=x&&x.memory&&x.memory.usedJSHeapSize;e&&t.set("mem",e);u=c.length;t.set("domsz",r.documentElement.innerHTML.length);t.set("domln",u);if(0<s){e=Math.min(Math.round(s/u*100),100);t.set("mut",e);s=0}},1e3);e.navigator&&"function"==typeof e.navigator.getBattery&&e.navigator.getBattery().then(function(e){(a=e).onlevelchange&&(a.onlevelchange=l)});BOOMR.utils.isMutationObserverSupported()&&(n=BOOMR.utils.addObserver(r,{childList:!0,subtree:!0},null,function f(e){e.forEach(function(e){if("childList"!==e.type)return!0;for(var t=0;t<e.addedNodes.length;t++){var n=e.addedNodes[t];s++;s+=n.getElementsByTagName?n.getElementsByTagName("*").length:0}});return!0},null,this));return{stop:function p(){i=!1;if(o){clearInterval(o);o=!1}if(n&&n.observer){n.observer.disconnect();n=null}a&&a.onlevelchange&&(a.onlevelchange=null);c=null}}},L={monitorLongTasks:!0,monitorPageBusy:!0,monitorFrameRate:!0,monitorInteractions:!0,monitorStats:!1,monitorLayoutShifts:!0,afterOnload:!1,afterOnloadMaxLength:6e4,afterOnloadMinWait:5e3,waitAfterOnload:!1,ttiWaitForFrameworkReady:!1,ttiWaitForHeroImages:!1,sendLog:!0,sendTimeline:!0,logMaxEntries:100,initialized:!1,complete:!1,isSpa:!1,firedPageReady:!1,afterOnloadMonitoring:!1,frameworkReady:null,timeline:null,ttiMethod:null,longTaskMonitor:null,pageBusyMonitor:null,frameRateMonitor:null,interactionMonitor:null,scrollMonitor:null,clickMonitor:null,keyMonitor:null,mouseMonitor:null,visibilityMonitor:null,orientationMonitor:null,touchStartMonitor:null,mouseDownMonitor:null,pointerDownMonitor:null,statsMonitor:null,layoutShiftMonitor:null,monitors:["timeline","longTaskMonitor","pageBusyMonitor","frameRateMonitor","scrollMonitor","keyMonitor","clickMonitor","mouseMonitor","interactionMonitor","visibilityMonitor","orientationMonitor","statsMonitor","layoutShiftMonitor","touchStartMonitor","mouseDownMonitor","pointerDownMonitor"],timeOfLastBeacon:0,hasAddedDataToBeacon:!1,isSafari:window&&window.navigator&&window.navigator.vendor&&-1!==window.navigator.vendor.indexOf("Apple"),onBeforeBeacon:function(){L.runAllAnalyzers()},runAllAnalyzers:function(){var e,t;if(!L.hasAddedDataToBeacon){for(e=0;e<L.monitors.length;e++)(t=L[L.monitors[e]])&&"function"==typeof t.analyze&&t.analyze(L.timeOfLastBeacon);L.addToBeacon("c.lb",L.timeOfLastBeacon?L.timeOfLastBeacon.toString(36):0);L.timeOfLastBeacon=BOOMR.now();L.hasAddedDataToBeacon=!0}},onBeacon:function(e){var t;if(!e||!("undefined"!=typeof e.early||e["http.initiator"]&&0===e["http.initiator"].indexOf("api_custom_"))){for(t=0;t<L.monitors.length;t++){var n=L[L.monitors[t]];if(n){L.afterOnload||"function"==typeof n.stop&&n.stop();"function"==typeof n.onBeacon&&n.onBeacon()}}L.hasAddedDataToBeacon=!1}},onXhrLoad:function(e){e&&BOOMR.utils.inArray(e.initiator,BOOMR.constants.BEACON_TYPE_SPAS)&&(L.isSpa=!0);e&&"spa_hard"===e.initiator&&L.onPageReady()},onPageReady:function(){L.firedPageReady=!0;if(L.afterOnload&&L.monitorInteractions){L.afterOnloadMonitoring=!0;L.isSpa||"number"!=typeof L.afterOnloadMaxLength||setTimeout(function(){L.afterOnloadMonitoring=!1},L.afterOnloadMaxLength)}if(L.waitAfterOnload){var e=BOOMR.now();setTimeout(function t(){if(BOOMR.now()-e>L.waitAfterOnload){L.complete=!0;BOOMR.sendBeacon()}else{L.timeline.analyze();if(k.timeToInteractive()){L.complete=!0;BOOMR.sendBeacon()}else setTimeout(t,500)}},500)}else L.complete=!0},addToBeacon:function(e,t,n){0!==t&&void 0!==t||n?BOOMR.addVar(e,t,!0):BOOMR.removeVar(e)}};BOOMR.plugins.Continuity={init:function(e){BOOMR.utils.pluginConfig(L,e,"Continuity",["monitorLongTasks","monitorPageBusy","monitorFrameRate","monitorInteractions","monitorStats","afterOnload","afterOnloadMaxLength","afterOnloadMinWait","waitAfterOnload","ttiWaitForFrameworkReady","ttiWaitForHeroImages","sendLog","logMaxEntries","sendTimeline","monitorLayoutShifts"]);if(L.initialized)return this;L.initialized=!0;L.timeline=new t(BOOMR.now());if(BOOMR.window){if(L.monitorLongTasks&&BOOMR.window.PerformanceObserver&&BOOMR.window.PerformanceLongTaskTiming){L.longTaskMonitor=new r(BOOMR.window,L.timeline);L.ttiMethod="lt"}if(L.monitorFrameRate&&"function"==typeof BOOMR.window.requestAnimationFrame){L.frameRateMonitor=new o(BOOMR.window,L.timeline);L.ttiMethod||(L.ttiMethod="raf")}if(L.monitorPageBusy&&BOOMR.window&&(!BOOMR.window.PerformanceObserver||!BOOMR.window.PerformanceLongTaskTiming||!L.monitorLongTasks)&&BOOMR.window.navigator&&(BOOMR.window.navigator.userAgentData||!BOOMR.window.navigator.userAgent.match(/Firefox\//))){L.pageBusyMonitor=new i(BOOMR.window,L.timeline);L.ttiMethod||(L.ttiMethod="b")}if(L.monitorInteractions){L.interactionMonitor=new l(BOOMR.window,L.timeline,L.afterOnloadMinWait);L.scrollMonitor=new a(BOOMR.window,L.timeline,L.interactionMonitor);L.keyMonitor=new u(BOOMR.window,L.timeline,L.interactionMonitor);L.clickMonitor=new s(BOOMR.window,L.timeline,L.interactionMonitor);L.mouseMonitor=new c(BOOMR.window,L.timeline,L.interactionMonitor);L.visibilityMonitor=new O(BOOMR.window,L.timeline,L.interactionMonitor);L.orientationMonitor=new m(BOOMR.window,L.timeline,L.interactionMonitor);L.touchStartMonitor=new p(BOOMR.window,L.timeline,L.interactionMonitor);L.mouseDownMonitor=new f(BOOMR.window,L.timeline,L.interactionMonitor);L.pointerDownMonitor=new d(BOOMR.window,L.timeline,L.interactionMonitor)}L.monitorStats&&(L.statsMonitor=new h(BOOMR.window,L.timeline,L.interactionMonitor));L.monitorLayoutShifts&&BOOMR.window.PerformanceObserver&&(L.layoutShiftMonitor=new n(BOOMR.window))}BOOMR.addVar("c.e",P.toString(36));BOOMR.addVar("c.tti.m",L.ttiMethod);BOOMR.subscribe("before_beacon",L.onBeforeBeacon,null,L);BOOMR.subscribe("beacon",L.onBeacon,null,L);BOOMR.subscribe("page_ready",L.onPageReady,null,L);BOOMR.subscribe("xhr_load",L.onXhrLoad,null,L);return this},is_complete:function(e){return L.complete||e&&("error"===e["http.initiator"]||"undefined"!=typeof e.early)},frameworkReady:function(){L.frameworkReady=BOOMR.now()},metrics:k}}function g(e){return parseFloat(e.toFixed(3))}}();!function(){var p,d,f,a,O;if(!BOOMR.plugins.PageParams){var m,e=/(-?(?:[1-9][\d,]*)?[0-9](?:\.\d+)?)/,o=["img","iframe","script","link","object","svg","video"],r={name:1,"honorific-prefix":1,"given-name":1,"additional-name":1,"family-name":1,"honorific-suffix":1,username:1,"new-password":1,"current-password":1,"street-address":1,country:1,"country-name":1,"postal-code":1,email:1,tel:1},i=["cc-","address-","tel-"],n=[/(?:3[47][0-9]{13})/,/(?:3(?:0[0-5]|[68][0-9])[0-9]{11})/,/(?:6(?:011|5[0-9]{2})(?:[0-9]{12}))/,/(?:(?:2131|1800|35\d{3})\d{11})/,/(?:(?:5[0678]\d\d|6304|6390|67\d\d)\d{8,15})/,/(?:(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12})/,/(?:4[0-9]{12})(?:[0-9]{3})?/,/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/],h=function(){return{pageGroups:{varname:"h.pg",stopOnFirst:!0,isDimension:!0},abTests:{varname:"h.ab",stopOnFirst:!0,isDimension:!0},customMetrics:{cleanUpRE:e},customDimensions:{sanitizeRE:/[^\w\. \-]/g,isDimension:!0},customTimers:{cleanUpRE:e,method:BOOMR.plugins.RT&&BOOMR.plugins.RT.setTimer,ctx:BOOMR.plugins.RT,preProcessor:function(e){return Math.round("number"==typeof e?e:parseFloat(e,10))}}}},s=["src","href","data","codebase"],u={".,":e},c={".":/\./g,",":/,/g," ":/ /g,"'":/'/g};(m=function(e){this.varname=e.varname;this.method=e.method||function(e,t){BOOMR.addVar(e,t,!0)};this.ctx=e.ctx||BOOMR;this.preProcessor=e.preProcessor;this.sanitizeRE=e.sanitizeRE||/[^\w \-]/g;this.cleanUpRE=e.cleanUpRE;this.resourceTime={};this.resources=[];this.RTSupport=!1;this.MOSupport=!1;return this}).prototype={apply:function(e){if(!(e=this.preProcessor?this.preProcessor(e):e)&&0!==e)return!1;"function"==typeof this.method&&this.method.call(this.ctx,this.varname,e);return!0},handle:function(e,t,n){var r=this;if(!this.isValid(e))return!1;e.label&&("ResourceGroup"===e.type&&O.resourceGroupHandlers[e.label]?r=O.resourceGroupHandlers[e.label]:(r=new m(this)).varname=e.label);return r[e.type](e,t,n)},isValid:function(e){return e&&"object"==typeof e&&e.hasOwnProperty("type")&&"function"==typeof this[e.type]&&(this.varname||e.label)},cleanUp:function(e,t){var n,r,i=this.cleanUpRE;if(!e)return e;if(i){n=t&&t.decimal?t.decimal:O.defaultDecimal;t=t&&t.thousands?t.thousands:O.defaultThousands;if(("."!==n||","!==t)&&void 0===(i=u[r=n+t])){i=new RegExp("(-?(?:[1-9][\\d"+t+"]*)?[0-9](?:\\"+n+"\\d+)?)");u[r]=i}if((r=e.match(i))&&1<r.length){e=r[1];if(void 0===(i=c[t])){i=new RegExp("\\"+t,"g");c[t]=i}e=e.replace(i,"");return e="."!==n?e.replace(n,"."):e}return""}return e.replace(this.sanitizeRE,"")},isValidObjectMember:function(e,t){return null!==e&&("object"==typeof e||(!("function"!=typeof e||!e.hasOwnProperty(t))||!("string"!=typeof e||!e.hasOwnProperty(t))))},extractFromDOMElement:function(e,t){var n="";if(O.pci&&this.hasSensitiveData(e)){BOOMR.appendVar("pci.redacted",t.label);return!1}null===e||!e.nodeName||"INPUT"!==e.nodeName.toUpperCase()&&"TEXTAREA"!==e.nodeName.toUpperCase()&&"SELECT"!==e.nodeName.toUpperCase()?null!==e&&(n=e.textContent||e.innerText):("checkbox"!==e.type.toLowerCase()&&"radio"!==e.type.toLowerCase()||e.checked)&&(n=e.value);if(O.pci&&this.isSensitiveData(n)){BOOMR.appendVar("pci.redacted",t.label);return!1}if(t.match&&"numeric"!==t.match){if("boolean"===t.match)n=1;else if(t.match.match(/^regex:/)){if(!(e=t.match.match(/^regex:(.*)/))||e.length<2)return!1;try{new RegExp(e[1],"i").test(n)&&(n=1)}catch(r){BOOMR.addError(r,"PageVars.URLPatternType",t.match);return!1}}}else n=this.cleanUp(n,t);return n},hasSensitiveData:function(e){var t;if(!e)return!1;if(e.nodeName&&("INPUT"===e.nodeName.toUpperCase()||"TEXTAREA"===e.nodeName.toUpperCase()||"SELECT"===e.nodeName.toUpperCase())){var n=e.autocomplete||"function"==typeof e.getAttribute&&e.getAttribute("autocomplete");if(n&&n.length){n=n.toLowerCase();if(r[n])return!0;for(t=0;t<i.length;t++)if(0===n.indexOf(i[t]))return!0}}if(O.pciBlacklist&&O.pciBlacklist.length){if(!O.pciBlacklistQueried){O.pciBlacklistMatch=this.runQuerySelector(O.pciBlacklist,f,!0);O.pciBlacklistQueried=!0}if(O.pciBlacklistMatch&&O.pciBlacklistMatch.length)for(t=0;t<O.pciBlacklistMatch.length;t++)if(e===O.pciBlacklistMatch[t])return!0}return!1},isSensitiveData:function(e){var t;if(!e||!e.length)return!1;for(t=0;t<n.length;t++)if(n[t].exec(e))return!0;return!1},execSafeRegEx:function(e,t){if(!(e instanceof RegExp))try{e=new RegExp(e,"i")}catch(n){BOOMR.addError(n,"PageVars.handleRegEx",e);return!1}return void 0!==t&&e.exec(t)},handleRegEx:function(e,t,n){var r=this.execSafeRegEx(e,n);if(!r||!r.length)return!1;t=t.replace(/\$([1-9])/g,function(e,t){return decodeURIComponent(r[parseInt(t,10)])});t=this.cleanUp(t);return this.apply(t)},checkURLPattern:function(e,t,n){var r;if(!e)return!0;r=e.replace(/([.+?\^=!:${}()|\[\]\/\\])/g,"\\$1").replace(/\*/g,".*?");try{r=new RegExp("^"+r+"$","i")}catch(i){BOOMR.addError(i,"PageVars.checkURLPattern",e);return!1}t=t||d.href;return!!r.exec(t)},nodeWalk:function(e,t){var n,r,i,o;if(!t)return e;if(!(n=t.match(/^(\w+)(?:\[(\d+)\])?\/?(.*)/))||!n.length)return null;r=e.getElementsByTagName(n[1]);if(n[2]){i=parseInt(n[2],10);if(isNaN(i))return null;if(r.length<=--i)return null;r=[r[i]]}for(i=0;i<r.length;i++)if(o=this.nodeWalk(r[i],n[3]))return o;return null},runXPath:function(e,t){var n,r,i,o=!1;t=t||f;try{t.evaluate?n=t.evaluate(e,t,null,9,null):t.selectNodes?n=t.selectNodes(e):o=!0}catch(a){i=a;o=!0}if(!n&&o)try{if(e.match(/^\/html(?:\/\w+(?:\[\d+\])?)*$/)){e=e.slice(6);return this.nodeWalk(f,e)}if(null!==(r=e.match(/\[@id=(["'])([^"']+)\1\]((?:\/\w+(?:\[\d+\])?)*)$/)))return(n=t.getElementById(r[2]))&&r[3]?this.nodeWalk(n,r[3].slice(1)):n;if(null!==(r=e.match(/\[@class="([^"]+)"\]((?:\/\w+(?:\[\d+\])?)*)$/)))return(n=(n=t.getElementsByClassName(r[1]))&&n.length?n[0]:n)&&r[2]?this.nodeWalk(n,r[2].slice(1)):n;i&&BOOMR.addError(i,"PageVars.runXPath.native",e);return null}catch(a){BOOMR.addError(a,"PageVars.runXPath.ours",e);return null}return n&&9===n.resultType&&n.singleNodeValue?n.singleNodeValue:null},runQuerySelector:function(e,t,n){var r;n=n||!1;t=t||f;try{if(!t.querySelector&&!t.querySelectorAll)return null;r=n?t.querySelectorAll(e):t.querySelector(e)}catch(i){BOOMR.addError(i,"PageVars.runQueryselector",e);return null}return r},JavaScriptVar:function(e){var t;if(!this.checkURLPattern(e.parameter1))return!1;if(t=this.extractJavaScriptVariable(e.varName,e))return t;O.mayRetry.push({handler:this,data:e});return!1},Custom:function(e){var t;if(!this.checkURLPattern(e.parameter2))return!1;if(t=this.extractJavaScriptVariable(e.parameter1,e))return t;O.mayRetry.push({handler:this,data:e});return!1},extractJavaScriptVariable:function(e,t,n){var r,i,o,a=n||p;if(!e)return!1;r=e.split(/\[((["'])[\w,.-]*\2|\d*)\]|\./);for(o=0;o<r.length;o++)r[o]&&(r[o]=r[o].replace(/("|')/g,""));if(!(r=BOOMR.utils.arrayFilter(r,function(e){return e&&0<e.length}))||0===r.length)return!1;i=a[r.shift()];try{for(;r.length&&this.isValidObjectMember(i,r[0]);)i=(a=i)[r.shift()]}catch(s){BOOMR.addError(s,"PageVars.extractJavaScriptVariable",e+"::"+r.join("."));return!1}if(0!==r.length)return!1;if("function"==typeof i)try{i=O.jsVarPassArgs?i.call(a,this.varname):i.call(a)}catch(s){BOOMR.plugins.Errors&&BOOMR.plugins.Errors.send(s);return!1}if(void 0===i||"object"==typeof i||"function"==typeof i)return!1;if(t&&"boolean"===t.match){if("string"==typeof i){if("0"!==(i=i.replace(/^\s+|\s+$/g,"").toLowerCase())&&"false"!==i&&i)return this.apply(1)}else if(i)return this.apply(1);return undefined}i=this.cleanUp(String(i),t);return this.apply(i)},URLPattern:function(e){if(!e.parameter2)return!1;if(!this.checkURLPattern(e.parameter1))return!1;if(e=BOOMR.utils.getQueryParamValue(e.parameter2,d)){e=this.cleanUp(e);return this.apply(e)}},URLSubstringEndOfText:function(e){return this.URLSubstringTrailingText(e)},URLSubstringTrailingText:function(e){return!!e.parameter1&&this.handleRegEx("^"+e.parameter1.replace(/([.+?\^=!:${}()|\[\]\/\\])/g,"\\$1").replace(/([^\.])\*/g,"$1.*?").replace(/^\*/,".*")+"(.*)"+(e.parameter2||"").replace(/([.+?\^=!:${}()|\[\]\/\\])/g,"\\$1").replace(/([^\.])\*/g,"$1.*")+"$","$1",d.href)},UserAgentRegex:function(e){return this._Regex(e.parameter1,e.regex,e.replacement,navigator.userAgent)},CookieRegex:function(e){return this._Regex(e.parameter1,e.regex,e.replacement,e.cookieName?BOOMR.utils.getCookie(e.cookieName):f.cookie)},URLRegex:function(e){return this._Regex(e.parameter1,e.regex,e.replacement,d.href)},Regexp:function(e,t){var n;return(n=t&&"string"==typeof t?t.match("http(|s)://"):n)&&0<n.length?this._Regex(null,e.parameter1,e.parameter2,t,e.ignore):this._Regex(null,e.parameter1,e.parameter2,d.href,e.ignore)},_Regex:function(e,t,n,r,i){i&&(n="1");return!(!t||!n)&&(!!this.checkURLPattern(e)&&this.handleRegEx(t,n,r))},URLPatternType:function(e){var t;if(!this.checkURLPattern(e.parameter1))return!1;if(!e.parameter1||e.parameter2||e.queryselector)if(e.queryselector){if(!(t=this.runQuerySelector(e.queryselector)))return!1;t=this.extractFromDOMElement(t,e)}else{if(!e.parameter2)return!1;if(!(t=this.runXPath(e.parameter2)))return!1;t=this.extractFromDOMElement(t,e)}else t="1";return this.apply(t)},ResourceTiming:function(e){var t,n,r,i,o;if(!e.parameter2&&!e.url&&!e.queryselector)return!1;if(!e.start||!e.end&&"*"!==e.start)return!1;if(!a||!a.getEntriesByName)return!1;if(!this.checkURLPattern(e.parameter1))return!1;"slowest"===e.parameter2||"slowest"===e.url?n="slowest":e.url?n=e.url:e.parameter2?t=this.runXPath(e.parameter2):e.queryselector&&(t=this.runQuerySelector(e.queryselector));if(t)n=t.currentSrc||t.src||"function"==typeof t.getAttribute&&t.getAttribute("xlink:href")||t.href;else if(!n)return!1;if(!(r=this.findResource(n,null,O.deltaFromNavStart))){O.mayRetry.push({handler:this,data:e});return!1}"slowest"===n&&BOOMR.addVar("dom.res.slowest",r.name,!0);if("*"===e.start){for(o in r)r.hasOwnProperty(o)&&o.match(/(Start|End)$/)&&0<r[o]&&BOOMR.addVar(this.varname+"."+o.replace(/^(...).*(St|En).*$/,"$1$2"),Math.round(r[o]),!0);return this.apply(r.duration)}if(e.relative_to_nt||"navigationStart"===e.start)i=O.deltaFromNavStart;else{i=parseFloat(r[e.start],10);if(!isNaN(i)&&0===i)return!1}e=parseFloat(r[e.end],10);if(isNaN(i)||isNaN(e))return!1;if(0===e)return!1;BOOMR.addVar(this.varname+"_st",Math.round(i-O.deltaFromNavStart),!0);return this.apply(e-i)},findResource:function(e,t,n){n=this.findResources(e,t,n,1);return null!==n&&n&&0<n.length?n[0]:null},getFrameResources:function(e,t){try{e.location&&e.location.href;return"performance"in e&&e.performance&&e.performance.getEntriesByName&&e.performance.getEntriesByType?t?e.performance.getEntriesByName(t):e.performance.getEntriesByType("resource"):null}catch(n){if(BOOMR.isCrossOriginError(n))return null;try{if("TypeError"===n.name&&"Invalid calling object"===n.message&&e.document.location.pathname.match(/\.pdf$/))return null}catch(r){}BOOMR.addError(n,"PageVars.getFrameResources");return null}},findResources:function(e,t,n,r){var i,o,a,s,u,c,l,d=[];t=t||p;n=n||0;if("slowest"!==e){if(null===(a=this.getFrameResources(t,e)))return null;if(a&&0<a.length)for(i=0;i<a.length;i++)if(!(a[i].startTime<n)){d.push(a[i]);if(r&&d.length===r)return d}}if(e&&(-1!==e.indexOf("*")||"slowest"===e)&&(a=this.getFrameResources(t))&&0<a.length)for(i=0;i<a.length;i++)if(!(a[i].startTime<n))if("slowest"===e)(!o||a[i].duration>o.duration)&&(o=a[i]);else if(a[i].name&&this.checkURLPattern(e,a[i].name,!1)){d.push(a[i]);if(r&&d.length===r)return d}if(t.frames){u=function f(e){try{return e.frames.length}catch(t){return 0}}(t);for(s=0;s<u;s++){l=t.frames[s];if(l&&l!==t&&(c=this.findResources(e,l,n,r?r-d.length:0)))for(i=0;i<c.length;i++)if("slowest"===e)(!o||c[i].duration>o.duration)&&(o=c[i]);else{d.push(c[i]);if(r&&d.length===r)return d}}}return o?[o]:d},UserTiming:function(e){var t,n;if(!e.parameter2)return!1;if(!a||"function"!=typeof a.getEntriesByType)return!1;if(!this.checkURLPattern(e.parameter1))return!1;t=a.getEntriesByType("mark");for(n=0;t&&n<t.length;n++)if(!(t[n].startTime<O.deltaFromNavStart)&&t[n].name===e.parameter2){var r=O.userTimingFromLatestNav||e.userTimingFromLatestNav?t[n].startTime-O.deltaFromNavStart:t[n].startTime;return this.apply(r)}t=a.getEntriesByType("measure");for(n=0;t&&n<t.length;n++)if(!(t[n].startTime<O.deltaFromNavStart)&&t[n].name===e.parameter2){t[n].startTime&&BOOMR.addVar(this.varname+"_st",Math.round(t[n].startTime),!0);return this.apply(t[n].duration)}O.mayRetry.push({handler:this,data:e})},Payload:function(e,t,n){var r,i,o=BOOMR.window.DOMParser,a=BOOMR.window.JSON;if(!n)return null;if(e.url&&!this.checkURLPattern(e.url,n.url))return null;if(e.parameter1&&e.parameter2){if(!n.response||!n.response.raw)return null;if("queryselector"===e.parameter1||"xpath"===e.parameter1){if(n.response.xml){"queryselector"===e.parameter1?r=this.runQuerySelector(e.parameter2,n.response.xml):"xpath"===e.parameter1&&(r=this.runXPath(e.parameter2,n.response.xml));if(!r)try{if(o){i=(new o).parseFromString(n.response.raw);"queryselector"===e.parameter1?r=this.runQuerySelector(e.parameter2,i):"xpath"===e.parameter1&&(r=this.runXPath(e.parameter2,i))}}catch(u){return null}return this.apply(this.extractFromDOMElement(r,e))}}else if("json"===e.parameter1){if(n.response.json)return this.extractJavaScriptVariable(e.parameter2,e,n.response.json);if(n.response.raw)try{if(window.JSON&&"function"==typeof a.parse){var s=a.parse(n.response.raw);return this.extractJavaScriptVariable(e.parameter2,e,s)}}catch(u){return null}}else if("substring"===e.parameter1){n.response.text||n.response.raw;return(n=this.execSafeRegEx(e.parameter2,n.response.text))&&n.length?!!(n=this.cleanUp(n[0]))&&this.apply(n):!1}}return null},ResourceGroup:function(e,t){var n,r,i,o,a,s,u,c=[];if(BOOMR.utils.isArray(t)){s=t[0];u=t[1]}else{s=t;u=BOOMR.window.document.URL}a="load"===(void 0!==s?s:"onload")?"onload":s;if(e.value){for(n in(this.config=e).value)if(e.value.hasOwnProperty(n)&&this.checkURLPattern(n,u)&&e.value[n].resources&&0<e.value[n].resources.length){if(e.value[n].on&&0<e.value[n].on.length&&(BOOMR.utils.inArray(a,e.value[n].on)||"init"===a&&BOOMR.utils.inArray("onload",e.value[n].on)))for(var l in e.value[n].resources)e.value[n].resources.hasOwnProperty(l)&&c.push(e.value[n].resources[l]);break}if(0===c.length)return null;this.resourceSet=c;(s=BOOMR.getPerformance())&&"function"==typeof s.getEntriesByName&&"function"==typeof s.getEntriesByType&&(this.RTSupport=!0);this.MOSupport=BOOMR.utils.isMutationObserverSupported();this.eventsrc=a;if(this.RTSupport)for(r=0;r<c.length;r++){"init"!==a&&"xhr"!==a&&this.refreshResourceGroupTimings(this.lookupResources(r),r);this.MOSupport&&("init"===a||this.isOnPageEvent())&&(this.obs=this.setupMutationObserver(r))}else if(this.RTSupport||!this.MOSupport||"init"!==a&&!this.isOnPageEvent()){if(!this.RTSupport&&!this.MOSupport&&("init"===a||this.isOnPageEvent()))for(r=0;r<c.length;r++)(i=this.setupListener(r))&&(this.listener=i)}else for(r=0;r<c.length;r++)(o=this.setupMutationObserver(r))&&(this.observer=o);if("onload"===a&&!this.attached){this.applyTimedResources(!0);this.attached=!0}return this}},setupMutationObserver:function(e){var t,n=this.resourceSet[e],r=0,i=this.getNode(e),o={childList:!0,attributes:!0,subtree:!0,attributeFilter:s};if(!this.isOnPageEvent()&&"onload"===this.eventsrc)return null;if(!(i="resource"===n.type?BOOMR.window.document.body:i)&&null===i){this.resourceSet[e].found=!1;this.resourceSet[e].fallback=!0;i=BOOMR.window.document.body}if(!i||"number"!=typeof i.length){if(i&&!this.isContainer(i)){this.resourceSet[e].found=!0;return null}this.traverseElements(i,e);return BOOMR.utils.addObserver(i,o,null,this.mutationCb.bind(this),e,this)}for(r=0;r<i.length;r++){t=i[r];this.traverseElements(t,e);!t||this.isContainer(t)?BOOMR.utils.addObserver(t,o,null,this.mutationCb.bind(this),e,this):this.resourceSet[e].found=!0}},setupListener:function(e){var t,n=this.resourceSet[e],r=this.getNode(e),i=null,o=0,a=this,s=BOOMR.now(),u=0;if((!(r="resource"===n.type?BOOMR.window.document.body:r)||null===r)&&BOOMR.window.document.body){this.resourceSet[e].found=!1;this.resourceSet[e].fallback=!0;r=BOOMR.window.document.body}if(BOOMR.window.document.body!==r||null!==r){if(r&&0<r.length){this.resourceSet[e].found=!0;for(u=0;u<r.length;u++){t=r[u];this.isContainer(t)?this.traverseElements(r,e):this.initResourceGroupListener(t,e)}return null}if(!r||this.isContainer(r)){this.traverseElements(r,e);i=setInterval(function c(){if(500<=o)clearInterval(i);else{a.traverseElements(r,e);o+=BOOMR.now()-s;s=BOOMR.now()}},100)}else{this.resourceSet[e].found=!0;this.initResourceGroupListener(r,e)}}},findResourceChildren:function(e){var t,n,r,i=[];if(!e||!e.getElementsByTagName)return i;for(t=0;t<o.length;t++){r=e.getElementsByTagName(o[t]);for(n=0;n<r.length;n++)i.push(r[n])}return i},attachContainerElements:function(e,t){var n,r,i=this.resourceSet[t],o=[];for(n in o=this.findResourceChildren(e)){r=this.getNodeURL(o[n]);if("resource"===i.type&&r&&this.checkURLPattern(i.value,r)){this.resourceSet[t].found=!0;this.initResourceGroupListener(o[n],t);break}("resource"!==i.type||r&&this.checkURLPattern(i.value,r)||!r&&this.isOnPageEvent())&&this.initResourceGroupListener(o[n],t)}},traverseElements:function(e,t){var n=this.resourceSet[t],r=this.getNodeURL(e);if("resource"===n.type)if(r&&this.checkURLPattern(n.value,r)){this.resourceSet[t].found=!0;this.initResourceGroupListener(e,t)}else this.isContainer(e)&&this.attachContainerElements(e,t);else if(this.isContainer(e)&&!n.fallback){this.resourceSet[t].found=!0;this.attachContainerElements(e,t)}else if(!this.isContainer(e)){this.resourceSet[t].found=!0;this.initResourceGroupListener(e,t)}},mutationCb:function(e,t){this.resourceSet[t];var n,r,i,o,a,s,u=[];if(e&&0<e.length){for(i=0;i<e.length;i++)if((r=e[i]).addedNodes&&0<r.addedNodes.length){a=r.addedNodes;for(s=0;s<a.length;s++)u.push(a[s])}if(u&&0<u.length){n=this.getNode(t);this.RTSupport&&this.refreshResourceGroupTimings(this.lookupResources(t),t);for(o=0;o<u.length;o++)this.traverseElements(u[o],t);if(n&&!n.hasOwnProperty("length")&&this.obs&&this.obs.observer&&this.resourceSet[t].fallback){this.resourceSet[t].fallback=!1;this.obs.observer.disconnect();clearTimeout(this.obs.timer);this.setupMutationObserver(t)}}}},isOnPageEvent:function(e){return e?"spa"===e||"spa_hard"===e||"xhr"===e:"spa"===this.eventsrc||"spa_hard"===this.eventsrc||"xhr"===this.eventsrc},resourceSetIsResolved:function(){var e=this.getUnresolvedIndex();return"boolean"==typeof e||"number"!=typeof e&&void 0},getUnresolvedIndex:function(){for(var e=0;e<this.resourceSet.length;e++)if(!this.resourceSet[e].found)return e;return!1},hasUnresolvedAddVar:function(){if(this.resourceSetIsResolved())return!1;var e=this.getUnresolvedIndex();BOOMR.addVar(this.varname+"_rg.err","nf|"+e,!0);return!(this.resolved=!1)},applyTimedResources:function(e){if(isNaN(this.resourceTime.start)||isNaN(this.resourceTime.stop))return!1;if(0===this.resourceTime.stop)return!1;if(this.hasUnresolvedAddVar())return!1;this.resolved=!0;BOOMR.removeVar(this.varname+"_rg.err");BOOMR.addVar(this.varname+"_st",Math.round(this.resourceTime.start),!0);if(this.obs&&this.obs.observer){this.obs.observer.disconnect();clearTimeout(this.obs.timer)}return this.apply(this.resourceTime.stop-this.resourceTime.start)},lookupResources:function(e){var t,n,r,i=this.resourceSet[e],o=this.getNode(e),a=[],s=0,u=0,c=this.getStartTime(e);if(o&&"undefined"==typeof o.length){this.resourceSet[e].found=!0;if(t=this.getNodeURL(o))a=this.findResources(t);else for(var l=this.findChildElements(o),d=0;d<l.length;d++)a.push(this.findResource(this.getNodeURL(l[d])))}else if(o&&"number"==typeof o.length&&0<o.length&&!o[0][c]&&"resource"!==i.type)for(s=0;s<o.length;s++){n=o[s];if(this.isContainer(n))this.traverseElements(n,e);else if(r=this.findResources(this.getNodeURL(n))){this.resourceSet[e].found=!0;for(u=0;u<r.length;u++)a.push(r[u])}}else if(o&&"number"==typeof o.length){0<o.length&&(this.resourceSet[e].found=!0);return o}return a},refreshResourceGroupTimings:function(e,t){if(e&&0<e.length){for(var n=0;n<e.length;n++)this.updateResourceGroupDelta(e[n],t);this.applyTimedResources()}},isContainer:function(e){if(e&&"string"==typeof e.nodeName)return!this.getNodeURL(e)},getNode:function(e){var t,n=this.resourceSet[e];switch(n.type){case"xpath":t=this.runXPath(n.value);break;case"queryselector":t=this.runQuerySelector(n.value,!1,!0);break;case"resource":this.RTSupport&&(t=this.findResources(n.value))}t||(this.resourceSet[e].found=!1);return t},findChildElements:function(e){var t,n,r,i=[];for(r in o){t=e.getElementsByTagName(o[r]);for(n=0;n<t.length;n++)i.push(t[n])}return i},getNodeURL:function(e){var t;if(!e)return null;switch(e.nodeName){case"IMG":case"IFRAME":case"SCRIPT":case"LINK":case"OBJECT":case"SVG":for(var n=0;n<s.length;n++)if("string"==typeof(t=e[s[n]])&&0<t.length)return t;break;default:return null}},getStartTime:function(e){var t=this.resourceSet[e],e="fetchStart";return e=t.start?t.start:e},updateResourceGroupDelta:function(e,t){var n=this.getStartTime(t);if(e){t=(t=e.responseEnd)||BOOMR.hrNow();"navigationStart"!==n?(!this.resourceTime.start||this.resourceTime.start>e[n])&&(this.resourceTime.start=e[n]):this.resourceTime.start=O.deltaFromNavStart;(!this.resourceTime.stop||this.resourceTime.stop<t)&&(this.resourceTime.stop=t)}},initResourceGroupListener:function(e,t){var n,r=this.resourceSet[t],i=this.getStartTime(t);e._bmr_rg=e._bmr_rg||{};e._bmr_rg[i]=e._bmr_rg[i]||BOOMR.hrNow();if(e._bmr_rg_resource){if(e._bmr_rg_resource&&!e._bmr_rg_resource.hasOwnProperty("length")){n=e._bmr_rg_resource;e._bmr_rg_resource=[]}e._bmr_rg_resource.push(n,r);this.addResourceGroupListener(e,t)}else{e._bmr_rg_resource=r;this.addResourceGroupListener(e,t)}},addResourceGroupListener:function(e,i){var o=this,a=this.resourceSet[i];function t(e){var t=e.target||e.srcElement,n=o.getNodeURL(t),r=o.getStartTime(i);if(n){if(o.RTSupport){e=o.findResources(n);if("resource"===a.type&&o.checkURLPattern(a.value,n)){if(e&&0<e.length){o.resourceSet[i].found=!0;o.refreshResourceGroupTimings(e,i)}}else o.refreshResourceGroupTimings(e,i)}else if("resource"===a.type&&o.checkURLPattern(a.value,n)){t._bmr_rg.responseEnd=t._bmr_rg.responseEnd||BOOMR.hrNow();o.updateResourceGroupDelta(t._bmr_rg,i)}else if(t._bmr_rg&&t._bmr_rg.responseEnd&&t._bmr_rg[r])o.updateResourceGroupDelta(t._bmr_rg,i);else{t._bmr_rg.responseEnd=t._bmr_rg.responseEnd||BOOMR.hrNow();o.updateResourceGroupDelta(t._bmr_rg,i)}o.applyTimedResources()}}e.complete&&this.getNodeURL(e)?t({target:e}):e.addEventListener?e.addEventListener("load",t):e.attachEvent&&e.attachEvent("onload",t)}};BOOMR.utils.runXPath=m.prototype.runXPath;BOOMR.utils.runQuerySelector=m.prototype.runQuerySelector;m.prototype.XPath=m.prototype.URLPatternType;m.prototype.URLQueryParam=m.prototype.URLPattern;O={pageGroups:[],abTests:[],customTimers:[],customMetrics:[],customDimensions:[],autorun:!0,defaultDecimal:".",defaultThousands:",",xhr:undefined,pci:!1,pciBlacklist:[],jsVarPassArgs:!0,spaXhr:undefined,userTimingFromLatestNav:!1,xhrPageGroups:[],resourceGroupHandlers:{},complete:!1,initialized:!1,configReceived:!1,rerunAfterConfig:!1,unloadFired:!1,onloadfired:!1,hasXhrOn:!1,hasXhrIgnore:!1,pciBlacklistQueried:!1,pciBlacklistMatch:[],beaconQueue:[],mayRetry:[],deltaFromNavStart:0,matchPageGroupList:function(e,t,n){for(var r=0,r=0;r<t.length;r++)if(n.handle(t[r],e))return!0;return!1},excludeXhrFilter:function(e){var t=0,n=!1;if(!O.xhr)return!1;(o=h()).pageGroups.varname="xhr.pg";var r=O.hasXhrOn?O.xhrPageGroups:O.pageGroups,i=new m(o.pageGroups);i.method=null;var o=BOOMR.plugins.SPA&&BOOMR.plugins.SPA.isSpaNavInProgress()&&"all"===O.spaXhr;if("none"===O.xhr&&!o)return!0;if("match"===O.xhr&&!O.hasXhrOn&&!o)return!0;if("match"===O.xhr&&!o){if(r&&0===r.length)return!1;for(t=0;t<r.length;t++)if(i.handle(r[t],e.href)&&!r[t].ignore){n=!0;break}return n?!1:!0}if(o||BOOMR.utils.inArray(O.xhr,["all","subresource"]))for(t=0;t<r.length;t++)if(r[t].ignore&&i.handle(r[t],e.href))return!0;return!1},done:function(t,e){var n,r,i,o,a,s,u=O,c=!1;if(O.configReceived){i=h();if("xhr"===e||"error"===e||"rerun"===e||!this.complete){BOOMR_check_doc_domain();if("xhr"===e&&t&&!BOOMR.utils.inArray(t.initiator,BOOMR.constants.BEACON_TYPE_SPAS)){if(null===(u=O.extractXHRParams(t,i)))return;O.complete=!1;if((a=t.data||t).url){(d=f.createElement("a")).href=a.url;if("subresource"===O.xhr){(s=new m(i.pageGroups)).method=null;O.matchPageGroupList(d.href,O.hasXhrOn?O.xhrPageGroups:O.pageGroups,s)||(t.subresource="active")}O.hasXhrOn?u.pageGroups=O.xhrPageGroups:u.pageGroups=O.pageGroups;i.pageGroups.varname="xhr.pg";i.pageGroups.preProcessor=function(e){if(e&&e.match(/_subresource$/)){e=e.replace(/_subresource$/,"");t.subresource="passive"}return e}}}else{d=p.location;"error"!==e&&"early"!==e&&(this.complete=!0)}"error"===e&&(c=!0);O.clearMetrics();O.mayRetry=[];if("xhr"===e&&t&&"spa"===t.initiator&&t.timing&&t.timing.requestStart){s=BOOMR.plugins.RT&&BOOMR.plugins.RT.navigationStart&&BOOMR.plugins.RT.navigationStart()||BOOMR.t_lstart||BOOMR.t_start;O.deltaFromNavStart=t.timing.requestStart-s}else O.deltaFromNavStart=0;for(r in i)if(i.hasOwnProperty(r)){o=new m(i[r]);if(!c||i[r].isDimension)if("xhr"===e&&"pageGroups"===r&&a&&a.pg&&"string"==typeof a.pg)o.apply(a.pg);else for(n=0;n<u[r].length;n++)if("xhr"===e||!u[r][n].only_xhr){var l="xhr"===e&&t&&BOOMR.utils.inArray(t.initiator,BOOMR.constants.BEACON_TYPE_SPAS)?t.initiator:e;if(o.handle(u[r][n],l,a)&&i[r].stopOnFirst){u[r][n].subresource&&"xhr"===e&&t&&(t.subresource="active");break}}}BOOMR.sendBeacon()}}else O.rerunAfterConfig={edata:t,ename:e}},retry:function(){var e,t,n,r=O.mayRetry;O.mayRetry=[];for(e=0;e<r.length;e++)if(r[e]){n=t=null;try{(t=r[e].handler)[(n=r[e].data).type](n)}catch(i){BOOMR.addError(i,"PageVars.retry."+(n?n.type:"?")+"."+(t?t.varname:"?"))}}},initResourceGroupHandlers:function(e){var t,n,r=h();if(r.hasOwnProperty("customTimers"))for(var i=new m(r.customTimers),o=0;o<O.customTimers.length;o++)"ResourceGroup"===O.customTimers[o].type&&(t=O.customTimers[o]).label&&!O.resourceGroupHandlers.hasOwnProperty(t.label)&&(n=i.handle(t,e))&&(O.resourceGroupHandlers[t.label]=n)},removeResolvedResourceGroupHandlers:function(){for(var e in O.resourceGroupHandlers)O.resourceGroupHandlers.hasOwnProperty(e)&&O.resourceGroupHandlers[e].resolved&&delete O.resourceGroupHandlers[e]},clearMetrics:function(){O.pciBlacklistQueried=!1},onload:function(){this.onloadfired=!0},extractXHRParams:function(e,t){var n,r,i,o,a,s,u,c,l,d,f;if(!e)return null;if(!((f=e.data||e).url||f.timers&&f.timers.length||f.metrics&&f.metrics.length||f.dimensions&&f.dimensions.length))return null;n={pageGroups:[],abTests:O.abTests,customTimers:[],customMetrics:[],customDimensions:[]};for(i in r={timers:{impl:"customTimers",data:f.timers},metrics:{impl:"customMetrics",data:f.metrics},dimensions:{impl:"customDimensions",data:f.dimensions}})if(r.hasOwnProperty(i))if((o=r[i]).data&&o.data.length)for(l=0;l<o.data.length;l++){a=(u=o.data[l].split(/\s*=\s*/))[0];s=u[1];for(c=0;c<O[o.impl].length;c++)if(O[o.impl][c].name===a)if(void 0===s)n[o.impl].push(O[o.impl][c]);else{(d=new m(t[o.impl])).varname=O[o.impl].label;d.apply(d.cleanUp(s));d=null}}else if(f.url)for(c=0;c<O[o.impl].length;c++)O[o.impl][c].xhr_ok&&n[o.impl].push(O[o.impl][c]);return n},onunload:function(){O.unloadFired=!0;return this},onBeforeBeacon:function(e){e&&"error"===e["http.initiator"]&&O.done({},"error")},onBeforeEarlyBeacon:function(e){this.complete=!1;this.done({},"early")},prerenderToVisible:function(){this.complete=!1;this.done({},"load")},runPageParamsHandler:function(e,t){var n,r,i,o=h()[e],a=O[e];d=BOOMR.window.location;o.method=t;r=new m(o);for(n=0;n<a.length;n++)if(!a[n].only_xhr&&(i=r.handle(a[n],"custom"))&&o.stopOnFirst)return i},runAllDimensions:function(e){O.runPageParamsHandler("pageGroups",e);O.runPageParamsHandler("abTests",e);O.runPageParamsHandler("customDimensions",e)},sendMetric:function(e,t){if("string"==typeof e&&(void 0===t||"number"==typeof t)){var n={};n[e]=t=void 0===t?1:t;O.sendMetrics(n)}},sendMetrics:function(e){"object"==typeof e&&O.addToBeaconQueue({metrics:e})},sendTimer:function(e,t){if("string"==typeof e&&"number"==typeof t){var n={};n[e]=t;O.sendTimers(n)}},sendTimers:function(e){"object"==typeof e&&O.addToBeaconQueue({timers:e})},sendAll:function(e){"object"==typeof e&&O.addToBeaconQueue(e)},addToBeaconQueue:function(n){n.timestamp||(n.timestamp=BOOMR.now());n.vars||(n.vars={});O.configReceived?O.runAllDimensions(function(e,t){n.vars[e]=t}):n.needsDimensions=!0;O.beaconQueue.push(n);BOOMR.setImmediate(O.processBeaconQueue)},processBeaconQueue:function(e){var t,n,r,i={},o=!1;if(0!==O.beaconQueue.length&&O.configReceived){t=O.beaconQueue.shift();i["rt.tstart"]=t.timestamp;i["rt.end"]=t.timestamp;i["http.initiator"]="api_custom_"+(t.timers?"timer":"metric");if(t.metrics)for(r in t.metrics)if(t.metrics.hasOwnProperty(r)){0;for(n=0;n<O.customMetrics.length;n++)if(r===O.customMetrics[n].name){o=!0;i[O.customMetrics[n].label]=t.metrics[r];break}}if(t.timers)for(r in t.timers)if(t.timers.hasOwnProperty(r)){0;for(n=0;n<O.customTimers.length;n++)if(r===O.customTimers[n].name){o=!0;i.t_other?i.t_other+=",":i.t_other="";i.t_other+=O.customTimers[n].label+"|"+t.timers[r];break}}if(o){for(var a in t.vars)t.vars.hasOwnProperty(a)&&(i[a]=t.vars[a]);i.n=++BOOMR.beaconsSent;O.sendBeacon(i);BOOMR.setImmediate(O.processBeaconQueue)}}},sendBeacon:function(e){e.d=BOOMR.session.domain;e["h.key"]=BOOMR.getVar("h.key");e["h.d"]=BOOMR.getVar("h.d");e["h.cr"]=BOOMR.getVar("h.cr");e["h.t"]=BOOMR.getVar("h.t");e.pid=BOOMR.pageId;e["rt.start"]="manual";if(BOOMR.session&&!1!==BOOMR.session.ID){e["rt.si"]=BOOMR.session.ID+"-"+Math.round(BOOMR.session.start/1e3).toString(36);e["rt.ss"]=BOOMR.session.start;e["rt.sl"]=BOOMR.session.length}e.api=1;e["api.v"]=2;e["api.l"]="boomr";e.v=BOOMR.version;BOOMR.fireEvent("before_custom_beacon",e);BOOMR.sendBeaconData(e)}};BOOMR.sendMetric=O.sendMetric;BOOMR.sendMetrics=O.sendMetrics;BOOMR.sendTimer=O.sendTimer;BOOMR.sendTimers=O.sendTimers;BOOMR.sendAll=O.sendAll;BOOMR.plugins.PageParams={init:function(e){var n,t=0,r=[];p=BOOMR.window;d=p.location;f=p.document;a=BOOMR.getPerformance();BOOMR.utils.pluginConfig(O,e,"PageParams",["pageGroups","abTests","customTimers","customMetrics","customDimensions","autorun","defaultDecimal","defaultThousands","xhr","pci","pciBlacklist","jsVarPassArgs","spaXhr","userTimingFromLatestNav"]);O.complete=!1;if("undefined"!=typeof e.PageParams){if(O.pageGroups&&0<O.pageGroups.length)for(t=0;t<O.pageGroups.length;t++)if(O.pageGroups[t]){if(O.pageGroups[t].on&&BOOMR.utils.inArray("xhr",O.pageGroups[t].on)||O.pageGroups[t].ignore){O.xhrPageGroups.push(O.pageGroups[t]);O.hasXhrOn=!0;O.pageGroups[t].ignore&&(O.hasXhrIgnore=!0);if(O.pageGroups[t].on&&1===O.pageGroups[t].on.length||O.pageGroups[t].ignore)continue}BOOMR.plugins.AutoXHR&&"Payload"===O.pageGroups[t].type&&BOOMR.plugins.AutoXHR.setXhrRequestResponseCapturing(!0);r.push(O.pageGroups[t])}O.pageGroups=r}"undefined"!=typeof e.autorun&&(O.autorun=e.autorun);O.pci&&BOOMR.addVar("pci",1);if(O.initialized&&O.configReceived)return this;if(O.initialized){O.configReceived=!0;O.initResourceGroupHandlers("init");for(n=0;n<O.beaconQueue.length;n++)if(O.beaconQueue[n].needsDimensions){O.runAllDimensions(function(e,t){O.beaconQueue[n].vars[e]=t});delete O.beaconQueue[n].needsDimensions}if(O.rerunAfterConfig){O.done(O.rerunAfterConfig.edata,O.rerunAfterConfig.ename);O.rerunAfterConfig=!1;return}}BOOMR.setImmediate(O.processBeaconQueue);if(!O.initialized){if(O.onloadfired)O.autorun&&O.done("load");else{BOOMR.subscribe("page_ready",O.onload,"load",O);BOOMR.subscribe("page_ready",O.done,"load",O);BOOMR.subscribe("prerender_to_visible",O.prerenderToVisible,"load",O);BOOMR.subscribe("spa_init",O.initResourceGroupHandlers);BOOMR.subscribe("xhr_init",O.initResourceGroupHandlers)}BOOMR.subscribe("before_unload",O.onunload,null,O);BOOMR.subscribe("before_unload",O.done,"unload",O);BOOMR.subscribe("beacon",O.clearMetrics,null,O);BOOMR.subscribe("beacon",O.removeResolvedResourceGroupHandlers);BOOMR.subscribe("xhr_load",O.done,"xhr",O);BOOMR.subscribe("before_beacon",O.onBeforeBeacon,null,O);BOOMR.subscribe("before_early_beacon",O.onBeforeEarlyBeacon,null,O);BOOMR.plugins.AutoXHR&&BOOMR.plugins.AutoXHR.addExcludeFilter(O.excludeXhrFilter,O,"BOOMR.plugins.PageParams.PageGroups");O.initialized=!0}return this},is_complete:function(){0<O.mayRetry.length&&O.retry();return O.configReceived||O.unloadFired},readyToSend:function(){return O.configReceived||O.unloadFired},rerun:function(){O.done({},"rerun")}}}}();!function(){if(!BOOMR.plugins.IFrameDelay){var r=BOOMR.window,i={initialized:!1,registerParent:!1,monitoredCount:0,finishedCount:0,runningCount:0,runningFrames:{},loadingIntervalID:undefined,loadedIntervalID:undefined,loadEnd:0,messages:{start:"boomrIframeLoading",done:"boomrIframeLoaded",startACK:"boomrIframeLoadingACK",doneACK:"boomrIframeLoadedACK"},onIFrameMessageAsParent:function(e){var t;if(e&&e.data&&"string"==typeof e.data&&"{"===e.data.charAt(0)&&e.source){try{t=JSON.parse(e.data)}catch(n){return}if(t.msg===i.messages.start){if(!i.runningFrames[t.pid]){e.source.postMessage(JSON.stringify({msg:i.messages.startACK}),e.origin);i.runningCount+=1;i.runningFrames[t.pid]=1}}else if(t.msg===i.messages.done){e.source.postMessage(JSON.stringify({msg:i.messages.doneACK}),e.origin);--i.runningCount;i.finishedCount+=1;t.loadEnd>i.loadEnd&&(i.loadEnd=t.loadEnd);i.checkCompleteness()}}},onIFrameMessageAsChild:function(e){var t;if(e&&e.data&&"string"==typeof e.data&&"{"===e.data.charAt(0)&&e.source){try{t=JSON.parse(e.data)}catch(n){return}if(t.msg===i.messages.startACK){clearInterval(i.loadingIntervalID);i.loadingIntervalID=undefined}else if(t.msg===i.messages.doneACK){clearInterval(i.loadedIntervalID);i.loadedIntervalID=undefined}}},checkCompleteness:function(){if(i.is_complete()){BOOMR.addVar("ifdl.done",BOOMR.now());BOOMR.addVar("ifdl.ct",i.finishedCount);BOOMR.addVar("ifdl.r",i.runningCount);BOOMR.addVar("ifdl.mon",i.monitoredCount);BOOMR.hasBrowserOnloadFired()?BOOMR.page_ready(0<i.loadEnd?i.loadEnd:undefined):BOOMR.attach_page_ready(function(){BOOMR.page_ready(undefined,!0)})}},is_complete:function(){return!(i.enabled&&!i.registerParent)||i.finishedCount>=i.monitoredCount&&0===i.runningCount}};BOOMR.plugins.IFrameDelay={init:function(e){BOOMR.utils.pluginConfig(i,e,"IFrameDelay",["enabled","registerParent","monitoredCount"]);if(i.initialized)return this;i.initialized=!0;if(this.is_supported())if(i.registerParent){BOOMR.utils.addListener(window,"message",i.onIFrameMessageAsChild);function t(){r.parent.postMessage(JSON.stringify({msg:i.messages.start,pid:BOOMR.pageId}),"*")}t();i.loadingIntervalID=setInterval(t,250);BOOMR.subscribe("page_load_beacon",function(e){var t=e&&e["rt.end"]?e["rt.end"]:BOOMR.now();function n(){i.loadingIntervalID||r.parent.postMessage(JSON.stringify({msg:i.messages.done,pid:BOOMR.pageId,loadEnd:t}),"*")}n();i.loadedIntervalID=setInterval(n,250)})}else if(!i.registerParent&&i.monitoredCount&&0<i.monitoredCount)BOOMR.utils.addListener(r,"message",i.onIFrameMessageAsParent);else{i.finishedCount=i.monitoredCount=i.runningCount=0;i.enabled=!1}else i.enabled=!1;return this},is_complete:function(){return i.is_complete()},is_supported:function(){return BOOMR.utils.hasPostMessageSupport()&&window.JSON}}}}();!function(){var p,a,l,O,m,d=["uninitialized","open","responseStart","domInteractive","responseEnd"];if(!BOOMR.plugins.AutoXHR&&(p=BOOMR.window)&&p.XMLHttpRequest&&(new p.XMLHttpRequest).addEventListener){s.stop=function(){s.pause();s.observer=null};s.pause=function(){if(s.observer&&s.observer.observer&&!s.isPaused){s.isPaused=!0;s.observer.observer.disconnect()}};s.resume=function(){if(s.observer&&s.observer.observer&&s.isPaused){s.isPaused=!1;s.observer.observer.observe(a,s.observer.config)}};s.start=function(){if(!s.observer){var e={childList:!0,attributes:!0,subtree:!0,attributeFilter:["src","href"]};if(s.observer=BOOMR.utils.addObserver(a,e,null,l.mutation_cb,null,l)){s.observer.config=e;BOOMR.subscribe("page_unload",s.stop,null,s)}}};s.prototype.addEvent=function(e){for(var t,n,r={type:e.initiator,resource:e,nodes_to_wait:0,total_nodes:0,resources:[],xhr_resources:[],complete:!1,aborted:!1,firedEarlyBeacon:!1},i=this.pending_events.length,o=this,a=i-1;0<=a;a--)if(this.pending_events[a]&&!this.pending_events[a].complete){t=this.pending_events[a];n=a;break}if(t)if("click"===t.type&&m.singlePageApp&&m.spaStartFromClick&&"xhr"===r.type){r.resource.fromClick=!0;r.resource.timing.click=t.resource.timing.requestStart;r.resource.timing.requestStart=t.resource.timing.requestStart;r.interesting=t.interesting||0;r.total_nodes+=t.total_nodes;r.resources=t.resources.concat(r.resources);r.xhr_resources=t.xhr_resources.concat(r.xhr_resources);this.pending_events[n]=undefined;this.watch--}else if(("click"===t.type||t.resource.fromClick)&&m.singlePageApp&&m.spaStartFromClick&&"spa"===r.type){r.resource.timing=t.resource.timing;r.interesting=t.interesting||0;r.total_nodes+=t.total_nodes;r.resources=t.resources.concat(r.resources);t.resource.url&&r.xhr_resources.push(t.resource.url);r.xhr_resources=r.xhr_resources.concat(t.xhr_resources);this.pending_events[n]=undefined;this.watch--}else if("click"===t.type){if(0===t.nodes_to_wait||!t.resource.url){this.pending_events[n]=undefined;this.watch--}}else if("xhr"===t.type){if("click"===r.type)return null;if("xhr"===r.type){l.add_event_resource(e);return null}}else if(BOOMR.utils.inArray(t.type,BOOMR.constants.BEACON_TYPE_SPAS)){if("xhr"===r.type){l.add_event_resource(e);return null}if(BOOMR.utils.inArray(r.type,BOOMR.constants.BEACON_TYPE_SPAS)){t.resource.timing.loadEventEnd=BOOMR.now();t.aborted=!0;this.sendEvent(n)}}if("click"===r.type){if(!s.observer)return null;this.setTimeout(m.xhrIdleTimeout,i)}else if("xhr"===r.type){r.nodes_to_wait++;r.total_nodes++;r.ignoreMO=!0}else if(BOOMR.utils.inArray(r.type,BOOMR.constants.BEACON_TYPE_SPAS)){s.start();if(e.wait){r.nodes_to_wait++;r.total_nodes++;e.waitComplete=function(){o.load_finished(i);e.waitComplete=undefined}}else this.setTimeout(m.spaIdleTimeout,i)}this.watch++;this.pending_events.push(r);return e.index=i};s.prototype.sendEvent=function(e){var t=this.pending_events[e],n=this;BOOMR.now();if(t&&!t.complete){this.clearTimeout(e);if(BOOMR.readyToSend()){t.complete=!0;this.watch--;BOOMR.utils.inArray(t.type,BOOMR.constants.BEACON_TYPE_SPAS)&&(t.resource.url=a.URL);if("spa"!==t.type||0!==t.total_nodes||t.resource.url!==n.lastSpaLocation)if("click"!==t.type||0!==t.total_nodes&&t.resource.url){"click"===t.type&&m.singlePageApp&&m.spaStartFromClick&&(t.type=t.resource.initiator="xhr");if(!m.xhrRequireChanges||"xhr"!==t.type||1!==t.total_nodes||"undefined"!=typeof t.interesting&&0!==t.interesting||u(t.resource.url,m.alwaysSendXhr)){if(BOOMR.utils.inArray(t.type,BOOMR.constants.BEACON_TYPE_SPAS)){n.lastSpaLocation=t.resource.url;if(!t.forced){"spa"===t.type&&0===t.total_nodes&&(t.resource.timing.loadEventEnd=t.resource.timing.requestStart+1);if("spa_hard"===t.type){var r=BOOMR.getPerformance();r&&r.timing&&r.timing.loadEventEnd&&t.resource.timing.loadEventEnd&&t.resource.timing.loadEventEnd<r.timing.loadEventEnd&&(t.resource.timing.loadEventEnd=r.timing.loadEventEnd)}}}this.sendResource(t.resource,e)}else this.pending_events[e]=undefined}else this.pending_events[e]=undefined;else{BOOMR.fireEvent("spa_cancel");this.pending_events[e]=undefined}}else setTimeout(function(){n.sendEvent(e)},500)}};s.prototype.sendResource=function(n,r){var i=this,e=i.pending_events[r],o=n.timing?n.timing.requestStart:undefined,t=function(e,t){e&&(n.timing.loadEventEnd=t||BOOMR.now());BOOMR.real_sendBeacon();n.onComplete&&n.onComplete(n);BOOMR.plugins.ResourceTiming&&BOOMR.plugins.ResourceTiming.is_enabled()&&n.timing&&n.timing.requestStart&&(n.restiming=BOOMR.plugins.ResourceTiming.getCompressedResourceTiming(n.timing.requestStart,n.timing.loadEventEnd));if(BOOMR.utils.inArray(n.initiator,BOOMR.constants.BEACON_TYPE_SPAS)){i.calculateSpaTimings(n);if("number"==typeof r&&i.pending_events[r].aborted){BOOMR.addVar("pgu",a.URL,!0);BOOMR.addVar("rt.quit","",!0);BOOMR.addVar("rt.abld","",!0)}}BOOMR.responseEnd(n,o,n);"number"==typeof r&&(i.pending_events[r]=undefined)};"spa_hard"!==n.initiator||e&&e.aborted||BOOMR.hasBrowserOnloadFired()?t(!1):BOOMR.utils.addListener(p,"load",function(){var e=BOOMR.now();BOOMR.setImmediate(function(){t(!0,e)})})};s.prototype.calculateSpaTimings=function(e){var t=BOOMR.getPerformance();if(t&&t.timing)if("spa_hard"===e.initiator){e.timing.responseEnd=t.timing.responseStart;e.timing.fetchStart=t.timing.navigationStart}else if(BOOMR.plugins.ResourceTiming&&BOOMR.plugins.ResourceTiming.is_supported()){var n=BOOMR.plugins.ResourceTiming.getFilteredResourceTiming(e.timing.requestStart,e.timing.loadEventEnd,m.spaBackEndResources).entries,r=Math.round(e.timing.loadEventEnd-e.timing.requestStart);if(n&&n.length){for(var i=e.timing.loadEventEnd-t.timing.navigationStart,o=0;o<n.length;o++)if(n[o].responseStart>i){n[o].responseStart=i;n[o].responseEnd=i}else n[o].responseEnd>i&&(n[o].responseEnd=i);var a=Math.round(BOOMR.plugins.ResourceTiming.calculateResourceTimingUnion(n)),t=r-a;a<0||r<0||t<0?BOOMR.addError("Incorrect SPA time calculation"):e.timers={t_resp:a,t_page:t,t_done:r}}else e.timers={t_resp:0,t_page:r,t_done:r}}};s.prototype.setTimeout=function(e,t){var n=this;if(e){this.clearTimeout(t);this.timer=setTimeout(function(){n.timedout(t)},e)}};s.prototype.timedout=function(e){var t;this.clearTimeout(e);(t=this.pending_events[e])&&(!BOOMR.utils.inArray(t.type,BOOMR.constants.BEACON_TYPE_SPAS)||BOOMR.hasBrowserOnloadFired()?0===t.nodes_to_wait&&this.sendEvent(e):this.setTimeout(m.spaIdleTimeout,e))};s.prototype.clearTimeout=function(e){if(this.timer&&e===this.pending_events.length-1){clearTimeout(this.timer);this.timer=null}};s.prototype.load_cb=function(e,t){var n=BOOMR.now(),r=e.target||e.srcElement;if(r&&r._bmr){e=r._bmr.idx;t=void 0!==t?t:r._bmr.res||0;if(!r._bmr.end[t]){r._bmr.end[t]=n;this.load_finished(e,n)}}};s.prototype.monitorMO=function(e){e=this.pending_events[e];e&&delete e.ignoreMO};s.prototype.load_finished=function(e,t){var n=this.pending_events[e];if(n){n.nodes_to_wait--;if(0===n.nodes_to_wait){n.resource.timing.loadEventEnd=t||BOOMR.now();if(e===this.pending_events.length-1)if(BOOMR.utils.inArray(n.type,BOOMR.constants.BEACON_TYPE_SPAS)){if(!n.firedEarlyBeacon&&BOOMR.plugins.Early&&BOOMR.plugins.Early.is_supported()){if(this.timerEarlyBeacon){clearTimeout(this.timerEarlyBeacon);this.timerEarlyBeacon=null}this.timerEarlyBeacon=setTimeout(function(){l.timerEarlyBeacon=null;if(!n.firedEarlyBeacon&&0===n.nodes_to_wait){n.firedEarlyBeacon=!0;BOOMR.plugins.Early.sendEarlyBeacon(n.resource,n.type)}},100)}this.setTimeout(m.spaIdleTimeout,e)}else this.setTimeout(m.xhrIdleTimeout,e);else this.sendEvent(e)}}};s.prototype.wait_for_node=function(t,n){var r,i,o,e,a,s,u,c,l=this,d=!1,f=!1;if(t&&t.nodeName&&(t.nodeName.toUpperCase().match(/^(IMG|IFRAME|IMAGE)$/)||"LINK"===t.nodeName.toUpperCase()&&t.rel&&t.rel.match(/\bstylesheet\b/i))){t._bmr&&"number"==typeof t._bmr.res&&t._bmr.end[t._bmr.res]&&(f=!0);e=t.src||"function"==typeof t.getAttribute&&t.getAttribute("xlink:href")||p.SVGAnimatedString&&t.href instanceof p.SVGAnimatedString&&t.href.baseVal||t.href;t._bmr&&t._bmr.url!==e&&(f=!0);if(f&&"function"==typeof t._bmr.listener){l.load_cb({target:t,type:"changed"});t.removeEventListener("load",t._bmr.listener);t.removeEventListener("error",t._bmr.listener);delete t._bmr.listener}if(!e||!e.match||e.match(/^(about:|javascript:|data:)/i))return!1;if("IMG"===t.nodeName){if(t.naturalWidth&&!f)return!1;if("function"==typeof t.getAttribute&&""===t.getAttribute("src"))return!1;if("lazy"===t.loading)return!1}if("IFRAME"===t.nodeName&&f)return!1;if("function"==typeof t.getAttribute){s=parseInt(t.getAttribute("height"),10);u=parseInt(t.getAttribute("width"),10)}isNaN(s)&&(s=!t.style||"0"!==t.style.height&&"0px"!==t.style.height&&"1px"!==t.style.height?undefined:0);isNaN(u)&&(u=!t.style||"0"!==t.style.width&&"0px"!==t.style.width&&"1px"!==t.style.width?undefined:0);if(!isNaN(s)&&s<=1&&!isNaN(u)&&u<=1)return!1;if(0===s||0===u)return!1;if(t.style&&("none"===t.style.display||"hidden"===t.style.visibility||"0"===t.style.opacity))return!1;if(m.domExcludeFilter(t))return!1;if(!(u=this.pending_events[n]))return!1;a=u.resources.length;u.urls||(u.urls={});if(u.urls[e])return!1;if(!u.resource.url){O.href=e;if(m.xhrExcludeFilter(O))return!1;u.resource.url=O.href}t._bmr||(t._bmr={end:{}});t._bmr.res=a;t._bmr.idx=n;delete t._bmr.end[a];t._bmr.url=e;c=function(e){l.load_cb(e,a);t.removeEventListener("load",c);t.removeEventListener("error",c);delete t._bmr.listener};t._bmr.listener=c;t.addEventListener("load",c);t.addEventListener("error",c);u.nodes_to_wait++;this.clearTimeout(n);u.total_nodes++;u.resources.push(t);u.urls[e]=1;d=!0}else t.nodeType===Node.ELEMENT_NODE&&["IMAGE","IMG"].forEach(function(e){if((r=t.getElementsByTagName(e))&&r.length)for(i=0,o=r.length;i<o;i++)d|=this.wait_for_node(r[i],n)},this);return d};s.prototype.add_event_resource=function(e){var t,n=this.pending_events.length-1;if(n<0)return-1;if(!(t=this.pending_events[n]))return-1;if(!e)return-1;t.xhr_resources.push(e.url);t.nodes_to_wait++;t.total_nodes++;e.index=n;e.node=!0;return n};s.prototype.mutation_cb=function(e){var i,o,a;if(!this.watch)return!0;if((o=(i=this).pending_events.length-1)<0||!this.pending_events[o])return!0;if((a=this.pending_events[o]).ignoreMO)return!0;"undefined"==typeof a.interesting&&(a.interesting=!1);if(e&&e.length){a.resource.timing.domComplete=BOOMR.now();e.forEach(function(e){var t,n,r;if("attributes"===e.type)a.interesting|=i.wait_for_node(e.target,o);else if("childList"===e.type){n=e.addedNodes.length;for(t=0;t<n;t++)a.interesting|=i.wait_for_node(e.addedNodes[t],o);n=e.removedNodes.length;for(t=0;t<n;t++)"IFRAME"===(r=e.removedNodes[t]).nodeName&&r._bmr&&i.load_cb({target:r,type:"removed"})}})}if(!a.interesting&&!a.timeoutExtended){this.setTimeout(1e3,o);a.timeoutExtended=!0}return!0};s.prototype.queue_is_empty=function(){return 0===this.nodesWaitingFor()};s.prototype.nodesWaitingFor=function(e){if(0===this.pending_events.length)return 0;void 0===e&&(e=this.pending_events.length-1);return(e=this.pending_events[e])?e.nodes_to_wait:0};s.prototype.completeEvent=function(e){var t,n=BOOMR.now();if(0!==this.pending_events.length){void 0===e&&(e=this.pending_events.length-1);if(t=this.pending_events[e]){t.resource.timing.loadEventEnd=n;t.forced=!0;this.sendEvent(e)}}};l=new s;m={spaBackEndResources:["xmlhttprequest","script","fetch"],alwaysSendXhr:!1,xhrExcludeFilters:[],domExcludeFilters:[],initialized:!1,captureXhrRequestResponse:!1,singlePageApp:!1,spaStartFromClick:!1,autoXhrEnabled:!1,monitorFetch:!1,fetchBodyUsedWait:200,spaIdleTimeout:1e3,xhrIdleTimeout:50,xhrRequireChanges:!0,xhrExcludeFilter:function(e){var t,n;if(!e||!e.href)return!1;for(t=0;t<m.xhrExcludeFilters.length;t++)if("function"==typeof m.xhrExcludeFilters[t].cb){n=m.xhrExcludeFilters[t].ctx;try{if(m.xhrExcludeFilters[t].cb.call(n,e))return!0}catch(r){BOOMR.addError(r,"BOOMR.plugins.AutoXHR.impl.xhrExcludeFilter()")}}return!1},domExcludeFilter:function(e){for(var t,n=0;n<m.domExcludeFilters.length;n++)if("function"==typeof m.domExcludeFilters[n].cb){t=m.domExcludeFilters[n].ctx;m.domExcludeFilters[n].name;try{if(m.domExcludeFilters[n].cb.call(t,e))return!0}catch(r){BOOMR.addError(r,"BOOMR.plugins.AutoXHR.impl.domExcludeFilter()")}}return!1},loadFinished:function(t,e){var n,r,i;e=e||BOOMR.now();if(!t.timing.loadEventEnd){t.status&&BOOMR.fireEvent("xhr_error",t);t.timing.loadEventEnd=e;if((i=BOOMR.getPerformance())&&i.timing){r=i.timing.navigationStart;if(n=BOOMR.getResourceTiming(t.url,function(e,t){return e.responseEnd-t.responseEnd},function(e){return Math.ceil(r+e.startTime+2)>=t.timing.requestStart&&0!==e.responseEnd})){e=Math.floor(r+n.startTime);if((i=Math.floor(r+n.responseEnd))<=BOOMR.now()){t.timing.responseEnd=i;t.timing.loadEventEnd<i&&(t.timing.loadEventEnd=i);t.fromClick&&t.timing.requestStart||(t.timing.requestStart=e);t.timing.fetchStart=e;0!==n.responseStart&&(t.timing.responseStart=Math.floor(r+n.responseStart));t.restiming=n}}}t.node&&u(t.url,m.alwaysSendXhr)&&l.sendResource(t);if(0<=t.index){l.monitorMO(t.index);l.load_finished(t.index,t.timing.responseEnd)}}}};BOOMR.plugins.AutoXHR={is_complete:function(){return!0},init:function(e){var t,n;a=p.document;if(p&&a){O=a.createElement("A");BOOMR.utils.pluginConfig(m,e,"AutoXHR",["spaBackEndResources","alwaysSendXhr","monitorFetch","fetchBodyUsedWait","spaIdleTimeout","xhrIdleTimeout","xhrRequireChanges","spaStartFromClick"]);if(!m.initialized){BOOMR.instrumentXHR=h;BOOMR.uninstrumentXHR=g;BOOMR.instrumentFetch=c;BOOMR.uninstrumentFetch=f;this.addExcludeFilter(o,null,"shouldExcludeXhr");m.initialized=!0}if(e&&e.AutoXHR&&e.AutoXHR.excludeFilters&&0<e.AutoXHR.excludeFilters.length)for(n=0;n<e.AutoXHR.excludeFilters.length;n++)"function"==typeof e.AutoXHR.excludeFilters[n]?m.xhrExcludeFilters.push({cb:e.AutoXHR.excludeFilters[n],ctx:this,name:"unknown XHR filter"}):m.xhrExcludeFilters.push(e.AutoXHR.excludeFilters[n]);if(e&&e.AutoXHR&&e.AutoXHR.domExcludeFilters&&0<e.AutoXHR.domExcludeFilters.length)for(n=0;n<e.AutoXHR.domExcludeFilters.length;n++)"function"==typeof e.AutoXHR.domExcludeFilters[n]?m.domExcludeFilters.push({cb:e.AutoXHR.domExcludeFilters[n],ctx:this,name:"unknown DOM filter"}):m.domExcludeFilters.push(e.AutoXHR.domExcludeFilters[n]);m.autoXhrEnabled=m.autoXhrEnabled||e.instrument_xhr;m.singlePageApp=m.singlePageApp||BOOMR.plugins.SPA&&BOOMR.plugins.SPA.isSinglePageApp(e);if(m.alwaysSendXhr&&m.autoXhrEnabled&&BOOMR.xhr&&"function"==typeof BOOMR.xhr.stop){function r(e){if(e.length)for(t=0;t<e.length;t++)R(e[t]);else R(e)}var i=BOOMR.xhr.stop(r);i&&i.length&&BOOMR.setImmediate(r,i)}if("undefined"!=typeof e.instrument_xhr)if(m.singlePageApp){m.alwaysSendXhr||(m.autoXhrEnabled=!1);if(m.autoXhrEnabled){BOOMR.instrumentXHR();BOOMR.instrumentFetch()}}else if(m.autoXhrEnabled){BOOMR.instrumentXHR();BOOMR.instrumentFetch()}else if(!1===m.autoXhrEnabled){BOOMR.uninstrumentXHR();BOOMR.uninstrumentFetch()}BOOMR.registerEvent("xhr_error")}},getMutationHandler:function(){return l},getPathname:n,enableAutoXhr:function(){if(!m.autoXhrEnabled){BOOMR.instrumentXHR();BOOMR.instrumentFetch()}m.autoXhrEnabled=!0},addExcludeFilter:function(e,t,n){m.xhrExcludeFilters.push({cb:e,ctx:t,name:n})},addDomExcludeFilter:function(e,t,n){m.domExcludeFilters.push({cb:e,ctx:t,name:n})},setXhrRequestResponseCapturing:function(e){m.captureXhrRequestResponse=e}}}function n(e){if(!e)return null;e.href=e.href;e=e.pathname;return e="/"!==e.charAt(0)?"/"+e:e}function o(e){var t;if(e.href){if(e.href.match(/^(about:|javascript:|data:)/i))return!0;if("function"==typeof BOOMR.getBeaconURL&&BOOMR.getBeaconURL()&&(0===(t=e.href.indexOf(BOOMR.getBeaconURL()))||5===t||6===t))return!0}return BOOMR.xhr_excludes.hasOwnProperty(e.href)||BOOMR.xhr_excludes.hasOwnProperty(e.hostname)||BOOMR.xhr_excludes.hasOwnProperty(n(e))}function s(){this.watch=0;this.timer=null;this.timerEarlyBeacon=null;this.pending_events=[];this.lastSpaLocation=null}function u(e,t){var n,r;if(t&&e){if("boolean"==typeof t)return!0===t;if("function"==typeof t)try{return!0===t(e)}catch(i){return}if(BOOMR.utils.isArray(t))for(n=0;n<t.length;n++){if("string"==typeof(r=t[n])&&r===e)return 1;if(r instanceof RegExp&&r.test(e))return 1}}}function c(){if(m.monitorFetch&&"function"==typeof p.fetch&&"function"==typeof p.Request&&"function"==typeof p.Response&&"function"==typeof p.Promise&&"function"==typeof BOOMR.window.fetch&&!p.fetch.polyfill&&!(BOOMR.proxy_fetch&&BOOMR.proxy_fetch===p.fetch||BOOMR.wrapped_fetch))if(BOOMR.proxy_fetch&&BOOMR.orig_fetch&&BOOMR.orig_fetch===p.fetch)p.fetch=BOOMR.proxy_fetch;else{BOOMR.orig_fetch=p.orig_fetch||p.fetch;BOOMR.proxy_fetch=function(e,t){var n,r,i,o={timing:{},initiator:"xhr"};if("object"==typeof e&&e instanceof p.Request){n=e.url;r=t&&t.method||e.method||"GET";m.captureXhrRequestResponse&&(i=t&&t.body||e.body||undefined)}else{n=e;r=t&&t.method||"GET";m.captureXhrRequestResponse&&(i=t&&t.body||undefined)}O.href=n;if(m.xhrExcludeFilter(O))return BOOMR.orig_fetch.apply(p,arguments);BOOMR.fireEvent("xhr_init","fetch");o.url=O.href;o.method=r;o.type="fetch";i&&(o.requestPayload=i);BOOMR.fireEvent("xhr_send",{resource:o});l.addEvent(o);try{o.timing.requestStart||(o.timing.requestStart=BOOMR.now());var a=BOOMR.orig_fetch.apply(this,arguments);function s(r,i,o){function a(){var e;if(o.fetchResponse&&!o.fetchResponse.bodyUsed&&m.fetchBodyUsedWait){e=BOOMR.now();o.responseBodyNotUsed=!0;setTimeout(function(){m.loadFinished(o,e)},m.fetchBodyUsedWait)}else m.loadFinished(o)}return function(){var e,t=r._bmrNextP;try{e=i.apply(this===window?p:this,arguments);for(;t&&!t._bmrHasOnFulfilled;)t=t._bmrNextP;t||(e instanceof p.Promise?e.then=u(e,e.then,o):a());return e}catch(n){for(;t&&!t._bmrHasOnRejected;)t=t._bmrNextP;t||a();throw n}}}function u(r,i,o){return r._bmrNextP?i:function(e,t){var n=Array.prototype.slice.call(arguments);if(0<n.length){if("function"==typeof n[0]){n[0]=s(r,n[0],o);r._bmrHasOnFulfilled=!0}if(1<n.length&&"function"==typeof n[1]){n[1]=s(r,n[1],o);r._bmrHasOnRejected=!0}}n=i.apply(r,n);(r._bmrNextP=n).then=u(n,n.then,o);return n}}a.then=u(a,a.then,o);return a.then(function(e){var t,n=!1,r=!1;e.redirected&&(o.responseUrl=e.url);(e.status<200||400<=e.status)&&(o.status=e.status);o.fetchResponse=e;0<=o.index&&l.monitorMO(o.index);if(m.captureXhrRequestResponse&&"function"==typeof e.clone){if(t=e.headers.get("content-type")){n=-1!==t.indexOf("json");r=-1!==t.indexOf("xml")}o.response={};try{e.clone().text().then(function(e){o.response.text=e;o.response.raw=e;r&&"function"==typeof p.DOMParser&&(o.response.xml=(new p.DOMParser).parseFromString(e,"text/xml"))}).then(null,function(e){})}catch(i){}if(n)try{e.clone().json().then(function(e){o.response.json=e}).then(null,function(e){})}catch(i){}}return e},function(e){!e||"AbortError"!==e.name&&20!==e.code?o.status=-998:o.status=-999;throw e})}catch(c){o.status=-997;m.loadFinished(o);throw c}};BOOMR.utils.overwriteNative(p,"fetch",BOOMR.proxy_fetch);BOOMR.wrapped_fetch=!0}}function f(){if("function"==typeof p.fetch&&BOOMR.orig_fetch&&BOOMR.orig_fetch!==p.fetch){p.fetch=BOOMR.orig_fetch;BOOMR.wrapped_fetch=!1}}function h(){if(!(BOOMR.proxy_XMLHttpRequest&&BOOMR.proxy_XMLHttpRequest===p.XMLHttpRequest||BOOMR.wrapped_XMLHttpRequest))if(BOOMR.proxy_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest===p.XMLHttpRequest){p.XMLHttpRequest=BOOMR.proxy_XMLHttpRequest;s.start()}else{BOOMR.orig_XMLHttpRequest=p.orig_XMLHttpRequest||p.XMLHttpRequest;s.start();!function e(){BOOMR.subscribe("click",function(){if(!m.singlePageApp||m.spaStartFromClick){var e={timing:{},initiator:"click"};if(BOOMR.orig_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest!==p.XMLHttpRequest){e.timing.requestStart=BOOMR.now();l.addEvent(e)}}})}();BOOMR.proxy_XMLHttpRequest=function(){var o={timing:{},initiator:"xhr"},a=!1,s=!1,u=new BOOMR.orig_XMLHttpRequest,c=u.open,t=u.send;u.open=function(e,t,n){O.href=t;if(m.xhrExcludeFilter(O)){s=!0;return c.apply(u,arguments)}s=!1;void 0===n&&(n=!0);BOOMR.fireEvent("xhr_init","xhr");function r(t,n){u.addEventListener(t,function(){if("readystatechange"===t){o.timing[d[u.readyState]]=BOOMR.now();if(4===u.readyState&&0!==u.status){u.responseURL!==o.url&&(o.responseUrl=u.responseURL);(u.status<200||400<=u.status)&&(o.status=u.status);if(m.captureXhrRequestResponse){o.response={text:""===u.responseType||"text"===u.responseType?u.responseText:null,xml:""===u.responseType||"document"===u.responseType?u.responseXML:null,raw:u.response,json:u.responseJSON};if(u.response&&u.response.constructor&&u.response.constructor===BOOMR.boomerang_frame.Object&&BOOMR.boomerang_frame.Object!==p.Object)try{u.response.constructor=p.Object}catch(e){}}m.loadFinished(o)}else if(0===u.readyState&&"number"==typeof o.timing.open){u.responseURL!==o.url&&(o.responseUrl=u.responseURL);o.status=-999;m.loadFinished(o)}}else{u.responseURL!==o.url&&(o.responseUrl=u.responseURL);"load"===t?0!==u.status&&(u.status<200||400<=u.status)&&(o.status=u.status):o.status=void 0===n?u.status:n;m.loadFinished(o)}},!1)}if(!a){n&&r("readystatechange");r("load");r("timeout",-1001);r("error",-998);r("abort",-999)}o.url=O.href;o.method=e;o.type="xhr";delete o.status;n||(o.synchronous=!0);a=!0;try{return c.apply(u,arguments)}catch(i){o.status=-997;m.loadFinished(o);throw i}};u.send=function(e){if(s)return t.apply(u,arguments);m.captureXhrRequestResponse&&(u.resource.requestPayload=e);BOOMR.fireEvent("xhr_send",u);l.addEvent(o);o.timing.requestStart||(o.timing.requestStart=BOOMR.now());return"undefined"==typeof o.status||-997!==o.status?t.apply(u,arguments):void 0};u.resource=o;return u};BOOMR.proxy_XMLHttpRequest.UNSENT=0;BOOMR.proxy_XMLHttpRequest.OPENED=1;BOOMR.proxy_XMLHttpRequest.HEADERS_RECEIVED=2;BOOMR.proxy_XMLHttpRequest.LOADING=3;BOOMR.proxy_XMLHttpRequest.DONE=4;BOOMR.proxy_XMLHttpRequest.prototype=BOOMR.orig_XMLHttpRequest.prototype;BOOMR.utils.overwriteNative(p,"XMLHttpRequest",BOOMR.proxy_XMLHttpRequest);BOOMR.wrapped_XMLHttpRequest=!0}}function g(){if(BOOMR.orig_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest!==p.XMLHttpRequest){p.XMLHttpRequest=BOOMR.orig_XMLHttpRequest;BOOMR.wrapped_XMLHttpRequest=!1}}function R(e){e.initiator="xhr";BOOMR.responseEnd(e)}}();!function(){var u,n=!1,t=!1,c=!1,l=!1,d=!1,f=!0,p=!1,O=!1,m=!1,h=!1,r=[],g=!1,i=0,o=0;if(!BOOMR.plugins.SPA&&BOOMR.plugins.AutoXHR){var a={useSoftNavStart:!1,spaHardMissedOnComplete:function(e){var t=BOOMR.plugins.RT&&BOOMR.plugins.RT.navigationStart(),n=BOOMR.plugins.AutoXHR.getMutationHandler();g=!1;BOOMR.addVar("spa.missed","1",!0);BOOMR.plugins.RT&&BOOMR.plugins.RT.clearTimer("t_done");e.timing.requestStart=t;(n=n.pending_events[e.index])&&0!==n.total_nodes||(n=BOOMR.getPerformance())&&n.timing&&n.timing.navigationStart&&n.timing.loadEventEnd&&"undefined"==typeof e.timing.loadEventEnd&&(e.timing.loadEventEnd=n.timing.loadEventEnd)},pageReady:function(){l=!0},onSoftNavObserver:function(e){e=e.getEntries();if(0!==e.length){i=e[e.length-1].startTime;o+=e.length}},onSoftNavObserverBeforeBeacon:function(e){if("spa"===e["http.initiator"]){if(i){e=Math.floor((BOOMR.plugins.RT.navigationStart()||BOOMR.t_lstart||BOOMR.t_start)+i);BOOMR.addVar("spa.snh.s",e,!0);i=0}BOOMR.addVar("spa.snh.n",o,!0);o=0}}};BOOMR.plugins.SPA={is_complete:function(e){return!g||e&&("error"===e["http.initiator"]||"undefined"!=typeof e.early)},init:function(e){BOOMR.utils.pluginConfig(a,e,"SPA",["useSoftNavStart"]);if(e&&e.instrument_xhr){d=e.instrument_xhr;c&&d&&BOOMR.plugins.AutoXHR.enableAutoXhr()}if(!t){e=document.createElement("meta");e.httpEquiv="origin-trial";e.content="A6MWCkFp/4goXtWiSJNfo09g03RCQpXkuDZDGnlApjvSPZL4CIhvZx3xGfg6bCT4TRppCXmFXWDEkxA7DO3nZgQAAACGeyJvcmlnaW4iOiJodHRwczovL2dvLW1wdWxzZS5uZXQ6NDQzIiwiZmVhdHVyZSI6IlNvZnROYXZpZ2F0aW9uSGV1cmlzdGljcyIsImV4cGlyeSI6MTcwOTY4MzE5OSwiaXNTdWJkb21haW4iOnRydWUsImlzVGhpcmRQYXJ0eSI6dHJ1ZX0=";document.head.append(e);BOOMR.subscribe("page_ready",a.pageReady,null,a);if("function"==typeof BOOMR.window.PerformanceObserver&&"function"==typeof BOOMR.window.SoftNavigationEntry){a.observer=new BOOMR.window.PerformanceObserver(a.onSoftNavObserver);a.observer.observe({type:"soft-navigation",buffered:!0});BOOMR.subscribe("before_beacon",a.onSoftNavObserverBeforeBeacon,null,a)}t=!0}},register:function(e){r.push(e)},supported_frameworks:function(){return r},onLoadSpaHardMissed:function(){if(!c){l=!0;d&&BOOMR.plugins.AutoXHR.enableAutoXhr();g=!0;h?g=!1:BOOMR.plugins.SPA.route_change(a.spaHardMissedOnComplete)}},hook:function(e,t){"function"==typeof(t=t||{}).routeFilter&&(p=t.routeFilter);"function"==typeof t.routeChangeWaitFilter&&(O=t.routeChangeWaitFilter);"boolean"==typeof t.routeChangeWaitFilterHardNavs&&(m=t.routeChangeWaitFilterHardNavs);t.disableHardNav&&(h=t.disableHardNav);if(n)return this;e&&BOOMR.attach_page_ready(this.onLoadSpaHardMissed);n=!0;return this},route_change:function(t,e){var n=BOOMR.now(),r=!1,i=f&&!h?"spa_hard":"spa";if(!u||!u.wait){if("spa"==i&&p)try{if(!p.apply(null,e))return}catch(s){BOOMR.addError(s,"SPA.route_change.routeFilter")}c=!0;var o=BOOMR.plugins.RT&&BOOMR.plugins.RT.navigationStart(),n=f&&!l?o:n;f&&g&&(n=o);var o=BOOMR.window.document.URL,a={timing:{requestStart:n},initiator:i,url:o};l=!(f=!1);a.onComplete=function(e){if(!r){r=!0;BOOMR.fireEvent("spa_navigation",[a.timing])}"function"==typeof t&&t(e)};if(("spa"==i||m)&&O)try{if(O.apply(null,arguments)){a.wait=!0;u=a}}catch(s){BOOMR.addError(s,"SPA.route_change.routeChangeWaitFilter")}a.index=BOOMR.plugins.AutoXHR.getMutationHandler().addEvent(a);BOOMR.fireEvent("spa_init",[BOOMR.plugins.SPA.current_spa_nav(),o,a.timing]);d&&BOOMR.plugins.AutoXHR.enableAutoXhr()}},last_location:function(e){lastLocationChange=e},current_spa_nav:function(){return l?"spa":"spa_hard"},wait_complete:function(){if(u){u.wait=!1;u.waitComplete&&u.waitComplete();u=null}},markNavigationComplete:function(){var e,t,n=BOOMR.plugins.AutoXHR.getMutationHandler();u&&u.wait&&BOOMR.plugins.SPA.wait_complete();if(n&&0<n.pending_events.length)for(e=n.pending_events.length-1;0<=e;e--)if((t=n.pending_events[e])&&BOOMR.utils.inArray(t.type,BOOMR.constants.BEACON_TYPE_SPAS)){if(t.complete)break;n.nodesWaitingFor(e);BOOMR.addVar("spa.forced","1",!0);BOOMR.addVar("spa.waiting",n.nodesWaitingFor(),!0);n.completeEvent(e);return}},isSpaNavInProgress:function(){var e,t,n=BOOMR.plugins.AutoXHR.getMutationHandler();if(n&&0<n.pending_events.length)for(e=n.pending_events.length-1;0<=e;e--)if((t=n.pending_events[e])&&BOOMR.utils.inArray(t.type,BOOMR.constants.BEACON_TYPE_SPAS))return!t.complete;return!1},isSinglePageApp:function(e){for(var t=!1,n=this.supported_frameworks(),r=0;r<n.length;r++){var i=n[r];if(e[i]&&e[i].enabled){t=!0;break}}return t}};BOOMR.plugins.SPA.waitComplete=BOOMR.plugins.SPA.wait_complete}}();!function(){var u={monitorHistory:!0,enabled:!0,hooked:!1,routeChangeInProgress:!1,disableHardNav:!1,routeFilter:undefined,routeChangeWaitFilter:undefined,routeChangeWaitFilterHardNavs:!1,monitorReplaceState:!0,a:undefined,browserOnloadBeforeSetup:!1,DEPRECATED_PLUGINS:["Angular","Backbone","Ember"],resetRouteChangeInProgress:function(e){if(!(e&&("undefined"!=typeof e.early||e["http.initiator"]&&0===e["http.initiator"].indexOf("api_custom_"))||e&&"xhr"===e["http.initiator"])){u.routeChangeInProgress&&clearTimeout(u.routeChangeInProgress);u.routeChangeInProgress=!1}},setRouteChangeInProgress:function(){u.routeChangeInProgress&&clearTimeout(u.routeChangeInProgress);u.routeChangeInProgress=setTimeout(u.resetRouteChangeInProgress,50)},routeChange:function(e){if(u.enabled){if((!u.disableHardNav||BOOMR.onloadFired())&&!u.routeChangeInProgress){if(e.toUrl){u.a.href=e.toUrl;e.toUrl=u.a.href}BOOMR.plugins.SPA.route_change(null,[e.type,e.fromUrl,e.toUrl])}}else u.resetRouteChangeInProgress()}};if(!BOOMR.plugins.History&&"undefined"!=typeof BOOMR.plugins.SPA&&"undefined"!=typeof BOOMR.plugins.AutoXHR&&BOOMR.window&&BOOMR.window.document){BOOMR.plugins.SPA.register("History");u.a=BOOMR.window.document.createElement("A");BOOMR.plugins.History={is_complete:function(){return!0},hook:function(e,t,n){(n=n||{}).disableHardNav=u.disableHardNav;u.routeFilter&&(n.routeFilter=u.routeFilter);u.routeChangeWaitFilter&&(n.routeChangeWaitFilter=u.routeChangeWaitFilter);u.routeChangeWaitFilterHardNavs&&(n.routeChangeWaitFilterHardNavs=u.routeChangeWaitFilterHardNavs);!u.hooked&&u.monitorHistory&&function s(){var r,o,t,e,n,i=BOOMR.window.history;"function"==typeof i.pushState&&(i.pushState=(r=i.pushState,function(e,t,n){u.routeChange({type:"pushState",fromUrl:BOOMR.window.document.URL,toUrl:n});return r.apply(this,arguments)}));u.monitorReplaceState&&"function"==typeof i.replaceState&&(i.replaceState=(o=i.replaceState,function(e,t,n){var r=BOOMR.window.document.URL,i=r;if(3<=arguments.length&&null!=n){u.a.href=n;i=u.a.href}BOOMR.plugins.SPA.isSpaNavInProgress()&&i===r||u.routeChange({type:"pushState",fromUrl:BOOMR.window.document.URL,toUrl:n});return o.apply(this,arguments)}));"function"==typeof i.go&&(i.go=(t=i.go,function(e){u.routeChange({type:"go",fromUrl:BOOMR.window.document.URL});return t.apply(this,arguments)}));"function"==typeof i.back&&(i.back=(e=i.back,function(){u.routeChange({type:"back",fromUrl:BOOMR.window.document.URL});return e.apply(this,arguments)}));"function"==typeof i.forward&&(i.forward=(n=i.forward,function(){u.routeChange({type:"forward",fromUrl:BOOMR.window.document.URL});return n.apply(this,arguments)}));BOOMR.window.addEventListener("hashchange",function(e){u.routeChange({type:"hashchange",toUrl:(e||{}).newURL})});function a(){BOOMR.window.addEventListener("popstate",function(e){u.routeChange({type:"popstate",toUrl:BOOMR.window.document.URL})})}BOOMR.hasBrowserOnloadFired()?a():BOOMR.window.addEventListener("load",function(){setTimeout(a,0)});BOOMR.subscribe("beacon",u.resetRouteChangeInProgress);BOOMR.subscribe("spa_cancel",u.resetRouteChangeInProgress);BOOMR.subscribe("spa_init",u.setRouteChangeInProgress);u.browserOnloadBeforeSetup=BOOMR.hasBrowserOnloadFired()}();t=u.browserOnloadBeforeSetup;BOOMR.plugins.SPA.hook(t,n);if(!u.hooked&&!u.browserOnloadBeforeSetup&&(!u.disableHardNav||BOOMR.onloadFired())){BOOMR.plugins.SPA.route_change();u.setRouteChangeInProgress()}u.hooked=!0;return this},init:function(e){BOOMR.utils.pluginConfig(u,e,"History",["enabled","monitorHistory","disableHardNav","routeFilter","routeChangeWaitFilter","routeChangeWaitFilterHardNavs","monitorReplaceState"]);u.enabled&&this.hook();return this},disable:function(){u.enabled=!1;return this},enable:function(){u.enabled=!0;return this}};for(var e=0;e<u.DEPRECATED_PLUGINS.length;e++){var t=u.DEPRECATED_PLUGINS[e];BOOMR.plugins[t]=BOOMR.plugins.History;BOOMR.plugins[t]={init:function(t){return function(e){BOOMR.utils.pluginConfig(u,e,t,["enabled"]);u.enabled&&BOOMR.plugins.History.hook(undefined,undefined,{});return BOOMR.plugins[t]}}(t),enable:BOOMR.plugins.History.enable,hook:BOOMR.plugins.History.hook,is_complete:BOOMR.plugins.History.is_complete};BOOMR.plugins.SPA.register(t)}}}();!function(n){var r,a;if(!BOOMR.plugins.RT){a={onloadfired:!1,unloadfired:!1,visiblefired:!1,initialized:!1,complete:!1,autorun:!0,timers:{},cookie:"RT",cookie_exp:604800,session_exp:1800,strict_referrer:!0,navigationType:0,navigationStart:undefined,responseStart:undefined,loadTime:0,oboError:0,t_start:undefined,cached_t_start:undefined,cached_xhr_start:undefined,t_fb_approx:undefined,r:undefined,beacon_url:undefined,next_beacon_url:undefined,basic_timers:{t_done:1,t_resp:1,t_page:1},crossdomain_sending:!1,navigationStartSource:"",updateCookie:function(e,t){var n,r,i;if(!this.cookie)return!1;for(i in r=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookie))||{})r.hasOwnProperty(i)&&(isNaN(parseInt(i,10))||delete r[i]);if("object"==typeof e)for(i in e)e.hasOwnProperty(i)&&(e[i]===undefined?r.hasOwnProperty(i)&&delete r[i]:r[i]=e[i]);r.z=1;r.dm=BOOMR.session.domain;r.si=BOOMR.session.ID;r.ss=BOOMR.session.start.toString(36);r.sl=BOOMR.session.length.toString(36);1800!==a.session_exp&&(r.se=a.session_exp.toString(36));BOOMR.session.rate_limited&&(r.rl=1);r.tt=this.loadTime.toString(36);0<this.oboError?r.obo=this.oboError.toString(36):delete r.obo;n=BOOMR.now();if(t){r[t]=(n-BOOMR.session.start).toString(36);a.lastActionTime=n}this.beacon_url&&(r.bcn=this.beacon_url);if(!BOOMR.utils.setCookie(this.cookie,r,this.cookie_exp))return!1;if(50<(t=BOOMR.now())-n){BOOMR.utils.removeCookie(this.cookie);BOOMR.error("took more than 50ms to set cookie... aborting: "+n+" -> "+t,"rt")}return!0},refreshSession:function(e){if(e=e||BOOMR.plugins.RT.getCookie()){e.ss?BOOMR.session.start=e.ss:BOOMR.session.start=BOOMR.plugins.RT.navigationStart()||BOOMR.t_lstart||BOOMR.t_start;e.si&&e.si.match(/-/)&&(BOOMR.session.ID=e.si);e.sl&&(BOOMR.session.length=e.sl);e.tt&&(this.loadTime=e.tt);e.obo&&(this.oboError=e.obo);e.dm&&!BOOMR.session.domain&&(BOOMR.session.domain=e.dm);e.se&&(a.session_exp=e.se);e.bcn&&(this.beacon_url=e.bcn);e.rl&&"1"===e.rl&&(BOOMR.session.rate_limited=!0)}},maybeResetSession:function(e,t){var n=0;BOOMR.session.start&&BOOMR.session.length&&(n=(BOOMR.now()-BOOMR.session.start)/BOOMR.session.length);var r=1e3*a.session_exp;if(!BOOMR.session.start||t&&BOOMR.session.start>t||e-(a.lastActionTime||BOOMR.t_start)>r||r<n){BOOMR.session.start=t||BOOMR.plugins.RT.navigationStart()||BOOMR.t_lstart||BOOMR.t_start;BOOMR.session.length=0;BOOMR.session.rate_limited=!1;a.loadTime=0;a.oboError=0;a.beacon_url=a.next_beacon_url;a.lastActionTime=e;a.updateCookie({rl:undefined,sl:BOOMR.session.length,ss:BOOMR.session.start,tt:a.loadTime,obo:undefined,bcn:a.beacon_url})}},initFromCookie:function(){var e,t,n=BOOMR.plugins.RT.getCookie();this.cookie||(BOOMR.session.enabled=!1);if(n){n.s=Math.max(+n.ld||0,Math.max(+n.ul||0,+n.cl||0));if(n.s&&(n.r||n.nu)){this.r=n.r;e=BOOMR.utils.hashString(r.URL);t=BOOMR.utils.hashString(r&&r.referrer||"");n.cl;n.nu;if(!this.strict_referrer||n.cl&&n.nu&&n.nu===e&&n.s<+n.cl+15||n.s===+n.ul&&this.r===t){this.t_start=n.s;+n.hd>n.s&&(this.t_fb_approx=n.hd)}else this.t_start=this.t_fb_approx=undefined}n.s&&(this.lastActionTime=n.s);this.refreshSession(n);this.updateCookie({s:undefined,ul:undefined,cl:undefined,hd:undefined,ld:undefined,rl:undefined,r:undefined,nu:undefined,sh:undefined});this.maybeResetSession(BOOMR.now())}},incrementSessionDetails:function(){BOOMR.session.length++;!a.timers.t_done||isNaN(a.timers.t_done.delta)?a.oboError++:a.loadTime+=a.timers.t_done.delta},getBoomerangTimings:function(){var e,t,n,r,i;function o(e,t){e=Math.round(e||0),t=Math.round(t||0);return(e=0===e?0:e-t)||""}if(BOOMR.t_start){BOOMR.plugins.RT.startTimer("boomerang",BOOMR.t_start);BOOMR.plugins.RT.endTimer("boomerang",BOOMR.t_end);BOOMR.plugins.RT.endTimer("boomr_fb",BOOMR.t_start);if(BOOMR.t_lstart){BOOMR.plugins.RT.endTimer("boomr_ld",BOOMR.t_lstart);BOOMR.plugins.RT.setTimer("boomr_lat",BOOMR.t_start-BOOMR.t_lstart)}}try{if(window&&"performance"in window&&window.performance&&"function"==typeof window.performance.getEntriesByName){t={"rt.bmr":BOOMR.url};BOOMR.config_url&&(t["rt.cnf"]=BOOMR.config_url);for(n in t)if(t.hasOwnProperty(n)&&t[n]&&(e=window.performance.getEntriesByName(t[n]))&&0!==e.length&&e[0]){i=[r=o((e=e[0]).startTime,0),o(e.responseEnd,r),o(e.responseStart,r),o(e.requestStart,r),o(e.connectEnd,r),o(e.secureConnectionStart,r),o(e.connectStart,r),o(e.domainLookupEnd,r),o(e.domainLookupStart,r),o(e.redirectEnd,r),o(e.redirectStart,r)].join(",").replace(/,+$/,"");BOOMR.addVar(n,i,!0)}}}catch(a){a&&a.name&&a.name.hasOwnProperty("length")&&-1===a.name.indexOf("NS_ERROR_FAILURE")&&BOOMR.addError(a,"rt.getBoomerangTimings")}},checkPreRender:function(){if("prerender"!==BOOMR.visibilityState())return!1;BOOMR.plugins.RT.startTimer("t_load",this.navigationStart);BOOMR.plugins.RT.endTimer("t_load");BOOMR.plugins.RT.startTimer("t_prerender",this.navigationStart);BOOMR.plugins.RT.startTimer("t_postrender");return!0},initFromNavTiming:function(){var e,t;if(!this.navigationStart){(t=BOOMR.getPerformance())&&t.navigation&&(this.navigationType=t.navigation.type);if(t&&t.timing){e=t.timing;this.navigationStartSource="navigation"}else if(n.chrome&&n.chrome.csi&&n.chrome.csi().startE){e={navigationStart:n.chrome.csi().startE};this.navigationStartSource="csi"}else if(n.gtbExternal&&n.gtbExternal.startE()){e={navigationStart:n.gtbExternal.startE()};this.navigationStartSource="gtb"}if(e){this.navigationStart=e.navigationStart||e.fetchStart||undefined;this.fetchStart=e.fetchStart||undefined;this.responseStart=e.responseStart||undefined;!navigator.userAgentData&&navigator.userAgent.match(/Firefox\/[78]\./)&&(this.navigationStart=e.unloadEventStart||e.fetchStart||undefined)}}},validateLoadTimestamp:function(e,t,n){return t&&t.timing&&t.timing.loadEventEnd?t.timing.loadEventEnd:"xhr"!==n||t&&BOOMR.utils.inArray(t.initiator,BOOMR.constants.BEACON_TYPE_SPAS)?(t=BOOMR.getPerformance())&&t.timing?t.timing.loadEventEnd||e:BOOMR.t_onload||BOOMR.t_lstart||BOOMR.t_start||e:e},setPageLoadTimers:function(e,t,n){var r,i;if(!("xhr"===e||"early"===e&&n&&BOOMR.utils.inArray(n.initiator,BOOMR.constants.BEACON_TYPE_SPAS))){a.initFromCookie();a.initFromNavTiming();BOOMR.addVar("rt.start",this.navigationStartSource);if(a.checkPreRender())return!1}if("xhr"===e)if(n.timers)for(var o in n.timers)n.timers.hasOwnProperty(o)&&BOOMR.plugins.RT.setTimer(o,n.timers[o]);else n&&n.timing&&(void 0===(i=n.timing.fetchStart)||n.timing.responseEnd>=i)&&(r=n.timing.responseEnd);else a.responseStart?a.responseStart>=a.navigationStart&&a.responseStart>=a.fetchStart&&(r=a.responseStart):a.timers.hasOwnProperty("t_page")?BOOMR.plugins.RT.endTimer("t_page"):a.t_fb_approx&&(r=a.t_fb_approx);if(r&&"early"!==e){i?BOOMR.plugins.RT.setTimer("t_resp",i,r):BOOMR.plugins.RT.endTimer("t_resp",r);"load"===e&&a.timers.t_load?BOOMR.plugins.RT.setTimer("t_page",a.timers.t_load.end-r):t<r?BOOMR.addVar("t_page.inv",1,!0):t-r==0&&n&&n.timing&&n.timing.requestStart&&a.timers.t_resp&&a.timers.t_resp.delta?BOOMR.plugins.RT.setTimer("t_page",t-n.timing.requestStart-a.timers.t_resp.delta):BOOMR.plugins.RT.setTimer("t_page",t-r)}if("load"===e&&a.timers.hasOwnProperty("t_postrender")){BOOMR.plugins.RT.endTimer("t_postrender");BOOMR.plugins.RT.endTimer("t_prerender")}return!0},setSupportingTimestamps:function(e,t){e&&BOOMR.addVar("rt.tstart",e,!0);"number"==typeof a.navigationStart&&a.navigationStart!==e&&BOOMR.addVar("rt.nstart",a.navigationStart,!0);"number"==typeof a.t_start&&a.t_start!==e&&BOOMR.addVar("rt.cstart",a.t_start,!0);BOOMR.addVar("rt.bstart",BOOMR.t_start,!0);BOOMR.t_lstart&&BOOMR.addVar("rt.blstart",BOOMR.t_lstart,!0);"early"===t?BOOMR.addVar("rt.end",e||BOOMR.now(),!0):a.timers.t_done&&BOOMR.addVar("rt.end",a.timers.t_done.end,!0)},determineTStart:function(e,t){var n;if("xhr"===e||"early"===e&&t&&"spa"===t.initiator){t&&t.name&&a.timers[t.name]?n=a.timers[t.name].start:t&&t.timing&&t.timing.requestStart&&(n=t.timing.requestStart);void 0===n&&t&&BOOMR.utils.inArray(t.initiator,BOOMR.constants.BEACON_TYPE_SPAS)?BOOMR.addVar("rt.start","none"):BOOMR.addVar("rt.start","manual");a.cached_xhr_start=n}else{if(a.navigationStart)n=a.navigationStart;else if(a.t_start&&2!==a.navigationType){n=a.t_start;BOOMR.addVar("rt.start","cookie")}else if(a.cached_t_start)n=a.cached_t_start;else{BOOMR.addVar("rt.start","none");n=undefined}a.cached_t_start=n}return n},page_ready:function(){this.onloadfired=!0},check_visibility:function(){"visible"===BOOMR.visibilityState()&&(a.visiblefired=!0)},prerenderToVisible:function(){if(a.onloadfired&&a.autorun){BOOMR.addVar("vis.pre","1",!0);BOOMR.plugins.RT.done(null,"visible")}},page_unload:function(e){this.unloadfired||BOOMR.plugins.RT.done(e,"unload");this.updateCookie(!a.navigationStart&&a.strict_referrer?{r:BOOMR.utils.hashString(r.URL)}:null,"beforeunload"===e.type?"ul":"hd");this.unloadfired=!0},_iterable_click:function(e,t,n,r){if(n){for(;n&&n.nodeName&&n.nodeName.toUpperCase()!==t;)n=n.parentNode;if(n&&n.nodeName&&n.nodeName.toUpperCase()===t){this.refreshSession();this.maybeResetSession(BOOMR.now());r=r(n);this.updateCookie({nu:BOOMR.utils.hashString(r)},"cl");BOOMR.addVar("nu",BOOMR.utils.cleanupURL(r),!0)}}},onclick:function(e){a._iterable_click("Click","A",e,function(e){return e.href})},markComplete:function(){this.onloadfired&&(a.complete=!0)},onsubmit:function(e){a._iterable_click("Submit","FORM",e,function(e){e="function"==typeof e.getAttribute&&e.getAttribute("action")||r.URL||"";return e.match(/\?/)?e:e+"?"})},onconfig:function(e){e.beacon_url&&(a.beacon_url=e.beacon_url);if(e.RT){e.RT.oboError&&!isNaN(e.RT.oboError)&&e.RT.oboError>a.oboError&&(a.oboError=e.RT.oboError);if(e.RT.loadTime&&!isNaN(e.RT.loadTime)&&e.RT.loadTime>a.loadTime){a.loadTime=e.RT.loadTime;a.timers.t_done&&!isNaN(a.timers.t_done.delta)&&(a.loadTime+=a.timers.t_done.delta)}}},domloaded:function(){BOOMR.plugins.RT&&BOOMR.plugins.RT.endTimer("t_domloaded")},clear:function(e){e&&"undefined"!=typeof e.early||BOOMR.removeVar("rt.start")},spaNavigation:function(){a.onloadfired=!0}};BOOMR.plugins.RT={init:function(e){n!==BOOMR.window&&(n=BOOMR.window);e&&e.CrossDomain&&e.CrossDomain.sending&&(a.crossdomain_sending=!0);if(n&&n.document){r=n.document;BOOMR.utils.pluginConfig(a,e,"RT",["cookie","cookie_exp","session_exp","strict_referrer"]);e&&"undefined"!=typeof e.autorun&&(a.autorun=e.autorun);if(e&&e.beacon_url){a.beacon_url&&!e.force_beacon_url||(a.beacon_url=e.beacon_url);a.next_beacon_url=e.beacon_url}void 0!==r&&(a.r=BOOMR.utils.hashQueryString(r.referrer,!0));a.initFromCookie();if(a.initialized)return this;a.complete=!1;a.timers={};a.check_visibility();BOOMR.subscribe("page_ready",a.page_ready,null,a);BOOMR.subscribe("visibility_changed",a.check_visibility,null,a);BOOMR.subscribe("prerender_to_visible",a.prerenderToVisible,null,a);BOOMR.subscribe("page_ready",this.done,"load",this);BOOMR.subscribe("xhr_load",this.done,"xhr",this);BOOMR.subscribe("before_early_beacon",this.done,"early",this);BOOMR.subscribe("dom_loaded",a.domloaded,null,a);BOOMR.subscribe("page_unload",a.page_unload,null,a);BOOMR.subscribe("click",a.onclick,null,a);BOOMR.subscribe("form_submit",a.onsubmit,null,a);BOOMR.subscribe("before_beacon",this.addTimersToBeacon,"beacon",this);BOOMR.subscribe("beacon",a.clear,null,a);BOOMR.subscribe("error",a.markComplete,null,a);BOOMR.subscribe("config",a.onconfig,null,a);BOOMR.subscribe("spa_navigation",a.spaNavigation,null,a);BOOMR.subscribe("interaction",a.markComplete,null,a);BOOMR.getBeaconURL=function(){return a.beacon_url};a.initialized=!0;return this}},startTimer:function(e,t){if(e){"t_page"===e&&this.endTimer("t_resp",t);a.timers[e]={start:"number"==typeof t?t:BOOMR.now()}}return this},endTimer:function(e,t){if(e){a.timers[e]=a.timers[e]||{};a.timers[e].end===undefined&&(a.timers[e].end="number"==typeof t?t:BOOMR.now())}return this},clearTimer:function(e){e&&delete a.timers[e];return this},setTimer:function(e,t,n){e&&(a.timers[e]=void 0!==n?{start:t,end:n,delta:n-t}:{delta:t});return this},addTimersToBeacon:function(e,t){var n,r,i=[];for(n in a.timers)if(a.timers.hasOwnProperty(n)){if("number"!=typeof(r=a.timers[n]).delta){"number"!=typeof r.start&&(r.start="xhr"===t?a.cached_xhr_start:a.cached_t_start);r.delta=r.end-r.start}isNaN(r.delta)||(a.basic_timers.hasOwnProperty(n)?BOOMR.addVar(n,r.delta,!0):i.push(n+"|"+r.delta))}i.length&&BOOMR.addVar("t_other",i.join(","),!0);if("beacon"===t&&(!e||"undefined"==typeof e.early)){a.timers={};a.complete=!1}},done:function(e,t){if(BOOMR.plugins.RT){var n,r=BOOMR.now(),i=!1;a.complete=!1;n=a.validateLoadTimestamp(r,e,t);if(("load"===t||"visible"===t||"xhr"===t||"early"===t)&&!a.setPageLoadTimers(t,n,e))return this;("load"===t||"visible"===t||"early"===t&&(!e||"undefined"==typeof e.initiator||"spa_hard"===e.initiator)||"xhr"===t&&e&&"spa_hard"===e.initiator)&&a.getBoomerangTimings();r=a.determineTStart(t,e);a.refreshSession();a.maybeResetSession(n,r);"early"!==t&&this.endTimer("t_done",n);e&&"xhr"===e.initiator&&this.setTimer("t_done",e.timing.requestStart,e.timing.loadEventEnd);a.setSupportingTimestamps(r,t);this.addTimersToBeacon(null,t);BOOMR.setReferrer(a.r);"xhr"===t&&e&&e&&e.data&&(e=e.data);if("xhr"===t&&e){i=e.subresource;e.url&&BOOMR.addVar("u",BOOMR.utils.cleanupURL(e.url.replace(/#.*/,"")),!0);e.status&&(e.status<-1||400<=e.status)&&BOOMR.addVar("http.errno",e.status,!0);e.method&&"GET"!==e.method&&BOOMR.addVar("http.method",e.method,!0);e.type&&"xhr"!==e.type&&BOOMR.addVar("http.type",e.type[0],!0);e.headers&&BOOMR.addVar("http.hdr",e.headers,!0);e.synchronous&&BOOMR.addVar("xhr.sync",1,!0);e.initiator&&BOOMR.addVar("http.initiator",e.initiator,!0);e.responseBodyNotUsed&&BOOMR.addVar("fetch.bnu",1,!0);e.responseUrl&&BOOMR.addVar("xhr.ru",BOOMR.utils.cleanupURL(e.responseUrl),!0)}i&&"passive"!==i&&BOOMR.addVar("rt.subres",1,!0);if("load"===t||"visible"===t||"xhr"===t&&!i||"unload"===t&&!a.onloadfired&&a.autorun&&!a.crossdomain_sending){a.incrementSessionDetails();a.updateCookie(null,"ld")}BOOMR.addVar({"rt.tt":a.loadTime,"rt.obo":a.oboError},!0);a.updateCookie();if("unload"===t){BOOMR.addVar("rt.quit","",!0);a.onloadfired||BOOMR.addVar("rt.abld","",!0);a.visiblefired||BOOMR.addVar("rt.ntvu","",!0)}"early"!==t&&(a.complete=!0);BOOMR.sendBeacon(a.beacon_url);return this}},is_complete:function(e){return a.complete||e&&"error"===e["http.initiator"]||e&&"bfcache"===e["http.initiator"]||e&&"undefined"!=typeof e.early},updateCookie:function(){a.updateCookie()},getCookie:function(){var e,t,n;if(!a.cookie)return!1;if(e=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(a.cookie))||{}){if(1&e.z){t=36;n=parseInt(e.ss||0,36)}else{t=10;n=0}e.ss=parseInt(e.ss||0,t);e.tt=parseInt(e.tt||0,t);e.obo=parseInt(e.obo||0,t);e.sl=parseInt(e.sl||0,t);e.se&&(e.se=parseInt(e.se,t)||1800);e.ld&&(e.ld=n+parseInt(e.ld,t));e.ul&&(e.ul=n+parseInt(e.ul,t));e.cl&&(e.cl=n+parseInt(e.cl,t));e.hd&&(e.hd=n+parseInt(e.hd,t))}return e},incrementSessionDetails:function(){a.incrementSessionDetails()},navigationStart:function(){a.navigationStart||a.initFromNavTiming();return a.navigationStart}}}}(window);!function(){if(!BOOMR.plugins.CrossDomain){var s=BOOMR.window;if(s){var u=BOOMR.window.document,c={enabled:!1,cross_domain_url:undefined,session_transferred:!1,debug:!1,iframe_name:"boomerang-cross-domain-session-fetch",iframe:undefined,sending:!1,session:{ID:undefined,start:undefined,length:undefined},session_transferred_time:0,plugin_start:0,session_transfer_timedout:!1,session_transfer_timeout:5e3,session_transfer_complete:!1,setup:function(e){var t=BOOMR.session;if(BOOMR.plugins.RT){var n=BOOMR.plugins.RT.getCookie();if(n){n.obo&&(t.obo=n.obo);n.tt&&(t.tt=n.tt)}}t=BOOMR.utils.objectToString(t,"&");u.body.appendChild(c.buildIFrame(e=e+"#"+t,c.iframe_name));s.addEventListener?s.addEventListener("message",c.onIFrameMessage):s.attachEvent("onmessage",c.onIFrameMessage)},onIFrameMessage:function(e){var t;if(s.JSON&&-1!==c.cross_domain_url.indexOf(e.origin)){try{t=s.JSON.parse(e.data)}catch(n){return}if(t){c.session={ID:t.si,start:parseInt(t.ss,10),length:parseInt(t.sl,10)};c.session_transferred_time=BOOMR.now();t.bcn?BOOMR.fireEvent("config",{beacon_url:t.bcn,RT:{oboError:t.obo?parseInt(t.obo,10):0,loadTime:t.tt?parseInt(t.tt,10):0}}):BOOMR.fireEvent("config",{beacon_url:BOOMR.getBeaconURL()});c.session_transferred=!0;BOOMR.sendBeacon();setTimeout(function(){c.debug||null===u.getElementById(c.iframe_name)||u.body.removeChild(u.getElementById(c.iframe_name))},0)}}},buildIFrame:function(e,t){var n;try{n=u.createElement("<IFRAME>")}catch(r){n=u.createElement("IFRAME")}n.id=t;n.src=e;n.style.display="none";return n}};BOOMR.plugins.CrossDomain={init:function(e){if(BOOMR.plugins.RT&&!e.primary){e.CrossDomain&&(c.enabled=!0);BOOMR.utils.pluginConfig(c,e,"CrossDomain",["cross_domain_url","sending","session_transfer_timeout","debug"]);if(c.enabled&&!c.session_transferred){c.plugin_start=BOOMR.now();BOOMR.forceSameSiteCookieNone();if(BOOMR.utils.hasPostMessageSupport()){if(!c.sending&&c.enabled){c.cross_domain_url&&(c.cross_domain_url=c.cross_domain_url.replace(/^\s+|\s+$/g,""));if(!c.cross_domain_url){c.enabled=!1;return}(o=u.createElement("a")).href=c.cross_domain_url;if(o.href===BOOMR.window.location.href||!o.href.match(/^https?:\/\//)){c.enabled=!1;return}c.cross_domain_url=o.href;c.setup(c.cross_domain_url);setTimeout(function(){if(!c.session_transferred){c.session_transfer_timedout=!0;c.session_transferred=!0;c.debug||u.body.removeChild(u.getElementById(c.iframe_name));BOOMR.sendBeacon()}},c.session_transfer_timeout)}if(c.sending&&c.enabled){BOOMR.disable();for(var t=s.location.hash.substring(1,s.location.hash.length).split("&"),n={},r=0;r<t.length;r++){var i=t[r].split("=");i&&i.hasOwnProperty("length")&&2<=i.length&&(n[i[0]]=i[1])}var e={start:n.start,length:n.length,ID:n.ID},o={obo:n.obo,tt:n.tt};try{e.start=parseInt(e.start);e.length=parseInt(e.length);if(("number"!=typeof BOOMR.session.start||e.start<BOOMR.session.start)&&e.length>=BOOMR.session.length&&e.start>BOOMR.now()-864e5){BOOMR.session.start=e.start;BOOMR.session.ID&&"string"!=typeof e.ID||(BOOMR.session.ID=e.ID)}BOOMR.plugins.RT.updateCookie();o.obo=parseInt(o.obo);o.tt=parseInt(o.tt);isNaN(o.obo)||isNaN(o.tt)||this.updateCookie(o)}catch(a){}BOOMR.session.start||(BOOMR.plugins.RT.navigationStart()||BOOMR.t_lstart||BOOMR.t_start);o=BOOMR.plugins.RT.getCookie();if(s.JSON){o=s.JSON.stringify(o);s.parent.postMessage(o,"*");c.session_transferred=!0}}}else{c.session_transferred=!0;c.enabled=!1}}}},updateCookie:function(e){BOOMR.plugins.RT&&BOOMR.fireEvent("config",{RT:{oboError:e.obo,loadTime:e.tt}})},is_complete:function(){if(c.sending)return!0;if(c.session_transfer_complete)return!0;if(c.session&&!c.session_transfer_timedout&&c.enabled&&c.session_transferred){if(!isNaN(c.session.start)&&c.session.start>BOOMR.now()-864e5&&c.session.start<("number"==typeof BOOMR.session.start?BOOMR.session.start:BOOMR.now())){BOOMR.session.start=c.session.start;if(!isNaN(c.session.length)&&c.session.length>BOOMR.session.length){BOOMR.session.length=c.session.length;BOOMR.plugins.RT.incrementSessionDetails()}BOOMR.session.ID=c.session.ID;BOOMR.plugins.RT&&BOOMR.plugins.RT.updateCookie()}BOOMR.addVar("rt.sstr_dur",c.session_transferred_time-c.plugin_start);c.session_transfer_complete=!0}c.session_transfer_timedout&&BOOMR.addVar("rt.sstr_to",1);return c.session_transferred||!c.enabled}}}}}();!function(){var u,v;if(!BOOMR.plugins.BW){(v=[{name:"image-0.png",size:11773,timeout:1400},{name:"image-1.png",size:40836,timeout:1200},{name:"image-2.png",size:165544,timeout:1300},{name:"image-3.png",size:382946,timeout:1500},{name:"image-4.png",size:1236278,timeout:1200},{name:"image-5.png",size:4511798,timeout:1200},{name:"image-6.png",size:9092136,timeout:1200}]).end=v.length;v.start=0;v.l={name:"image-l.gif",size:35,timeout:1e3};u={base_url:"",timeout:15e3,nruns:5,latency_runs:10,user_ip:"",block_beacon:!1,test_https:!1,cookie_exp:604800,cookie:"BA",results:[],latencies:[],latency:null,runs_left:0,aborted:!1,complete:!0,running:!1,initialized:!1,ncmp:function(e,t){return e-t},iqr:function(e){var t,n=e.length-1,r=[],i=(e[Math.floor(.25*n)]+e[Math.ceil(.25*n)])/2,o=(e[Math.floor(.75*n)]+e[Math.ceil(.75*n)])/2,a=1.5*(o-i);if(0==a)return e;n++;for(t=0;t<n&&e[t]<o+a;t++)e[t]>i-a&&r.push(e[t]);return r},calc_latency:function(){var e,t,n,r,i,o,a=0,s=0;this.latencies.shift();t=(o=this.iqr(this.latencies.sort(this.ncmp))).length;for(e=0;e<t;e++){a+=o[e];s+=o[e]*o[e]}n=Math.round(a/t);i=(1.96*(r=Math.sqrt(s/t-a*a/(t*t)))/Math.sqrt(t)).toFixed(2);r=r.toFixed(2);return{mean:n,median:Math.round((o[Math.floor(t/2)]+o[Math.ceil(t/2)])/2),stddev:r,stderr:i}},calc_bw:function(){for(var e,t,n,r,i,o,a,s,u,c,l,d,f=0,p=[],O=[],m=0,h=0,g=0,R=0,M=[],B=0;B<this.nruns;B++)if(this.results[B]&&this.results[B].r){l=0;for(e=(t=this.results[B].r).length-1;0<=e&&l<3&&t[e];e--)if(null!==t[e].t){f++;l++;d=1e3*v[e].size/t[e].t;p.push(d);if(t[e].t>this.latency.mean){d=1e3*v[e].size/(t[e].t-this.latency.mean);O.push(d)}else M.push(e+"_"+t[e].t)}}if(3<p.length){p=this.iqr(p.sort(this.ncmp));O=this.iqr(O.sort(this.ncmp))}else{p=p.sort(this.ncmp);O=O.sort(this.ncmp)}f=Math.max(p.length,O.length);for(B=0;B<f;B++){if(B<p.length){m+=p[B];h+=Math.pow(p[B],2)}if(B<O.length){g+=O[B];R+=Math.pow(O[B],2)}}f=p.length;n=Math.round(m/f);r=Math.sqrt(h/f-Math.pow(m/f,2));i=Math.round(1.96*r/Math.sqrt(f));r=Math.round(r);f=p.length-1;o=Math.round((p[Math.floor(f/2)]+p[Math.ceil(f/2)])/2);if(O.length<1){M.push("l=="+O.length);a=n;s=r;u=i;c=o}else{f=O.length;a=Math.round(g/f);u=(1.96*(s=Math.sqrt(R/f-Math.pow(g/f,2)))/Math.sqrt(f)).toFixed(2);s=s.toFixed(2);f=O.length-1;c=Math.round((O[Math.floor(f/2)]+O[Math.ceil(f/2)])/2)}return{mean:n,stddev:r,stderr:i,median:o,mean_corrected:a,stddev_corrected:s,stderr_corrected:u,median_corrected:c,debug_info:M}},load_img:function(t,n,r){var e=this.base_url+v[t].name+"?t="+BOOMR.utils.generateId(10),i=0,o=0,a=new Image,s=this;function u(e){return function(){r&&r.call(s,t,o,n,e);if(null!==e){a.onload=a.onerror=null;a=null;clearTimeout(i);s=r=null}}}a.onload=u(!0);a.onerror=u(!1);i=setTimeout(u(null),v[t].timeout+Math.min(400,this.latency?this.latency.mean:400));o=BOOMR.now();a.src=e},lat_loaded:function(e,t,n,r){if(n===this.latency_runs+1){if(null!==r){t=BOOMR.now()-t;this.latencies.push(t)}0===this.latency_runs&&(this.latency=this.calc_latency());BOOMR.setImmediate(this.iterate,null,null,this)}},img_loaded:function(e,t,n,r){if(n===this.runs_left+1&&!this.results[this.nruns-n].r[e])if(null!==r){t={start:t,end:BOOMR.now(),t:null,state:r,run:n};r&&(t.t=t.end-t.start);this.results[this.nruns-n].r[e]=t;if(e>=v.end-1||this.results[this.nruns-n].r[e+1]!==undefined){n===this.nruns&&(v.start=e);BOOMR.setImmediate(this.iterate,null,null,this)}else this.load_img(e+1,n,this.img_loaded)}else this.results[this.nruns-n].r[e+1]={t:null,state:null,run:n}},finish:function(){this.latency||(this.latency=this.calc_latency());var e=this.calc_bw(),t={bw:e.median_corrected,bw_err:parseFloat(e.stderr_corrected,10),lat:this.latency.mean,lat_err:parseFloat(this.latency.stderr,10),bw_time:Math.round(BOOMR.now()/1e3)};BOOMR.addVar(t);0<e.debug_info.length&&BOOMR.addVar("bw_debug",e.debug_info.join(","));!isNaN(t.bw)&&0<t.bw&&BOOMR.utils.setCookie(this.cookie,{ba:Math.round(t.bw),be:t.bw_err,l:t.lat,le:t.lat_err,ip:this.user_ip,t:t.bw_time},this.user_ip?this.cookie_exp:0);(this.complete=!0)===this.block_beacon&&BOOMR.sendBeacon();this.running=!1},iterate:function(){if(!this.aborted)if(this.runs_left)if(this.latency_runs)this.load_img("l",this.latency_runs--,this.lat_loaded);else{this.results.push({r:[]});this.load_img(v.start,this.runs_left--,this.img_loaded)}else this.finish()},setVarsFromCookie:function(){var e,t,n,r,i,o,a,s=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(u.cookie));if(s&&s.ba){e=parseInt(s.ba,10);t=parseFloat(s.be,10);n=parseInt(s.l,10)||0;r=parseFloat(s.le,10)||0;i=s.ip.replace(/\.\d+$/,"0");o=parseInt(s.t,10);a=this.user_ip.replace(/\.\d+$/,"0");s=Math.round(BOOMR.now()/1e3);if(i===a&&o>=s-this.cookie_exp&&0<e){this.complete=!0;BOOMR.addVar({bw:e,lat:n,bw_err:t,lat_err:r,bw_time:o});return!0}}return!1}};BOOMR.plugins.BW={init:function(e){if(u.initialized)return this;BOOMR.utils.pluginConfig(u,e,"BW",["base_url","timeout","nruns","cookie","cookie_exp","test_https","block_beacon"]);e&&e.user_ip&&(u.user_ip=e.user_ip);if(!u.base_url)return this;v.start=0;u.runs_left=u.nruns;u.latency_runs=10;u.results=[];u.latencies=[];u.latency=null;u.complete=u.aborted=!1;BOOMR.removeVar("ba","ba_err","lat","lat_err");u.setVarsFromCookie()||BOOMR.subscribe("page_ready",this.run,null,this);u.initialized=!0;return this},run:function(){var e;if(u.running||u.complete)return this;(e=BOOMR.window.document.createElement("a")).href=u.base_url;if(!u.test_https&&"https:"===e.protocol){(u.complete=!0)===u.block_beacon&&BOOMR.sendBeacon();return this}u.base_url=e.href;u.running=!0;setTimeout(this.abort,u.timeout);u.iterate();return this},abort:function(){u.aborted=!0;u.running&&u.finish()},is_complete:function(){return!0!==u.block_beacon||u.complete}}}}();!function(){if(!BOOMR.plugins.PaintTiming){var i={"first-paint":"fp","first-contentful-paint":"fcp","largest-contentful-paint":"lcp"},o={initialized:!1,complete:!1,supported:null,supportedSoftNavHeuristics:null,timingCache:{},observer:null,externalMetrics:{},lcp:{time:0,el:"",src:"",id:"",e:"",srcset:"",sizes:"",s:0},lcpDataSent:!1,done:function(e,t){var n,r;if(this.complete)return this;if("load"!==t&&(!e||"spa_hard"!==e.initiator)){this.complete=!0;return this}if((e=BOOMR.getPerformance())&&"function"==typeof e.getEntriesByType){if((n=e.getEntriesByType("paint"))&&n.length){for(r=0;r<n.length;r++){o.timingCache[n[r].name]=n[r].startTime;i[n[r].name]&&BOOMR.addVar("pt."+i[n[r].name],Math.floor(n[r].startTime),!0)}this.complete=!0;BOOMR.sendBeacon()}}else this.complete=!0},onBeforeBeacon:function(e){if(BOOMR.isPageLoadBeacon(e)&&!o.lcpDataSent){if(!e.early&&o.observer&&!o.supportedSoftNavHeuristics){o.observer.disconnect();o.observer=null}if(o.lcp.time){BOOMR.addVar("pt.lcp",Math.floor(o.lcp.time),!0);o.lcp.src&&BOOMR.addVar("pt.lcp.src",o.lcp.src,!0);o.lcp.el&&BOOMR.addVar("pt.lcp.el",o.lcp.el,!0);o.lcp.id&&BOOMR.addVar("pt.lcp.id",o.lcp.id,!0);o.lcp.e&&BOOMR.addVar("pt.lcp.e",o.lcp.e,!0);o.lcp.srcset&&BOOMR.addVar("pt.lcp.srcset",o.lcp.srcset,!0);o.lcp.sizes&&BOOMR.addVar("pt.lcp.sizes",o.lcp.sizes,!0);o.lcp.s&&BOOMR.addVar("pt.lcp.s",o.lcp.s,!0);e.early||(o.lcpDataSent=!0)}}},onObserver:function(e){e=e.getEntries();if(0!==e.length){e=e[e.length-1];o.lcp.time=e.renderTime||e.loadTime;o.timingCache[e.entryType]=o.lcp.time;o.lcp.s=e.size||0;if(e.element){o.lcp.el=e.element.tagName;o.lcp.src=e.element.href||e.element.src||"";o.lcp.id=e.element.id||"";o.lcp.e=BOOMR.utils.makeSelector(e.element);o.lcp.srcset=e.element.srcset||"";o.lcp.sizes=e.element.sizes||""}}},onSoftNavObserver:function(e){0!==e.getEntries().length&&(o.lcpDataSent=!1)}};BOOMR.plugins.PaintTiming={init:function(){if(!this.is_supported()){o.complete=!0;o.initialized=!0}if(!o.complete&&"hidden"===BOOMR.visibilityState()){BOOMR.addVar("pt.hid",1,!0);o.complete=!0}if(!o.initialized){BOOMR.subscribe("page_ready",o.done,"load",o);BOOMR.subscribe("xhr_load",o.done,"xhr",o);BOOMR.subscribe("before_unload",o.done,null,o);BOOMR.subscribe("before_beacon",o.onBeforeBeacon,null,o);if("function"==typeof BOOMR.window.PerformanceObserver&&"function"==typeof BOOMR.window.LargestContentfulPaint){o.observer=new BOOMR.window.PerformanceObserver(o.onObserver);if("function"==typeof BOOMR.window.SoftNavigationEntry){o.supportedSoftNavHeuristics=!0;o.softNavObserver=new BOOMR.window.PerformanceObserver(o.onSoftNavObserver);o.softNavObserver.observe({type:"soft-navigation"})}var e={type:"largest-contentful-paint",buffered:!0};o.supportedSoftNavHeuristics&&(e.includeSoftNavigationObservations=!0);o.observer.observe(e)}o.initialized=!0}return this},is_complete:function(){return!0},is_enabled:function(){return o.initialized&&this.is_supported()},is_supported:function(){if(null!==o.supported)return o.supported;var e=BOOMR.getPerformance();o.supported=e&&"undefined"!=typeof BOOMR.window.PerformancePaintTiming&&"function"==typeof e.getEntriesByType;return o.supported},getTimingFor:function(e){var t,n;if(o.timingCache[e])return o.timingCache[e];if(this.is_supported()){var r=BOOMR.getPerformance();if(r&&"function"==typeof r.getEntriesByType&&(t=r.getEntriesByType("paint"))&&t.length)for(n=0;n<t.length;n++)if(t[n].name===e){o.timingCache[e]=t[n].startTime;return o.timingCache[e]}}},metrics:{lcp:function(){return Math.floor(o.lcp.time)},lcpSrc:function(){return o.lcp.src},lcpEl:function(){return o.lcp.el},lcpId:function(){return o.lcp.id},lcpE:function(){return o.lcp.e},lcpSrcset:function(){return o.lcp.srcset},lcpSizes:function(){return o.lcp.sizes},lcpS:function(){return o.lcp.s}}}}}();!function(){if(!BOOMR.plugins.NavigationTiming){var c={complete:!1,fullySent:!1,sendBeacon:function(){this.complete=!0;BOOMR.sendBeacon()},xhr_done:function(e){var t;if(e&&"spa_hard"===e.initiator)c.done(e);else if(e&&"spa"===e.initiator)c.sendBeacon();else{BOOMR.window;var n,r={};if(e){e.data&&(e=e.data);if((t=BOOMR.getPerformance())&&e.restiming){r={nt_red_st:e.restiming.redirectStart,nt_red_end:e.restiming.redirectEnd,nt_fet_st:e.restiming.fetchStart,nt_dns_st:e.restiming.domainLookupStart,nt_dns_end:e.restiming.domainLookupEnd,nt_con_st:e.restiming.connectStart,nt_con_end:e.restiming.connectEnd,nt_req_st:e.restiming.requestStart,nt_res_st:e.restiming.responseStart,nt_res_end:e.restiming.responseEnd};e.restiming.secureConnectionStart&&(r.nt_ssl_st=e.restiming.secureConnectionStart);for(n in r)if(r.hasOwnProperty(n)&&r[n]){r[n]+=t.timing.navigationStart;r[n]=Math.floor(r[n])}}if(e.timing){e=e.timing;r.nt_req_st||(r.nt_req_st=e.requestStart);r.nt_res_st||(r.nt_res_st=e.responseStart);r.nt_res_end||(r.nt_res_end=e.responseEnd);r.nt_domint=e.domInteractive;r.nt_domcomp=e.domComplete;r.nt_load_st=e.loadEventEnd;r.nt_load_end=e.loadEventEnd}for(n in r)r.hasOwnProperty(n)&&!r[n]&&delete r[n];BOOMR.addVar(r,undefined,!0);c.sendBeacon()}}},done:function(){var e,t,n,r,i,o=BOOMR.window,a={},s=0,u=!1;if(this.complete)return this;if(e=BOOMR.getPerformance()){if("function"==typeof e.getEntriesByType)if((n=e.getEntriesByType("navigation"))&&n.length){n=n[0];s=e.timing?e.timing.navigationStart:0}else n=undefined;if(n=!n&&e.timing?e.timing:n){!(a={nt_nav_st:e.timing?e.timing.navigationStart:0,nt_red_st:l(s,n.redirectStart),nt_red_end:l(s,n.redirectEnd),nt_fet_st:l(s,n.fetchStart,!0),nt_dns_st:l(s,n.domainLookupStart,!0),nt_dns_end:l(s,n.domainLookupEnd,!0),nt_con_st:l(s,n.connectStart,!0),nt_con_end:l(s,n.connectEnd,!0),nt_req_st:l(s,n.requestStart),nt_res_st:l(s,n.responseStart),nt_res_end:l(s,n.responseEnd),nt_domloading:l(s,n.domLoading),nt_domint:l(s,n.domInteractive),nt_domcontloaded_st:l(s,n.domContentLoadedEventStart),nt_domcontloaded_end:l(s,n.domContentLoadedEventEnd),nt_domcomp:l(s,n.domComplete),nt_load_st:l(s,n.loadEventStart),nt_load_end:l(s,n.loadEventEnd),nt_unload_st:l(s,n.unloadEventStart),nt_unload_end:l(s,n.unloadEventEnd)}).nt_domloading&&e&&e.timing&&e.timing.domLoading&&(a.nt_domloading=e.timing.domLoading);n.secureConnectionStart&&(a.nt_ssl_st=l(s,n.secureConnectionStart));e.timing&&e.timing.msFirstPaint&&(a.nt_first_paint=e.timing.msFirstPaint);n.workerStart&&(a.nt_worker_start=l(s,n.workerStart));if(n.decodedBodySize||n.transferSize){a.nt_enc_size=n.encodedBodySize;a.nt_dec_size=n.decodedBodySize;a.nt_trn_size=n.transferSize}n.nextHopProtocol&&(a.nt_protocol=n.nextHopProtocol)}if(!a.nt_first_paint&&BOOMR.plugins.PaintTiming){u=BOOMR.plugins.PaintTiming.is_supported();(r=BOOMR.plugins.PaintTiming.getTimingFor("first-paint"))&&(a.nt_first_paint=l(s,r))}if((!a.nt_protocol||!a.nt_first_paint)&&(!n||""!==n.nextHopProtocol)&&!u&&o.chrome&&"function"==typeof o.chrome.loadTimes&&(t=o.chrome.loadTimes())){a.nt_spdy=t.wasFetchedViaSpdy?1:0;a.nt_cinf=t.connectionInfo;"number"==typeof t.firstPaintTime&&0!==t.firstPaintTime&&(a.nt_first_paint=Math.round(1e3*t.firstPaintTime))}if(e.navigation){e=e.navigation;a.nt_red_cnt=e.redirectCount;a.nt_nav_type=e.type}for(i in a)a.hasOwnProperty(i)&&a[i]===undefined&&delete a[i];BOOMR.addVar(a,undefined,!0);n&&(n.requestStart&&n.navigationStart&&n.requestStart<n.navigationStart||n.responseStart&&n.navigationStart&&n.responseStart<n.navigationStart||n.responseStart&&n.fetchStart&&n.responseStart<n.fetchStart||n.navigationStart&&n.fetchStart<n.navigationStart||n.responseEnd&&n.responseEnd>BOOMR.now()+864e5)&&BOOMR.addVar("nt_bad",1,!0);0<a.nt_load_end&&(this.fullySent=!0)}c.sendBeacon()},clear:function(e){this.complete=!(e&&e.early)&&this.fullySent},prerenderToVisible:function(){this.complete=!1;this.done()},onBeforeEarlyBeacon:function(e){e&&"undefined"!=typeof e.initiator&&"spa_hard"!==e.initiator||this.done()}};BOOMR.plugins.NavigationTiming={init:function(){if(!c.initialized){BOOMR.subscribe("page_ready",c.done,null,c);BOOMR.subscribe("prerender_to_visible",c.prerenderToVisible,null,c);BOOMR.subscribe("before_early_beacon",c.onBeforeEarlyBeacon,null,c);BOOMR.subscribe("xhr_load",c.xhr_done,null,c);BOOMR.subscribe("before_unload",c.done,null,c);BOOMR.subscribe("beacon",c.clear,null,c);c.initialized=!0}return this},is_complete:function(){return!0}}}function l(e,t,n){return"number"!=typeof t||0===t?0===t&&n?Math.floor(e||0):undefined:Math.floor((e||0)+t)}}();!function(){if(!BOOMR.plugins.ResourceTiming){var g={other:0,img:1,link:2,script:3,css:4,xmlhttprequest:5,html:6,image:7,beacon:8,fetch:9,iframe:"a",subdocument:"a",body:"b",input:"c",frame:"a",object:"d",video:"e",audio:"f",source:"g",track:"h",embed:"i",eventsource:"j",navigation:6,"early-hints":"k",ping:"l",font:"m"},S={prefetch:1,preload:2,prerender:3,stylesheet:4},T=["startTime","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","secureConnectionStart","connectEnd","requestStart","responseStart","responseEnd","workerStart"],R="\n",M="*",B="0",v="1",y="2",x=1,k=2,P=4,_="3",b="4",w="5",E="6",N="7",A={complete:!1,sentNavBeacon:!1,initialized:!1,supported:null,xhr_load:function(e){e&&e.restiming&&i(e.restiming);if(!this.complete){this.complete=!0;BOOMR.sendBeacon()}},xssBreakWords:[/(h)(ref)/gi,/(s)(rc)/gi,/(a)(ction)/gi],urlLimit:500,clearOnBeacon:!1,trimUrls:[],serverTiming:!0,monitorClearResourceTimings:!1,splitAtPath:!1,getSrcsetDimensions:!1,trackedResourceTypes:"*",done:function(){if(!this.sentNavBeacon&&!BOOMR.hasSentPageLoadBeacon()){e();this.complete=!0;this.sentNavBeacon=!0;BOOMR.sendBeacon()}},onBeacon:function(e){var t=BOOMR.getPerformance();if(A.clearOnBeacon&&t){var n=t.clearResourceTimings||t.webkitClearResourceTimings;n&&"function"==typeof n&&n.call(t)}},prerenderToVisible:function(){this.sentNavBeacon=!1;this.done()}};BOOMR.plugins.ResourceTiming={init:function(e){BOOMR.utils.pluginConfig(A,e,"ResourceTiming",["xssBreakWords","clearOnBeacon","urlLimit","trimUrls","trackedResourceTypes","serverTiming","monitorClearResourceTimings","splitAtPath","getSrcsetDimensions"]);if(A.initialized)return this;if(this.is_supported()){BOOMR.subscribe("page_ready",A.done,null,A);BOOMR.subscribe("prerender_to_visible",A.prerenderToVisible,null,A);BOOMR.subscribe("xhr_load",A.xhr_load,null,A);BOOMR.subscribe("beacon",A.onBeacon,null,A);BOOMR.subscribe("before_unload",A.done,null,A);if(A.monitorClearResourceTimings){var t=this;BOOMR.window.performance.clearResourceTimings=(n=BOOMR.window.performance.clearResourceTimings,function(){t.addResources(BOOMR.window.performance.getEntriesByType("resource"));n.apply(BOOMR.window.performance,arguments)})}}else A.complete=!0;var n;A.initialized=!0;return this},is_complete:function(){return!0},is_enabled:function(){return A.initialized&&this.is_supported()},is_supported:function(){if(null!==A.supported)return A.supported;var e=BOOMR.getPerformance();A.supported=e&&"function"==typeof e.getEntriesByType&&"undefined"!=typeof BOOMR.window.PerformanceResourceTiming;return A.supported},addResources:function(e,t){if(this.is_supported()&&BOOMR.utils.isArray(e)){A.collectedEntries=A.collectedEntries||[];if("number"==typeof t){var r=t-(BOOMR.window.performance.timeOrigin||BOOMR.window.performance.timing.navigationStart);e=BOOMR.utils.arrayFilter(e,function(e){for(var t=0;t<T.length;t++){var n=T[t];e.hasOwnProperty(n)&&(e[n]+=r)}return!0})}Array.prototype.push.apply(A.collectedEntries,e)}},getCompressedResourceTiming:r,getFilteredResourceTiming:H,calculateResourceTimingUnion:function c(e){if(!e||!e.length)return 0;e.sort(function(e,t){return e.fetchStart!==t.fetchStart?e.fetchStart-t.fetchStart:(e.responseStart||e.responseEnd)-(t.responseStart||t.responseEnd)});for(var t=u(e),n=[],r=0,i=0;i<t.length;i++){var o=t[i];o.fetchStart<r&&(o.fetchStart=r);if(o.fetchStart<o.responseEnd){n.push(o);r=o.responseEnd}}var a=u(n),s=0;for(i=0;i<a.length;i++)s+=a[i].responseEnd-a[i].fetchStart;return s},addResourceTimingToBeacon:e,addToBeacon:i}}function C(e,t){var n,r,i,o,a,s,u,c,l={};for(n in e){r=n;for(i=0;i<A.xssBreakWords.length;i++)r=r.replace(A.xssBreakWords[i],"$1"+R+"$2");if(e.hasOwnProperty(n)){o=e[n];a=t?[(a=r.split("/"))[0]+"//",a[2]+(3<a.length?"/":"")].concat(a.slice(3).reduce(function d(o){return function(e,t,n){var r,i;if(-1!==t.indexOf(R)){r=t.split(R);for(i=0;i<r.length-1;i++){e.push(r[i]);e.push(R)}t=r.slice(-1)}"number"==typeof o&&n<o&&(t+="/");return e.concat(t)}}(a.length-4),[])):r.split("");u=l;for(i=0;i<a.length;i++)void 0===(c=u[s=a[i]])?u=u[s]=i===a.length-1?o:{}:"string"==typeof c?u=u[s]={"|":c}:i===a.length-1?u[s]["|"]=o:u=u[s]}}return l}function L(e,t){"number"!=typeof e&&(e=0);"number"!=typeof t&&(t=0);e=Math.round(e||0),t=Math.round(t||0);return 0===e?0:e-t}function I(e){try{e.location&&e.location.href;e.document;if("performance"in e&&e.performance)return 1}catch(t){}}function F(e){var t=0;return t=I(e)&&e.performance.timing&&e.performance.timing.navigationStart?e.performance.timing.navigationStart:t}function V(e,t,n,r,i){var o,a,s,u,c,l,d,f,p,O,m=[],h={},g={};void 0===t&&(t=!0);void 0===n&&(n=0);if(10<(r=void 0===r?0:r))return m;try{if(!I(e))return m;s=F(e);p=function w(e,t){var u,c,l={},d=e.document,f=d.createElement("A");u=(t=t||[0,0,0,0])[3]+(e.pageXOffset!==undefined)?e.pageXOffset:(d.documentElement||d.body.parentNode||d.body).scrollLeft;c=t[2]+(e.pageYOffset!==undefined)?e.pageYOffset:(d.documentElement||d.body.parentNode||d.body).scrollTop;["img","iframe","image"].forEach(function(e){for(var t,n,r,i,o,a=d.getElementsByTagName(e),s=0;s<a.length;s++)if(o=a[s]){n=o.currentSrc||o.src||"function"==typeof o.getAttribute&&o.getAttribute("src")||o.getAttribute("xlink:href");f.href=n;n=f.href;if(n&&!l[n]&&((t=o.getBoundingClientRect()).height||o.offsetHeight)&&(t.width||o.offsetWidth)){l[n]=[t.height||o.offsetHeight,t.width||o.offsetWidth,Math.round(t.top+c),Math.round(t.left+u)];if(o.naturalHeight||o.naturalWidth){A.getSrcsetDimensions&&o.currentSrc&&(o.srcset||o.parentNode&&o.parentNode.nodeName&&"PICTURE"===o.parentNode.nodeName.toUpperCase())?(r=o.isConnected?o.ownerDocument.createElement("IMG"):new BOOMR.window.Image).src=n:r=o;i=r.naturalHeight||o.naturalHeight;o=r.naturalWidth||o.naturalWidth;!i&&!o||l[n][0]===i&&l[n][1]===o||l[n].push(i,o)}}}});return l}(e,i);U(O=e.document.createElement("a"),h,"script");U(O,g,"link");if((l=e.document.getElementsByTagName("iframe"))&&l.length)for(o=0;o<l.length;o++){u=F(l[o].contentWindow);c=0;s<u&&(c=n+(u-s));O.href=l[o].src;m=m.concat(V(l[o].contentWindow,!1,c,r+1,p[O.href]))}if("function"!=typeof e.performance.getEntriesByType)return m;function R(e){return A.serverTiming&&e.serverTiming||[]}if(t)if((a=e.performance.getEntriesByType("navigation"))&&1===a.length){d=a[0];m.push({name:e.location.href,startTime:0,initiatorType:"html",redirectStart:d.redirectStart,redirectEnd:d.redirectEnd,fetchStart:d.fetchStart,domainLookupStart:d.domainLookupStart,domainLookupEnd:d.domainLookupEnd,connectStart:d.connectStart,secureConnectionStart:d.secureConnectionStart,connectEnd:d.connectEnd,requestStart:d.requestStart,responseStart:d.responseStart,responseEnd:d.responseEnd,workerStart:d.workerStart,encodedBodySize:d.encodedBodySize,decodedBodySize:d.decodedBodySize,transferSize:d.transferSize,serverTiming:R(d),nextHopProtocol:d.nextHopProtocol})}else e.performance.timing&&0!==(f=e.performance.timing).navigationStart&&f.responseEnd<=f.navigationStart+36e5&&m.push({name:e.location.href,startTime:0,initiatorType:"html",redirectStart:f.redirectStart?f.redirectStart-f.navigationStart:0,redirectEnd:f.redirectEnd?f.redirectEnd-f.navigationStart:0,fetchStart:f.fetchStart?f.fetchStart-f.navigationStart:0,domainLookupStart:f.domainLookupStart?f.domainLookupStart-f.navigationStart:0,domainLookupEnd:f.domainLookupEnd?f.domainLookupEnd-f.navigationStart:0,connectStart:f.connectStart?f.connectStart-f.navigationStart:0,secureConnectionStart:f.secureConnectionStart?f.secureConnectionStart-f.navigationStart:0,connectEnd:f.connectEnd?f.connectEnd-f.navigationStart:0,requestStart:f.requestStart?f.requestStart-f.navigationStart:0,responseStart:f.responseStart?f.responseStart-f.navigationStart:0,responseEnd:f.responseEnd?f.responseEnd-f.navigationStart:0});var M=e.performance.getEntriesByType("resource"),B=[];if(e===BOOMR.window&&A.collectedEntries){Array.prototype.push.apply(M,A.collectedEntries);A.collectedEntries=[]}for(o=0;M&&o<M.length;o++){for(var v={name:(f=M[o]).name,initiatorType:f.initiatorType,encodedBodySize:f.encodedBodySize,decodedBodySize:f.decodedBodySize,transferSize:f.transferSize,serverTiming:R(f),visibleDimensions:p[f.name],nextHopProtocol:f.nextHopProtocol},y=0;y<T.length;y++){var _=T[y];v[_]="startTime"===_||f[_]?f[_]+n:0}f.hasOwnProperty("_data")&&(v._data=f._data);if(("script"===f.initiatorType||"link"===f.initiatorType)&&h[f.name]){var b=h[f.name];v.scriptAttrs=(b["async"]?x:0)|(b.defer?k:0);for(;1===b.nodeType&&"BODY"!==b.nodeName;)b=b.parentNode;v.scriptAttrs|="BODY"===b.nodeName?P:0}"link"===f.initiatorType&&g[f.name]&&BOOMR.utils.arrayFind(g[f.name].rel.split(/[\u0009\u000A\u000C\u000D\u0020]+/),function(e){e=e.toLowerCase();if(S[e]){v.linkAttrs=S[e];return!0}});B.push(v)}m=m.concat(B)}catch(E){return m}return m}function U(t,n,e){Array.prototype.forEach.call(t.ownerDocument.getElementsByTagName(e),function(e){t.href=e.currentSrc||e.src||"function"==typeof e.getAttribute&&e.getAttribute("xlink:href")||e.href;t.href.match(/^https?:\/\//)&&(n[t.href]=e)})}function D(e){return"number"==typeof e&&0!==e?e.toString(36):"string"==typeof e?e:""}function H(e,t,n){var r,i=V(BOOMR.window,!0,0,0),o=F(BOOMR.window),a={};if(!i||!i.length)return{entries:[]};i.sort(function(e,t){return e.startTime-t.startTime});for(var s=[],u=0;u<i.length;u++){r=i[u];if("string"==typeof r.name&&((0===r.name.indexOf("http:")||0===r.name.indexOf("https:"))&&!("function"==typeof BOOMR.getBeaconURL&&BOOMR.getBeaconURL()&&-1<r.name.indexOf(BOOMR.getBeaconURL())||e&&o+r.startTime<e))){if(t&&o+r.startTime>t)break;if(void 0===n||"*"===n||!n.length||r.initiatorType&&BOOMR.utils.inArray(r.initiatorType,n)){!function l(n,e){(e||[]).forEach(function(e){var t=e.name||e.metric;"undefined"==typeof n[t]&&(n[t]={count:0,counts:{}});t=n[t];t.counts[e.description]=t.counts[e.description]||0;t.counts[e.description]++;t.count++})}(a,r.serverTiming);s.push(r)}}}var c=function d(r){return Object.keys(r).sort(function(e,t){return r[t].count-r[e].count}).reduce(function(e,n){var t=Object.keys(r[n].counts).sort(function(e,t){return r[n].counts[t]-r[n].counts[e]});e.push(1===t.length&&""===t[0]?n:[n].concat(t));return e},[])}(a);return{entries:s,serverTiming:{lookup:c,indexed:function f(e){return e.reduce(function(e,t,n){var r,i;if(Array.isArray(t)){r=t[0];i=t.slice(1).reduce(function(e,t,n){e[t]=n;return e},{})}else{r=t;i={"":0}}e[r]={index:n,descriptions:i};return e},{})}(c)}}}function r(e,t){var n,r={},t=H(e,t,A.trackedResourceTypes),i=t.entries,a=t.serverTiming;if(!i||!i.length)return{restiming:{},servertiming:[]};for(n=0;n<i.length;n++){var o=i[n],s=(u=void 0===(u=g[o.initiatorType])?0:u)+[L(o.startTime,0),L(o.responseEnd,o.startTime),L(o.responseStart,o.startTime),L(o.requestStart,o.startTime),L(o.connectEnd,o.startTime),L(o.secureConnectionStart,o.startTime),L(o.connectStart,o.startTime),L(o.domainLookupEnd,o.startTime),L(o.domainLookupStart,o.startTime),L(o.redirectEnd,o.startTime),L(o.redirectStart,o.startTime)].map(D).join(",").replace(/,+$/,""),u=function f(e){var t,n;if(e.encodedBodySize||e.decodedBodySize||e.transferSize){t=e.transferSize;return[n=e.encodedBodySize,t?t-n:"_",(e=e.decodedBodySize)?e-n:0].map(D).join(",").replace(/,+$/,"")}return""}(o);""!==u&&(s+=M+v+u);o.hasOwnProperty("scriptAttrs")&&(s+=M+y+o.scriptAttrs);o.serverTiming&&o.serverTiming.length&&(s+=M+_+o.serverTiming.reduce(function(e,t,n){var r=String("undefined"!=typeof t.duration?t.duration:t.value);"0."===r.substring(0,2)&&(r=r.substring(1));var i=t.name||t.metric;return e+=(0<n?",":"")+r+function o(e,t){var n="";e&&(n+=e);t&&(n+="."+t);n.length&&(n=":"+n);return n}(a.indexed[i].index,a.indexed[i].descriptions[t.description])},""));o.hasOwnProperty("linkAttrs")&&(s+=M+b+o.linkAttrs);if(o.workerStart&&"number"==typeof o.workerStart&&0!==o.workerStart){var c=L(function p(e){"number"!=typeof e&&(e=0);return Math.ceil(e||0)}(o.workerStart),o.startTime);s+=M+E+D(c)}o.hasOwnProperty("nextHopProtocol")&&o.nextHopProtocol&&!function O(e){return!(0<e.transferSize)&&(0<e.decodedBodySize||e.duration<30)}(o)&&(s+=M+N+o.nextHopProtocol.replace("http/","h"));c=function m(e,t){var n,r,i;if(e&&t)for(n=0;n<t.length;n++)if("string"==typeof(i=t[n])){if(-1!==(r=e.indexOf(i))){e=e.substr(0,r+i.length)+"...";break}}else i instanceof RegExp&&i.test(e)&&(e=e.replace(i,"$1")+"...");return BOOMR.utils.cleanupURL(e,A.urlLimit)}(o.name,A.trimUrls);if(o.hasOwnProperty("_data")){var l,d="";for(l in o._data)o._data.hasOwnProperty(l)&&(d+=M+w+l+":"+o._data[l]);"undefined"==typeof r[c]?r[c]=s+d:r[c]+=d}else r[c]!==undefined?r[c]+="|"+s:o.visibleDimensions?r[c]=M+B+o.visibleDimensions.map(Math.round).map(D).join(",").replace(/,+$/,"")+"|"+s:r[c]=s}return{restiming:function h(e,t){var n,r,i=0,o=[];for(n in e)e.hasOwnProperty(n)&&o.push(n);for(var a=0;a<o.length;a++){n=o[a];if("object"==typeof e[n]&&(r=h(e[n],!1))){delete e[n];if(n===R){n=r.name;i++}else n+=r.name;e[n]=r.value}i++}if(1!==i)return!!t&&e;if(t){(t={})[n]=e[n];return t}return{name:n,value:e[n]}}(C(r,A.splitAtPath),!0),servertiming:a.lookup}}function u(e){var t=[];if(!e||!e.length)return t;for(var n=0;n<e.length;n++){var r=e[n];n!==e.length-1&&r.fetchStart===e[n+1].fetchStart||t.push({fetchStart:r.fetchStart,responseEnd:r.responseStart||r.responseEnd})}return t}function e(e,t){var n;"undefined"!=typeof JSON&&(n=r(e,t))&&i(n)}function i(e){BOOMR.addVar("restiming",JSON.stringify(e.restiming),!0);e.servertiming.length&&BOOMR.addVar("servertiming",BOOMR.utils.serializeForUrl(e.servertiming),!0)}}();!function(){var t,n={type:"ct",bandwidth:"bw",metered:"mt",effectiveType:"etype",downlinkMax:"lm",downlink:"dl",rtt:"rtt",saveData:"sd"};if("function"==typeof BOOMR.addVar&&(t="object"==typeof navigator?navigator.connection||navigator.mozConnection||navigator.webkitConnection||navigator.msConnection:t)){t.addEventListener&&t.addEventListener("change",function(){e();BOOMR.fireEvent("netinfo",t)});e()}function e(){for(var e in n)if("undefined"!=typeof t[e]){BOOMR.removeVar("mob."+n[e]);t[e]&&BOOMR.addVar("mob."+n[e],t[e])}}}();!function(){var i,u,o,a,s,c,l,d={};if(!BOOMR.plugins.Memory){var f=!1,p={onNonPageLoad:!1,done:function(e){if(i&&(p.onNonPageLoad||BOOMR.isPageLoadBeacon(e))){t(!0,function(){var e,t,n={};if(d&&"function"==typeof d.getEntriesByType&&(e=d.getEntriesByType("resource"))&&e.length){BOOMR.addVar("dom.res",e.length,!0);t=BOOMR.window.document.createElement("a");[].forEach.call(e,function(e){t.href=e.name;n[t.hostname]=!0});BOOMR.addVar("dom.doms",Object.keys(n).length,!0)}},"resources");o&&BOOMR.addVar({"mem.total":o.totalJSHeapSize,"mem.limit":o.jsHeapSizeLimit,"mem.used":o.usedJSHeapSize},!0);t(c&&l,function(){BOOMR.addVar({"mem.lsln":c.length,"mem.ssln":l.length},!0);window.JSON&&"function"==typeof JSON.stringify&&BOOMR.addVar({"mem.lssz":JSON.stringify(c).length,"mem.sssz":JSON.stringify(l).length},!0)},"localStorage");t(a,function(){BOOMR.addVar({"scr.xy":a.width+"x"+a.height,"scr.bpp":a.colorDepth+"/"+(a.pixelDepth||"")},!0);a.orientation&&BOOMR.addVar("scr.orn",a.orientation.angle+"/"+a.orientation.type,!0);1<i.devicePixelRatio&&BOOMR.addVar("scr.dpx",i.devicePixelRatio,!0);var e=BOOMR.utils.scroll();(e.x||e.y)&&BOOMR.addVar("scr.sxy",e.x+"x"+e.y,!0)},"screen");t(s,function(){s.hardwareConcurrency&&BOOMR.addVar("cpu.cnc",s.hardwareConcurrency,!0);s.maxTouchPoints&&BOOMR.addVar("scr.mtp",s.maxTouchPoints,!0);s.connection&&s.connection.hasOwnProperty("saveData")&&BOOMR.addVar("net.sd",s.connection.saveData?1:0,!0);"undefined"!=typeof s.deviceMemory&&BOOMR.addVar("dev.mem",s.deviceMemory,!0)},"navigator");t(!0,function(){var t;BOOMR.addVar({"dom.ln":n("*"),"dom.sz":u.documentElement.innerHTML.length,"dom.ck":u.cookie.length},!0);t={};BOOMR.addVar(n("img",["dom.img","dom.img.ext","dom.img.uniq"],function(e){return e.src&&!e.src.toLowerCase().match(/^(?:about:|javascript:|data:|#)/)},function(e){return!(t[e.currentSrc||e.src]=t.hasOwnProperty(e.currentSrc||e.src))}),!0);t={};BOOMR.addVar(n("script",["dom.script","dom.script.ext","dom.script.uniq"],function(e){return e.src&&!e.src.toLowerCase().match(/^(?:about:|javascript:|#)/)},function(e){return!(t[e.src]=t.hasOwnProperty(e.src))}),!0);t={};BOOMR.addVar(n("iframe",["dom.iframe","dom.iframe.ext","dom.iframe.uniq"],function(e){return e.src&&!e.src.toLowerCase().match(/^(?:about:|javascript:|#)/)},function(e){return!(t[e.src]=t.hasOwnProperty(e.src))}),!0);t={};BOOMR.addVar(n("link",["dom.link","dom.link.css","dom.link.css.uniq"],function(e){return e.rel&&"stylesheet"===e.rel.toLowerCase()&&e.href&&!e.href.toLowerCase().match(/^(?:about:|javascript:|#)/)},function(e){return!(t[e.href]=t.hasOwnProperty(e.href))}),!0)},"dom")}}};BOOMR.plugins.Memory={init:function(e){var t;try{i=BOOMR.window;u=i.document;d=BOOMR.getPerformance();t=i.console;a=i.screen;s=i.navigator;BOOMR.utils.pluginConfig(p,e,"Memory",["onNonPageLoad"]);try{c=i.localStorage;l=i.sessionStorage}catch(n){}}catch(r){BOOMR.addError(r,"Memory.init")}o=d&&d.memory?d.memory:t&&t.memory?t.memory:null;if(p.initialized)return this;p.initialized=!0;BOOMR.subscribe("before_beacon",p.done,null,p);return this},is_complete:function(){return!0}}}function n(e,t){var n,r,i,o,a;try{r=(n=u.getElementsByTagName(e)).length;if(t&&t.length){(i={})[t[0]]=r;for(o=2;0<r&&o<arguments.length&&o-1<t.length;o++)if("function"==typeof(a=arguments[o]))try{if((n=BOOMR.utils.arrayFilter(n,a)).length!==r){r=n.length;i[t[o-1]]=r}}catch(s){if(!f){f=!0;BOOMR.addError(s,"Memory.nodeList."+e+".filter["+(o-2)+"]")}}}return i||r}catch(s){BOOMR.addError(s,"Memory.nodeList."+e);return 0}}function t(e,t,n){if(e)try{t()}catch(r){BOOMR.addError(r,"Memory.done."+n)}}}();!function(){if(!BOOMR.plugins.CACHE_RELOAD){var t={url:""};BOOMR.plugins.CACHE_RELOAD={init:function(e){BOOMR.utils.pluginConfig(t,e,"CACHE_RELOAD",["url"]);if(!t.url)return this;e=document.createElement("iframe");e.style.display="none";e.src=t.url;document.body.appendChild(e);return this},is_complete:function(){return!0}}}}();!function(){BOOMR.utils=BOOMR.utils||{};if(!BOOMR.utils||!BOOMR.utils.Compression){var a=BOOMR.utils.Compression={};a.jsUrl=function s(e){function t(e){return/[^\w-.]/.test(e)?e=e.replace(/[^\w-.]/g,function(e){return"$"===e?"!":(e=e.charCodeAt(0))<256?"*"+("00"+e.toString(16)).slice(-2):"**"+("0000"+e.toString(16)).slice(-4)}):e}var n=[];switch(typeof e){case"number":return isFinite(e)?"~"+e:"~null";case"string":return"~'"+t(e);case"boolean":return"~"+e;case"object":if(!e)return"~null";if(BOOMR.utils.isArray(e)){for(var r=0;r<e.length;r++)r in e&&(n[r]=a.jsUrl(e[r])||"~null");return"~("+(n.join("")||"~")+")"}for(var i in e)if(e.hasOwnProperty(i)){var o=a.jsUrl(e[i]);o&&n.push(t(i)+o)}return"~("+n.sort().join("~")+")";default:return undefined}}}}();!function(e,t){"use strict";e.ErrorStackParser=t()}(this,function ErrorStackParser(){"use strict";var t=/(^|@)\S+\:\d+/,n=/^\s*at .*(\S+\:\d+|\(native\))/m,r=/^(eval@)?(\[native code\])?$/;function i(e,t,n){if("function"==typeof Array.prototype.map)return e.map(t,n);for(var r=new Array(e.length),i=0;i<e.length;i++)r[i]=t.call(n,e[i]);return r}function o(e,t,n){if("function"==typeof Array.prototype.filter)return e.filter(t,n);for(var r=[],i=0;i<e.length;i++)t.call(n,e[i])&&r.push(e[i]);return r}return{parse:function a(e){if("undefined"!=typeof e.stacktrace||"undefined"!=typeof e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function s(e){if(-1===e.indexOf(":"))return[e];var t=e.replace(/[\(\)\s]/g,"").split(":"),n=t.pop(),e=t[t.length-1];if(isNaN(parseFloat(e))||!isFinite(e))return[t.join(":"),n,undefined];e=t.pop();return[t.join(":"),e,n]},parseV8OrIE:function u(e){return i(o(e.stack.split("\n"),function(e){return!!e.match(n)},this),function(e){var t=(e=-1<e.indexOf("(eval ")?e.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""):e).replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),n=this.extractLocation(t.pop());return{functionName:t.join(" ")||undefined,fileName:"eval"===n[0]?undefined:n[0],lineNumber:n[1],columnNumber:n[2],source:e}},this)},parseFFOrSafari:function c(e){return i(o(e.stack.split("\n"),function(e){return!e.match(r)},this),function(e){if(-1===(e=-1<e.indexOf(" > eval")?e.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1"):e).indexOf("@")&&-1===e.indexOf(":"))return{functionName:e};var t=e.split("@"),n=this.extractLocation(t.pop());return{functionName:t.join("@")||undefined,fileName:n[0],lineNumber:n[1],columnNumber:n[2],source:e}},this)},parseOpera:function l(e){return!e.stacktrace||-1<e.message.indexOf("\n")&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function d(e){for(var t=/Line (\d+).*script (?:in )?(\S+)/i,n=e.message.split("\n"),r=[],i=2,o=n.length;i<o;i+=2){var a=t.exec(n[i]);a&&r.push({fileName:a[2],lineNumber:a[1],source:n[i]})}return r},parseOpera10:function f(e){for(var t=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=e.stacktrace.split("\n"),r=[],i=0,o=n.length;i<o;i+=2){var a=t.exec(n[i]);a&&r.push({functionName:a[3]||undefined,fileName:a[2],lineNumber:a[1],source:n[i]})}return r},parseOpera11:function p(e){return i(o(e.stack.split("\n"),function(e){return!!e.match(t)&&!e.match(/^Error created at/)},this),function(e){var t,n=e.split("@"),r=this.extractLocation(n.pop()),n=n.shift()||"";return{functionName:n.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||undefined,args:(t=n.match(/\(([^\)]*)\)/)?n.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"):t)===undefined||"[arguments not available]"===t?undefined:t.split(","),fileName:r[0],lineNumber:r[1],columnNumber:r[2],source:e}},this)}}});!function(){if(!BOOMR.plugins.Errors){var p=["BOOMR_addError","createStackForSend","BOOMR.window.console.error","BOOMR.plugins.Errors.init","BOOMR.window.onerror","BOOMR_plugins_errors_"],O=["Object.send","b.send","wrap","Anonymous function"],m=["/boomerang"];h.prototype.equals=function(e){return"object"==typeof e&&(this.code===e.code&&(this.message===e.message&&(this.functionName===e.functionName&&(this.fileName===e.fileName&&(this.lineNumber===e.lineNumber&&(this.columnNumber===e.columnNumber&&(this.stack===e.stack&&(this.type===e.type&&this.source===e.source))))))))};h.fromError=function(e,t,n){var r,i,o,a,s,u,c,l,d=!1,f=BOOMR.now();if(!e)return null;if(e.stack){5e3<e.stack.length&&(e.stack=e.stack.substr(0,5e3));if((i=ErrorStackParser.parse(e))&&i.length){if(e.generatedStack){if(4<=i.length&&i[1].functionName&&-1!==i[1].functionName.indexOf("createStackForSend")){i=i.slice(3);d=!0}if(3<=i.length&&i[0].functionName&&-1!==i[0].functionName.indexOf("createStackForSend")){i=i[1].fileName===i[2].fileName?i.slice(3):i.slice(2);d=!0}if(1<=i.length&&i[0].functionName&&-1!==i[0].functionName.indexOf("BOOMR_plugins_errors")){i=i.slice(1);d=!0}}for(o=0;o<i.length;o++){u=!1;if(l=(c=i[o]).functionName){for(a=0;a<p.length;a++)if(-1!==l.indexOf(p[a])){i.splice(o,1);o--;u=d=!0;break}if(!u&&c.fileName)for(a=0;a<m.length;a++)if(-1!==c.fileName.indexOf(m[a]))for(s=0;s<O.length;s++)if(-1!==l.indexOf(O[s])){i.splice(o,1);o--;u=d=!0;break}}}if(i.length){r=i[0];!d&&"undefined"!=typeof e.lineNumber||(e.lineNumber=r.lineNumber);!d&&"undefined"!=typeof e.columnNumber||(e.columnNumber=r.columnNumber);!d&&"undefined"!=typeof e.functionName||(e.functionName=r.functionName);!d&&"undefined"!=typeof e.fileName||(e.fileName=r.fileName)}e.stack&&(e.stack=e.stack.replace(/\s\s+/g," "))}}else(e.functionName||e.fileName||e.lineNumber||e.columnNumber)&&(i=[{lineNumber:e.lineNumber,columnNumber:e.columnNumber,fileName:e.fileName,functionName:e.functionName}]);"string"==typeof e.message&&"function"==typeof e.message.indexOf&&-1!==e.message.indexOf("ReferenceError:")&&"Error"===e.name&&(e.name="ReferenceError");return new h({code:e.code||undefined,message:e.message||undefined,functionName:e.functionName||undefined,fileName:e.fileName||undefined,lineNumber:e.lineNumber||undefined,columnNumber:e.columnNumber||undefined,stack:e.stack||undefined,type:e.name||undefined,source:n,via:t,frames:i,extra:e.extra||undefined,timestamp:e.timestamp||f})};var f={onError:undefined,monitorGlobal:!0,monitorNetwork:!0,monitorConsole:!0,monitorEvents:!1,monitorTimeout:!1,monitorRejections:!1,monitorReporting:!1,sendAfterOnload:!1,maxErrors:10,sendInterval:1e3,sendIntervalDuringLoad:2500,sendIntervalId:-1,maxEvents:10,isDuringLoad:!0,initialized:!1,autorun:!0,errors:[],q:[],events:[],reportingObserver:undefined,send:function(t,n,r){var i=BOOMR.now();if(t&&!0!==t.reported){t.reported=!0;n=n||BOOMR.plugins.Errors.VIA_APP;r=r||BOOMR.plugins.Errors.SOURCE_APP;if(t.stack||t.noStack){t.timestamp=t.timestamp||i;f.addError(t,n,r)}else{function createStackForSend(){try{throw Error(t)}catch(e){(t=e).generatedStack=!0;t.timestamp=t.timestamp||i;f.addError(t,n,r)}}createStackForSend()}}},addError:function(e,t,n){var r,i,o=BOOMR.now();if(f.isDuringLoad||f.sendAfterOnload){if(f.onError){try{r=f.onError(e)}catch(a){r=!1}if(!r)return}if(!(f.errors.length>=f.maxErrors)){n=h.fromError(e,t,n);i=f.mergeDuplicateErrors(f.errors,n,!1);BOOMR.fireEvent("error",i||n);f.mergeDuplicateErrors(f.q,n,!0);!BOOMR.hasSentPageLoadBeacon()&&f.autorun||-1!==f.sendIntervalId||i||f.isDuringLoad&&f.sendIntervalDuringLoad<=0||(f.sendIntervalId=setTimeout(function(){f.sendIntervalId=-1;0!==f.q.length&&BOOMR.sendBeaconWhenReady({"rt.start":"manual","http.initiator":"error",api:1,"rt.tstart":o,"rt.end":o},function(){f.addErrorsToBeacon()},this)},f.isDuringLoad?f.sendIntervalDuringLoad:f.sendInterval))}}},findDuplicateError:function(e,t){if(!BOOMR.utils.isArray(e)||void 0===t)return undefined;for(var n=0;n<e.length;n++)if(e[n].equals(t))return e[n];return undefined},mergeDuplicateErrors:function(e,t,n){if(!BOOMR.utils.isArray(e)||void 0===t)return undefined;var r=f.findDuplicateError(e,t);if(r){n&&(r.count+=t.count);return r}e.push(t);return undefined},pageReady:function(){f.isDuringLoad=!1},getErrors:function(){return 0!==f.errors.length&&f.errors},getErrorsForUrl:function(e){e=f.compressErrors(e);return BOOMR.utils.serializeForUrl(e)},addErrorsToBeacon:function(){if(f.q.length){var e=this.getErrorsForUrl(f.q);e&&BOOMR.addVar("err",e,!0);f.q=[]}},beforeBeacon:function(e){e&&"undefined"!=typeof e.early||f.addErrorsToBeacon()},wrapFn:function(o,a,s,u,c){var l,d=a[o];if("function"==typeof d){"addEventListener"===o&&(l=a.removeEventListener);BOOMR.utils.overwriteNative(a,o,function BOOMR_plugins_errors_wrapped_function(){try{var e=Array.prototype.slice.call(arguments),t=e[u],n=s?this===window?BOOMR.window:this:a,r=f.wrap(t,n,c);e[u]=r;if("addEventListener"===o){if(!f.trackFn(n,e[0],t,e[2],r))return;l&&l.apply(n,arguments)}return d.apply(n,e)}catch(i){f.send(i,c);throw i}})}},trackFn:function(e,t,n,r,i){if(!e)return!1;if(-1!==f.trackedFnIdx(e,t,n,r))return!1;e._bmrEvents||(e._bmrEvents=[]);r=!0===(r&&r.capture||r);e._bmrEvents.push([t,n,r,i]);return!0},trackedFnIdx:function(e,t,n,r){var i,o;if(e){e._bmrEvents||(e._bmrEvents=[]);r=!0===(r&&r.capture||r);for(i=0;i<e._bmrEvents.length;i++)if((o=e._bmrEvents[i])[0]===t&&o[1]===n&&o[2]===r)return i;return-1}},wrapRemoveEventListener:function(e){var i,o,t="removeEventListener",a=e[t];"function"==typeof a&&BOOMR.utils.overwriteNative(e,t,function BOOMR_plugins_errors_wrapped_removeEventListener(e,t,n){var r=this===window?BOOMR.window:this;if(-1!==(i=f.trackedFnIdx(r,e,t,n))){o=r._bmrEvents[i][3];a.call(r,e,o,n);r._bmrEvents.splice(i,1)}else a.call(r,e,t,n)})},wrap:function(t,n,r){if("function"!=typeof t)return t;r=r||BOOMR.plugins.Errors.VIA_APP;BOOMR_check_doc_domain();return function BOOMR_plugins_errors_wrap(){try{return t.apply(n,arguments)}catch(e){if(-2146823277===e.number&&(r===BOOMR.plugins.Errors.VIA_EVENTHANDLER||r===BOOMR.plugins.Errors.VIA_TIMEOUT))return;BOOMR.isUnloaded||f.send(e,r);throw e}}},test:function(){var e;if(0===arguments.length)return undefined;if("function"!=typeof(e=arguments[0]))return undefined;var t=1<arguments.length?arguments[1]:BOOMR.window,n=Array.prototype.slice.call(arguments,2);return f.wrap(e,t).apply(t,n)},normalizeToString:function(e){return void 0===e?"undefined":null===e?"null":"number"==typeof e&&isNaN(e)?"NaN":""===e?"(empty string)":0===e?"0":e?"function"==typeof e?"(function)":e&&"function"==typeof e.toString?e.toString():"(unknown)":"false"},compressErrors:function(e){for(var t,n,r,i,o,a,s,u=0,c=BOOMR.window.location.origin,l=0;l<e.length;l++){s={};1!==(n=e[l]).count&&(s.n=n.count);if("number"==typeof n.timestamp){u=n.timestamp;s.d=n.timestamp.toString(36)}if(n.frames.length){s.f=[];for(t=0;t<n.frames.length;t++){(r=n.frames[t]).lineNumber&&(r.lineNumber=parseInt(r.lineNumber,10));r.columnNumber&&(r.columnNumber=parseInt(r.columnNumber,10));o={l:r.lineNumber,c:r.columnNumber};"string"==typeof r.fileName&&(-1!==r.fileName.indexOf(c)?o.wo=r.fileName.replace(c,""):o.w=r.fileName);"string"==typeof r.functionName&&(o.f=r.functionName);s.f.push(o)}}if(n.events.length){s.e=[];for(t=0;t<n.events.length;t++){a={t:(i=n.events[t]).type,d:u?u-i.timestamp:i.timestamp};if(i.type===BOOMR.plugins.Errors.EVENT_CLICK){i.id&&(a.i=i.id);i.name&&(a.n=i.name);i.tagName&&(a.g=i.tagName)}else if(i.type===BOOMR.plugins.Errors.EVENT_NETWORK){i.url&&(a.u=i.url);i.method&&(a.m=i.method);i.result&&(a.r=i.result)}else if(i.type===BOOMR.plugins.Errors.EVENT_LOG){i.severity&&(a.s=i.severity);i.message&&(a.m=i.message)}s.e.push(a)}}n.source!==BOOMR.plugins.Errors.SOURCE_APP&&(s.s=n.source);"undefined"!=typeof n.via&&n.via!==BOOMR.plugins.Errors.VIA_APP&&(s.v=n.via);"undefined"!=typeof n.type&&"Error"!==n.type&&(s.t=n.type);n.code&&(s.c=n.code);n.message&&(s.m=n.message);n.extra&&(s.x=n.extra);e[l]=s}return e}},s=BOOMR.plugins.Errors={init:function(e){var n,r;BOOMR.utils.pluginConfig(f,e,"Errors",["onError","monitorGlobal","monitorNetwork","monitorConsole","monitorEvents","monitorTimeout","monitorReporting","monitorRejections","sendAfterOnload","sendInterval","sendIntervalDuringLoad","maxErrors"]);if(f.initialized)return this;e&&"undefined"!=typeof e.autorun&&(f.autorun=e.autorun);f.initialized=!0;BOOMR.subscribe("before_beacon",f.beforeBeacon,null,f);BOOMR.subscribe("page_ready",f.pageReady,null,f);BOOMR.registerEvent("error");if(f.monitorGlobal)try{(!BOOMR.globalOnError||BOOMR.window.onerror&&!BOOMR.window.onerror._bmr)&&(BOOMR.globalOnError=BOOMR.window.onerror);BOOMR.utils.overwriteNative(BOOMR.window,"onerror",function BOOMR_plugins_errors_onerror(e,t,n,r,i){null!=(i=void 0===i&&"object"==typeof e&&"object"==typeof e.error&&null!==e.error?e.error:i)?f.send(i,s.VIA_GLOBAL_EXCEPTION_HANDLER):f.send({message:e,fileName:t,lineNumber:n,columnNumber:r,noStack:!0},s.VIA_GLOBAL_EXCEPTION_HANDLER);return"function"==typeof BOOMR.globalOnError&&BOOMR.globalOnError.apply(BOOMR.window,arguments)});if(BOOMR.globalErrors){for(var i=0;i<BOOMR.globalErrors.length;i++)f.send(BOOMR.globalErrors[i],s.VIA_GLOBAL_EXCEPTION_HANDLER);delete BOOMR.globalErrors}}catch(t){}f.monitorNetwork&&BOOMR.subscribe("xhr_error",function BOOMR_plugins_errors_onxhrerror(e){f.send({code:e.status,message:e.url,noStack:!0},s.VIA_NETWORK)});f.monitorRejections&&BOOMR.window.PromiseRejectionEvent&&BOOMR.utils.addListener(BOOMR.window,"unhandledrejection",function o(e){var t,n="Unhandled Promise Rejection";if(e&&e.reason){if("string"==typeof e.reason)n=e.reason;else{"string"==typeof e.reason.stack&&(t=e.reason.stack);n="undefined"==typeof e.reason.message?f.normalizeToString(e.reason):f.normalizeToString(e.reason.message)}f.send({message:n,stack:t,noStack:!t},s.VIA_REJECTION)}},!0);if(f.monitorConsole){BOOMR.window.console||(BOOMR.window.console={});BOOMR.globalConsole=BOOMR.window.console.error;try{BOOMR.utils.overwriteNative(BOOMR.window.console,"error",function BOOMR_plugins_errors_console_error(){var e=Array.prototype.slice.call(arguments);1===e.length?f.send(f.normalizeToString(e[0]),s.VIA_CONSOLE):f.send(f.normalizeToString(e),s.VIA_CONSOLE);"function"==typeof BOOMR.globalConsole&&("function"==typeof BOOMR.globalConsole.apply?BOOMR.globalConsole.apply(this,e):BOOMR.globalConsole(e[0],e[1],e[2]))})}catch(a){}}if(f.monitorEvents)if(BOOMR.window.EventTarget){f.wrapFn("addEventListener",BOOMR.window.EventTarget.prototype,!0,1,s.VIA_EVENTHANDLER);f.wrapRemoveEventListener(BOOMR.window.EventTarget.prototype)}else{if(BOOMR.window){f.wrapFn("addEventListener",BOOMR.window,!1,1,s.VIA_EVENTHANDLER);f.wrapRemoveEventListener(BOOMR.window)}if(BOOMR.window.Node){f.wrapFn("addEventListener",BOOMR.window.Node.prototype,!0,1,s.VIA_EVENTHANDLER);f.wrapRemoveEventListener(BOOMR.window.Node.prototype)}if(BOOMR.window.XMLHttpRequest){f.wrapFn("addEventListener",BOOMR.window.XMLHttpRequest.prototype,!0,1,s.VIA_EVENTHANDLER);f.wrapRemoveEventListener(BOOMR.window.XMLHttpRequest.prototype)}}if(f.monitorTimeout){f.wrapFn("setTimeout",BOOMR.window,!1,0,s.VIA_TIMEOUT);f.wrapFn("setInterval",BOOMR.window,!1,0,s.VIA_TIMEOUT)}if(f.monitorReporting&&BOOMR.window.ReportingObserver){f.reportingObserver=new BOOMR.window.ReportingObserver(function(e,t){if(BOOMR.utils.isArray(e))for(i=0;i<e.length;i++){n=e[i];(r=n&&n.body&&(n.body.message||n.body.reason))&&f.send({message:r,fileName:n.body.sourceFile||n.url,lineNumber:n.body.lineNumber,columnNumber:n.body.columnNumber,noStack:!0},s.VIA_REPORTING_API)}},{buffered:!0});f.reportingObserver.observe()}return this},is_complete:function(){return!0},is_supported:function(){return f.initialized},SOURCE_APP:1,SOURCE_BOOMERANG:2,VIA_APP:1,VIA_GLOBAL_EXCEPTION_HANDLER:2,VIA_NETWORK:3,VIA_CONSOLE:4,VIA_EVENTHANDLER:5,VIA_TIMEOUT:6,VIA_REJECTION:7,VIA_REPORTING_API:8,EVENT_CLICK:1,EVENT_NETWORK:2,EVENT_LOG:3,send:f.send,wrap:f.wrap,test:f.test,BoomerangError:h}}function h(e){"number"==typeof(e=e||{}).count||"string"==typeof e.count?this.count=parseInt(e.count,10):this.count=1;"number"==typeof e.timestamp?this.timestamp=e.timestamp:this.timestamp=BOOMR.now();"number"!=typeof e.code&&"string"!=typeof e.code||(this.code=parseInt(e.code,10));"string"==typeof e.message&&(this.message=e.message);"string"==typeof e.functionName&&(this.functionName=e.functionName);"string"==typeof e.fileName&&(this.fileName=e.fileName);"number"!=typeof e.lineNumber&&"string"!=typeof e.lineNumber||(this.lineNumber=parseInt(e.lineNumber,10));"number"!=typeof e.columnNumber&&"string"!=typeof e.columnNumber||(this.columnNumber=parseInt(e.columnNumber,10));"string"==typeof e.stack&&(this.stack=e.stack);"string"==typeof e.type&&(this.type=e.type);"undefined"!=typeof e.extra&&(this.extra=e.extra);this.source="number"==typeof e.source||"string"==typeof e.source?parseInt(e.source,10):BOOMR.plugins.Errors.SOURCE_APP;"number"!=typeof e.via&&"string"!=typeof e.via||(this.via=parseInt(e.via,10));BOOMR.utils.isArray(e.frames)?this.frames=e.frames:this.frames=[];BOOMR.utils.isArray(e.events)?this.events=e.events:this.events=[]}}();!function(){if(!BOOMR.plugins.TPAnalytics){var l={complete:!1,clientids:!1,dropParams:[],googleAnalytics:function(){var e,t,n,r,i={},o=BOOMR.window,a=["utm_source","utm_medium","utm_term","utm_content","utm_campaign"];if(l.clientids){if("function"==typeof o.ga)try{o.ga(function(e){e&&(i.clientid=e.get("clientId"))});i.clientid||"function"!=typeof o.ga.getAll||(r=o.ga.getAll())&&0<r.length&&(i.clientid=r[0].get("clientId"))}catch(s){}i.clientid||((r=BOOMR.utils.getCookie("_ga"))?(r=r.split("."))&&4===r.length&&(i.clientid=r[2]+"."+r[3]):(r=(r=BOOMR.utils.getCookie("__utma"))&&r.split("."))&&6===r.length&&(i.clientid=r[1]+"."+r[2]))}for(e=0;e<a.length;e++){t=a[e];(n=BOOMR.utils.getQueryParamValue(t))&&(i[t]=n)}return i},adobeAnalytics:function(){var e,t,n,r,i={},o=BOOMR.window;if("undefined"!=typeof o._satellite||"function"==typeof o.mboxCreate||"function"==typeof o.Visitor||"object"==typeof o.s){if(l.clientids)if("object"==typeof o.s&&"object"==typeof o.s.visitor&&"function"==typeof o.s.visitor.getAnalyticsVisitorID&&"function"==typeof o.s.visitor.getMarketingCloudVisitorID)try{(t=o.s.visitor.getMarketingCloudVisitorID())&&(i.mid=t);(e=o.s.visitor.getAnalyticsVisitorID())&&(i.aid=o.s.visitor.getAnalyticsVisitorID())}catch(a){}else if((n=/AMCV_([A-Z0-9]+)%40AdobeOrg/.exec(o.document.cookie))&&"function"==typeof o.Visitor&&"function"==typeof o.Visitor.getInstance)try{if((r=o.Visitor.getInstance(n[1]+"@AdobeOrg"))&&"function"==typeof r.getAnalyticsVisitorID&&"function"==typeof r.getMarketingCloudVisitorID){(t=r.getMarketingCloudVisitorID())&&(i.mid=t);(e=r.getAnalyticsVisitorID())&&(i.aid=r.getAnalyticsVisitorID())}}catch(a){}else(e=(e=BOOMR.utils.getCookie("s_vi"))?(r=/\|([^\[]+)/.exec(e))&&0<r.length?r[1]:"":BOOMR.utils.getCookie("s_fid"))&&(i.aid=e);if("object"==typeof o.s){"string"==typeof o.s.campaign&&o.s.campaign&&(i.campaign=o.s.campaign);"string"==typeof o.s.purchaseID&&o.s.purchaseID&&(i.purchaseid=o.s.purchaseID)}}return i},ibmAnalytics:function(){var e,t,n,r,i,o,a={},s=BOOMR.window,u={cm_mmc:[/([^&#]+?)-_-([^&#]+?)-_-([^&#]+?)-_-([^&#]+)/,["mmc_vendor","mmc_category","mmc_placement","mmc_item"]],cm_sp:[/([^&#]+?)-_-([^&#]+?)-_-([^&#]+)/,["sp_type","sp_promotion","sp_link"]],cm_re:[/([^&#]+?)-_-([^&#]+?)-_-([^&#]+)/,["re_version","re_pagearea","re_link"]]};if(l.clientids&&"function"==typeof s.cmRetrieveUserID)try{s.cmRetrieveUserID(function(e){a.coreid=e})}catch(c){}for(r in u)if(u.hasOwnProperty(r)&&(e=BOOMR.utils.getQueryParamValue(r))){i=u[r][0];o=u[r][1];if((t=i.exec(e))&&t.length>o.length)for(n=0;n<o.length;n++)t[n+1]&&(a[o[n]]=decodeURIComponent(t[n+1]))}return a},done:function(e,t){var n,r,i={ga:this.googleAnalytics,aa:this.adobeAnalytics,ia:this.ibmAnalytics};if(!this.complete&&("load"===t||e&&"spa_hard"===e.initiator)){for(n in i)for(var o in r=i[n]()){var a="tp."+n+"."+o;BOOMR.utils.inArray(a,this.dropParams)||BOOMR.addVar(a,r[o],!0)}this.complete=!0;BOOMR.sendBeacon()}},prerenderToVisible:function(){this.complete=!1;this.done({},"load")}};BOOMR.plugins.TPAnalytics={init:function(e){BOOMR.utils.pluginConfig(l,e,"TPAnalytics",["clientids","dropParams"]);if(!l.initialized){BOOMR.utils.isArray(l.dropParams)||(l.dropParams=[]);BOOMR.subscribe("page_ready",l.done,"load",l);BOOMR.subscribe("xhr_load",l.done,"xhr",l);BOOMR.subscribe("prerender_to_visible",l.prerenderToVisible,"load",l);l.initialized=!0}return this},is_complete:function(){return!0}}}}();!function(n){"use strict";var e,t;void 0!==n?t=(e=n).UserTimingCompression:e={};var d,r=d={};r.noConflict=function(){e.UserTimingCompression=t;return r};r.trimTiming=function(e,t){"number"!=typeof e&&(e=0);"number"!=typeof t&&(t=0);e=Math.round(e),t=Math.round(t);return 0===e?0:e-t};r.toBase36=function(e){return"number"==typeof e?e.toString(36):""};r.findUserTimingForFrame=function(e){var t;if(!e)return[];try{e.location&&e.location.href;if(!("performance"in e&&e.performance&&e.performance.getEntriesByType))return t;t=(t=e.performance.getEntriesByType("mark")).concat(e.performance.getEntriesByType("measure"))}catch(n){return t}return t};r.compressUserTiming=function(e,t){var n,r,i,o=0,a={};t=t||{};if(!e||!e.length)return[];for(n=0;n<e.length;n++){"undefined"==typeof a[(r=e[n]).name]&&(a[r.name]=[]);"mark"===r.entryType?a[r.name].push({startTime:r.startTime}):"measure"===r.entryType&&a[r.name].push({startTime:r.startTime,duration:r.duration})}for(i in a)if(a.hasOwnProperty(i)&&(!t.map||"undefined"!=typeof t.map[i])){var s=a[i];if(t.map&&"undefined"!=typeof t.map[i]){delete a[i];i=t.map[i]}for(n=o=0;n<s.length;n++){var u=s[n],c=l="0"===(l=d.toBase36(d.trimTiming(u.startTime,o)))?"":l;if("number"==typeof u.duration){var l=d.toBase36(Math.round(u.duration));c+="_";"0"!==l&&(c+=l)}o=u.startTime;s[n]=c}a[i]=d.compressArray(s)}return a};r.convertToTrie=function(e){var t,n,r,i,o,a,s,u={};if(!e)return{};for(t in e)if(e.hasOwnProperty(t)){r=e[t];i=t.split("");a=u;for(n=0;n<i.length;n++)void 0===(s=a[o=i[n]])?a=a[o]=n===i.length-1?r:{}:"string"==typeof s||"number"==typeof s?a=a[o]={"!":s}:n===i.length-1?a[o]["!"]=r:a=a[o]}return u};r.optimizeTrie=function(e,t){var n,r,i=0;if(!e)return{};for(n in e){if("object"==typeof e[n]&&(r=this.optimizeTrie(e[n],!1))){delete e[n];e[n+=r.name]=r.value}i++}if(1!==i)return!!t&&e;if(t){(t={})[n]=e[n];return t}return{name:n,value:e[n]}};r.compressArray=function(e){var t=0,n="";if(!e||0===e.length||e.constructor!==Array)return"";for(var r=0;r<e.length;r++){var i=e[r];if(r<e.length-1&&i===e[r+1])t++;else if(0<t){n+=(""!==n?".":"")+i+"*";2<=t&&(n+=t+1);t=0}else n+=(""!==n?".":"")+i}return/^\d+$/.test(n)?parseInt(n,10):n};r.getCompressedUserTiming=function(t){var e=(t=t||{}).window||n,e=this.findUserTimingForFrame(e);t.from&&(e=e.filter(function(e){return e.startTime+e.duration>=t.from}));t.to&&(e=e.filter(function(e){return e.startTime<=t.to}));return d.compressUserTiming(e,t)};r.compressForUri=function(e){if("object"!=typeof e)return"";var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){if(isNaN(t)){n=!1;break}n=!0}if(n)return"1"+d.flattenMap(e);var r=d.convertToTrie(e),i=d.optimizeTrie(r,!0),o=d.jsUrl(i),a=d.flattenArray(e);if("string"!=typeof a||0===a.length)return"";r=encodeURIComponent(o),i=encodeURIComponent(a);return r.length<i.length?o:"0"+a};r.flattenArray=function(e){var t=[];if("object"!=typeof e)return"";for(r in e)if(e.hasOwnProperty(r)){var n=(e[r]+"").replace("~","%7E"),r=r.replace("~","%7E");t.push(r+"~"+n)}return t=t.join("~")};r.flattenMap=function(e){var t,n=[];if("object"!=typeof e)return"";for(t in e)if(e.hasOwnProperty(t)){var r=parseInt(t,10),i=d.toBase36(r);if(!(1331<r)){1<i.length&&(i="-"+(1===(i=d.toBase36(r-36)).length?"0":"")+i);n.push(i+e[t])}}n.sort();return n=n.join("~")};r.jsUrl=function(n){function r(e){return/[^\w-.]/.test(e)?e=e.replace(/[^\w-.]/g,function(e){return"$"===e?"!":(e=e.charCodeAt(0))<256?"*"+("00"+e.toString(16)).slice(-2):"**"+("0000"+e.toString(16)).slice(-4)}):e}switch(typeof n){case"number":return isFinite(n)?"~"+n:"~null";case"string":return"~'"+r(n);case"boolean":return"~"+n;case"object":return n?Array.isArray(n)?"~("+(n.map(function(e){return d.jsUrl(e)||"~null"}).join("")||"~")+")":"~("+Object.keys(n).map(function(e){var t=d.jsUrl(n[e]);return t&&r(e)+t}).filter(function(e){return e}).sort().join("~")+")":"~null";default:return undefined}};void 0!==e&&(e.UserTimingCompression=r)}("undefined"!=typeof window?window:undefined);!function(){if(!BOOMR.plugins.UserTiming){var s={complete:!1,initialized:!1,supported:!1,options:{from:0,window:BOOMR.window},getUserTiming:function(){var e=this.findUserTimingForFrame(s.options.window);s.options.from&&(e=e.filter(function(e){return e.startTime+e.duration>=s.options.from}));var t=window.UserTimingCompression||BOOMR.window.UserTimingCompression;if(void 0===t){if(0===e.length)return null;for(var n={},r=0,i=e.length;r<i;r++){var o=e[r];n[o.entryType]=n[o.entryType]||{};"mark"===o.entryType?n[o.entryType][o.name]=o.startTime:"measure"===o.entryType&&(n[o.entryType][o.name]=o.duration)}return JSON.stringify(n)}var a=t.compressUserTiming(e);return t.compressForUri(a)},addEntriesToBeacon:function(e){var t=BOOMR.hrNow();if(!(this.complete||e&&"undefined"!=typeof e.early)){(e=this.getUserTiming())&&BOOMR.addVar("usertiming",e,!0);this.options.from=t;this.complete=!0}},findUserTimingForFrame:function(e){var t;if(!e)return[];try{e.location&&e.location.href;if(!("performance"in e&&e.performance&&e.performance.getEntriesByType))return t;t=(t=e.performance.getEntriesByType("mark")).concat(e.performance.getEntriesByType("measure"))}catch(n){return t}return t},clearMetrics:function(e){this.complete=!1},subscribe:function(){BOOMR.subscribe("before_beacon",this.addEntriesToBeacon,null,this);BOOMR.subscribe("beacon",this.clearMetrics,null,this)},pageReady:function(){this.checkSupport()&&this.subscribe()},checkSupport:function(){if(this.supported)return!0;var e=BOOMR.getPerformance();if(e&&"function"==typeof e.getEntriesByType){var t=e.getEntriesByType("mark"),e=e.getEntriesByType("measure");if(BOOMR.utils.isArray(t)&&BOOMR.utils.isArray(e))return this.supported=!0}return!1}};BOOMR.plugins.UserTiming={init:function(e){if(s.initialized)return this;s.checkSupport()?s.subscribe():BOOMR.subscribe("page_ready",s.pageReady,null,s);s.initialized=!0;return this},is_complete:function(){return!0},is_supported:function(){return s.initialized&&s.supported}}}}();!function(){function r(e,t,n){var r=e.shift();if("string"==typeof r){var i=r.split("."),o=BOOMR,a=BOOMR;"BOOMR"===i[0]&&i.shift();for(;i.length&&o&&("object"==typeof o||"function"==typeof o);){var s=i.shift(),o=o[s];i.length&&(a=a[s])}if(!i.length&&"function"==typeof o){e=o.apply(a,e);"function"==typeof t&&t.call(n,e)}}}function e(e){for(var t=0;t<e.length;t++){var n=e[t];n&&(BOOMR.utils.isArray(n)?r(n):"object"==typeof n&&BOOMR.utils.isArray(n.arguments)&&r(n.arguments,n.callback,n.thisArg))}}var t=BOOMR.window.BOOMR_mq;BOOMR.utils.isArray(t)&&e(t);BOOMR.window.BOOMR_mq={push:function(){e(arguments)}}}();!function(){if(!BOOMR.plugins.Akamai){var a={initialized:!1,dns_prefetch_enabled:undefined,mapping_xhr_base_url:undefined,mapping_xhr_url_path:undefined,mapping_xhr_url_v4_prefix:undefined,mapping_xhr_url_v6_prefix:undefined,xhrRetryMarker:"akamaiXhrRetry",regEx:undefined,complete:!1,done:function(e,t){if(!this.complete){if(a.dns_prefetch_enabled&&BOOMR.plugins.AK&&BOOMR.plugins.AK.akDNSPreFetchDomain){var n=document.createElement("link");n.setAttribute("id","dnsprefetchlink");n.setAttribute("rel","dns-prefetch");n.setAttribute("href","//"+BOOMR.plugins.AK.akDNSPreFetchDomain);document.getElementsByTagName("head")[0].appendChild(n)}if(window.XMLHttpRequest&&!BOOMR.utils.getLocalStorage(a.xhrRetryMarker)&&a.mapping_xhr_base_url&&a.mapping_xhr_url_path&&(a.mapping_xhr_url_v4_prefix||a.mapping_xhr_url_v6_prefix)){if(a.mapping_xhr_url_v4_prefix){var r="https://"+a.mapping_xhr_url_v4_prefix+"."+a.mapping_xhr_base_url+a.mapping_xhr_url_path+"?c=p"+BOOMR.pageId,i=new XMLHttpRequest;i.open("GET",r,!0);setTimeout(function(){i.send()},200)}if(a.mapping_xhr_url_v6_prefix){var r="https://"+a.mapping_xhr_url_v6_prefix+"."+a.mapping_xhr_base_url+a.mapping_xhr_url_path+"?c=p"+BOOMR.pageId,o=new XMLHttpRequest;o.open("GET",r,!0);setTimeout(function(){o.send()},200)}BOOMR.utils.setLocalStorage(a.xhrRetryMarker,{},1800)}else BOOMR.utils.getLocalStorage(a.xhrRetryMarker);this.complete=!0}}};BOOMR.plugins.Akamai={init:function(e){BOOMR.utils.pluginConfig(a,e,"Akamai",["dns_prefetch_enabled","mapping_xhr_base_url","mapping_xhr_url_path","mapping_xhr_url_v4_prefix","mapping_xhr_url_v6_prefix"]);if(!a.regEx&&a.mapping_xhr_base_url&&a.mapping_xhr_url_path&&(a.mapping_xhr_url_v4_prefix||a.mapping_xhr_url_v6_prefix)&&BOOMR.plugins.AutoXHR){e=a.mapping_xhr_url_v4_prefix&&a.mapping_xhr_url_v6_prefix?"("+a.mapping_xhr_url_v4_prefix+"|"+a.mapping_xhr_url_v6_prefix+")":a.mapping_xhr_url_v4_prefix||a.mapping_xhr_url_v6_prefix;try{a.regEx=new RegExp("^https://"+e+"."+a.mapping_xhr_base_url+a.mapping_xhr_url_path);a.regEx&&BOOMR.plugins.AutoXHR.addExcludeFilter(function(e){return a.regEx.test(e.href)},a,"BOOMR.plugins.Akamai.exlude.mapping.endpoint")}catch(t){}}if(a.initialized)return this;BOOMR.subscribe("page_ready",a.done,"load",a);BOOMR.subscribe("xhr_load",a.done,"xhr",a);a.initialized=!0;return this},is_complete:function(){return!0}}}}();!function(){if(!BOOMR.plugins.Early){var n={initialized:!1,autorun:!0,earlyBeaconSent:!1,singlePageApp:!1,onConfigFired:!1,onSpaInit:function(){this.earlyBeaconSent=!1},clearMetrics:function(){BOOMR.removeVar("early")},sendEarlyBeacon:function(e,t){var n=0,r=BOOMR.getPerformance(),i=BOOMR.window&&BOOMR.window.document;if(i){"onconfig"===t&&(this.onConfigFired=!0);r&&r.navigation&&(n=r.navigation.type);if(!(this.earlyBeaconSent||"prerender"===BOOMR.visibilityState()||1===n||2===n||!this.singlePageApp&&(!this.autorun||!this.onConfigFired&&"prerender_to_visible"===t||"loading"===i.readyState||BOOMR.hasBrowserOnloadFired())||this.singlePageApp&&!BOOMR.utils.inArray(t,BOOMR.constants.BEACON_TYPE_SPAS))){this.earlyBeaconSent=!0;BOOMR.addVar("early","1");if(e&&BOOMR.utils.inArray(e.initiator,BOOMR.constants.BEACON_TYPE_SPAS)){BOOMR.addVar("http.initiator",e.initiator);BOOMR.addVar("rt.start","manual")}BOOMR.fireEvent("before_early_beacon",e);BOOMR.sendBeacon()}}}};BOOMR.plugins.Early={init:function(e){if(e.primary||n.initialized)return this;"undefined"!=typeof e.autorun&&(n.autorun=e.autorun);n.singlePageApp=BOOMR.plugins.SPA&&BOOMR.plugins.SPA.isSinglePageApp(e);BOOMR.registerEvent("before_early_beacon");BOOMR.subscribe("config",n.sendEarlyBeacon,"onconfig",n,!0);BOOMR.subscribe("dom_loaded",n.sendEarlyBeacon,"dom_loaded",n,!0);BOOMR.subscribe("spa_init",n.onSpaInit,null,n);BOOMR.subscribe("prerender_to_visible",n.sendEarlyBeacon,"prerender_to_visible",n,!0);BOOMR.subscribe("beacon",n.clearMetrics,null,n);BOOMR.subscribe("before_beacon",function(e){"undefined"!=typeof e["rt.quit"]&&n.clearMetrics()},null,n);n.initialized=!0;return this},is_complete:function(){return!0},is_supported:function(){return n.initialized},sendEarlyBeacon:function(e,t){n.sendEarlyBeacon(e,t)}}}}();!function(){if(!BOOMR.plugins.EventTiming){var o={click:0,dblclick:1,mousedown:2,mouseup:3,mousemove:4,touchstart:5,touchend:6,touchmove:7,keydown:8,keyup:9,keypress:10,wheel:11,pointerdown:12,pointerup:13,pointermove:14,compositionstart:17,compositionupdate:18,compositionend:19,contextmenu:20,pointerover:21,mouseover:22,pointerenter:23,auxclick:24,beforeinput:25,dragend:26,dragenter:27,dragleave:28,dragover:29,dragstart:30,drop:31,gotpointercapture:32,input:33,lostpointercapture:34,mouseenter:35,mouseleave:36,mouseout:37,pointercancel:38,pointerleave:39,pointerout:40,touchcancel:41},a={initialized:!1,supported:null,observerEvent:null,observerFirstInput:null,entries:[],maxEntries:100,durationThreshold:16,interactions:{},interactionsSinceLastBeacon:{},firstInputDelay:null,timeToFirstInteraction:null,onBeforeBeacon:function(){if(a.entries&&a.entries.length){for(var e=[],t=0;t<a.entries.length;t++){var n={n:"undefined"!=typeof o[a.entries[t].name]?o[a.entries[t].name]:a.entries[t].name,s:Math.round(a.entries[t].startTime).toString(36),d:Math.round(a.entries[t].duration).toString(36),p:Math.round(a.entries[t].processingEnd-a.entries[t].processingStart).toString(36),c:a.entries[t].cancelable?1:0,fi:"first-input"===a.entries[t].entryType?1:undefined,i:a.entries[t].interactionId?a.entries[t].interactionId.toString(36):undefined};a.entries[t].target&&(n.t=BOOMR.utils.makeSelector(a.entries[t].target));e.push(n)}BOOMR.addVar("et.e",BOOMR.utils.serializeForUrl(e),!0)}a.entries=[];if(null!==a.firstInputDelay){BOOMR.addVar("et.fid",Math.ceil(a.firstInputDelay),!0);a.firstInputDelay=null}var r,i=BOOMR.plugins.EventTiming.metrics.interactionToNextPaintData(a.interactionsSinceLastBeacon);if(i){BOOMR.addVar("et.inp.inc",i.duration,!0);BOOMR.addVar("et.inp.inc.e",i.target,!0);BOOMR.addVar("et.inp.inc.t",i.startTime,!0)}for(r in a.interactionsSinceLastBeacon)a.interactions[r]=a.interactionsSinceLastBeacon[r];a.interactionsSinceLastBeacon={}},onPageUnload:function(e){Object.assign(a.interactions,a.interactionsSinceLastBeacon);var t=BOOMR.plugins.EventTiming.metrics.interactionToNextPaintData(a.interactions);if(t){BOOMR.addVar("et.inp",t.duration,!0);BOOMR.addVar("et.inp.e",t.target,!0);BOOMR.addVar("et.inp.t",t.startTime,!0)}},onEventTiming:function(e){for(var t=e.getEntries(),n=0;n<t.length;n++)if(t[n].interactionId){var r=t[n].interactionId;a.interactionsSinceLastBeacon[r]=a.interactionsSinceLastBeacon[r]||{};(!a.interactionsSinceLastBeacon[r].duration||t[n].duration>a.interactionsSinceLastBeacon[r].duration)&&(a.interactionsSinceLastBeacon[r]={duration:Math.ceil(t[n].duration),target:BOOMR.utils.makeSelector(t[n].target),startTime:Math.floor(t[n].startTime)})}0<a.maxEntries&&a.entries.length>=a.maxEntries||(a.entries=a.entries.concat(t))},onFirstInput:function(e){var t=e.getEntries(),e=t[0];a.entries=a.entries.concat(t);a.firstInputDelay=Math.ceil(e.processingStart-e.startTime);a.timeToFirstInteraction=Math.floor(e.startTime);a.interactionsSinceLastBeacon.fid={duration:Math.ceil(e.duration),target:BOOMR.utils.makeSelector(e.target),startTime:Math.floor(e.startTime)}}};BOOMR.plugins.EventTiming={init:function(e){BOOMR.utils.pluginConfig(a,e,"EventTiming",["enabled","maxEntries","durationThreshold"]);this.is_supported()||(a.initialized=!0);if(!a.initialized){BOOMR.subscribe("before_beacon",a.onBeforeBeacon,null,a);try{var t=BOOMR.window;a.observerEvent=new t.PerformanceObserver(a.onEventTiming);a.observerEvent.observe({type:["event"],buffered:!0,durationThreshold:a.durationThreshold});a.observerFirstInput=new t.PerformanceObserver(a.onFirstInput);a.observerFirstInput.observe({type:["first-input"],buffered:!0})}catch(n){a.supported=!1}BOOMR.subscribe("page_unload",a.onPageUnload,null,a);a.initialized=!0}return this},is_complete:function(){return!0},is_enabled:function(){return a.initialized&&this.is_supported()},is_supported:function(){if(null!==a.supported)return a.supported;var e=BOOMR.window,t=BOOMR.getPerformance();a.supported=t&&"undefined"!=typeof e.PerformanceEventTiming&&"function"==typeof e.PerformanceObserver;a.supported;return a.supported},stop:function(){if(a.observerEvent){a.observerEvent.disconnect();a.observerEvent=null}if(a.observerFirstInput){a.observerFirstInput.disconnect();a.observerFirstInput=null}},metrics:{count:function(){return a.entries.length},averageDuration:function(){if(0===a.entries.length)return 0;for(var e=0,t=0;t<a.entries.length;t++)e+=a.entries[t].duration;return e/a.entries.length},firstInputDelay:function(){return a.firstInputDelay},timeToFirstInteraction:function(){return a.timeToFirstInteraction},interactionToNextPaint:function(){var e=Object.assign({},a.interactions,a.interactionsSinceLastBeacon),e=this.interactionToNextPaintData(e);return e?e.duration:undefined},incrementalInteractionToNextPaint:function(){var e=this.interactionToNextPaintData(a.interactionsSinceLastBeacon);return e?e.duration:undefined},interactionToNextPaintData:function(e){if("function"!=typeof Object.values)return null;var t=Object.values(e||a.interactions).sort(function(e,t){return t.duration-e.duration});if(!("interactionCount"in performance))return t[0];e=Math.floor(.02*performance.interactionCount);return t[e=e>=t.length?t.length-1:e]}}}}}();!function(){if(!BOOMR.plugins.BFCache){var r={minimumDwellTime:500,initialized:!1,notRestoredReasons:undefined,hasSentNotRestoredReasons:!1,dwellTimeout:!1,sendBeacon:function(e,t,n){var r=BOOMR.getPerformance();t=Math.floor(t);var i=Math.floor(e.timeStamp),o=t-i;BOOMR.plugins.RT.incrementSessionDetails();BOOMR.addVar("http.initiator","bfcache");BOOMR.addVar("rt.start","manual");BOOMR.addVar("t_done",o,!0);BOOMR.addVar("t_page",o,!0);BOOMR.addVar("t_resp",0,!0);BOOMR.addVar("rt.tstart",Math.floor(i+r.timing.navigationStart),!0);BOOMR.addVar("rt.end",Math.floor(t+r.timing.navigationStart),!0);BOOMR.addVar("nt_nav_type",2);BOOMR.addVar("pt.fcp",Math.floor(n-t),!0);BOOMR.addVar("pt.lcp",Math.floor(n-t),!0);BOOMR.fireEvent("bfcache",e);BOOMR.sendBeacon()},onPageHide:function(e){if(r.dwellTimeout){clearTimeout(r.dwellTimeout);r.dwellTimeout=!1}},onPageShow:function(t){var n=BOOMR.hrNow();t.persisted&&requestAnimationFrame(function(){requestAnimationFrame(function(){var e=BOOMR.hrNow();r.dwellTimeout=setTimeout(function(){r.dwellTimeout&&r.sendBeacon(t,n,e);r.dwellTimeout=!1},r.minimumDwellTime)})})},onBeforeBeacon:function(e){if(BOOMR.isPageLoadBeacon(e)&&!r.hasSentNotRestoredReasons){e=BOOMR.plugins.BFCache.notRestoredReasons();e&&BOOMR.addVar("bfc.nrr",e,!0);r.hasSentNotRestoredReasons=!0}}};BOOMR.plugins.BFCache={init:function(e){BOOMR.utils.pluginConfig(r,e,"BFCache",["minimumDwellTime"]);if(r.initialized)return this;if(document&&document.head&&"function"==typeof document.head.append){var t=document.createElement("meta");t.httpEquiv="origin-trial";t.content="A2uWz2bbyoykT6h7LZQlNUdwVAFfb3IL5LU+YR1qxtW5T1dCRKjJ5/h3zur1LmuLWk0B1kyAAwyCxJzDCzNxUAQAAAB6eyJvcmlnaW4iOiJodHRwczovL2FrYW1haS5jb206NDQzIiwiZmVhdHVyZSI6IkJhY2tGb3J3YXJkQ2FjaGVOb3RSZXN0b3JlZFJlYXNvbnMiLCJleHBpcnkiOjE2OTE1MzkxOTksImlzVGhpcmRQYXJ0eSI6dHJ1ZX0=";document.head.append(t)}BOOMR.registerEvent("bfcache");BOOMR.utils.addListener(BOOMR.window,"pagehide",r.onPageHide);BOOMR.utils.addListener(BOOMR.window,"pageshow",r.onPageShow);t=BOOMR.getPerformance();if(t&&"function"==typeof t.getEntriesByType){t=t.getEntriesByType("navigation");r.notRestoredReasons=t&&t[0]&&t[0].notRestoredReasons;r.notRestoredReasons&&BOOMR.subscribe("before_beacon",r.onBeforeBeacon,null,r)}r.initialized=!0;return this},is_complete:function(){return!0},notRestoredReasons:function(){if(r.notRestoredReasons&&r.notRestoredReasons.blocked){var e=[];r.notRestoredReasons.reasons.length&&(e=[].concat(r.notRestoredReasons.reasons));return(e=r.notRestoredReasons.children?e.concat(r.notRestoredReasons.children.filter(function(e){return e.blocked}).map(function(e){return e.id?"id-"+e.id:e.name?"name-"+e.name:"frame-unknown"})):e).length?e.join(","):undefined}}}}}();!function(a){var s,u=document,c=a.location.hostname,l=!1,n=!1,r=!0,i=!1,e=a.BOOMR_LOGN_always,d=a.BOOMR_CONFIG_RELOAD_TIMEOUT||33e4,f=a.BOOMR_CONFIG_STORE_TIMEOUT||480,o=!1;if(!BOOMR.plugins.LOGN&&!1!==e&&(void 0!==e||c&&"localhost"!==c&&!c.match(/\.\d+$/)&&!c.match(/^mhtml/)&&!c.match(/^file:\//))){var p={storeConfig:!1};BOOMR.plugins.LOGN={init:function(e){var t;BOOMR.utils.pluginConfig(p,e,"LOGN",["storeConfig"]);if(l||BOOMR.session.rate_limited)return this;if(e){if(e.rate_limited){BOOMR.session.rate_limited=!0;return this}"undefined"!=typeof e.autorun&&(r=e.autorun)}if(n){BOOMR.fireEvent("config",e);o=!0;BOOMR.setImmediate(O);if(s){BOOMR.addVar("t_configjs",BOOMR.now()-s);if("number"==typeof BOOMR_configt){BOOMR.addVar("t_configfb",BOOMR_configt-s);delete BOOMR_configt}}return this}a&&a.BOOMR_API_key?t=a.BOOMR_API_key:u&&BOOMR.url&&-1!==BOOMR.url.lastIndexOf("/")&&(t=BOOMR.url.substr(BOOMR.url.lastIndexOf("/")+1));if(t){BOOMR.addVar("h.key",t);if(!i&&BOOMR.plugins&&BOOMR.plugins.AutoXHR&&"function"==typeof BOOMR.plugins.AutoXHR.addExcludeFilter){BOOMR.plugins.AutoXHR.addExcludeFilter(function(e){return!!(e&&e.href&&-1<e.href.indexOf(this))},t,"ConfigXHRRequestFilter");i=!0}BOOMR.setVarPriority("h.d",-1);BOOMR.setVarPriority("h.key",-1);BOOMR.setVarPriority("h.t",-1);BOOMR.setVarPriority("h.cr",1);BOOMR.subscribe("beacon",R,null,null);n=!0;BOOMR.setImmediate(g);return this}},is_complete:function(){return o},readyToSend:function(){return BOOMR.hasVar("h.cr")},isJson:!0}}function O(){if(!l){n=!(l=!0);(r||BOOMR.onloadFired()&&"prerender"!==BOOMR.visibilityState())&&BOOMR.sendBeacon()}}function m(e){if(e.session_id){BOOMR.session.ID=e.session_id;delete e.session_id}for(var t=["h.key","h.d","h.t","h.cr"],n=0;n<t.length;n++)if(e[t[n]]){BOOMR.addVar(t[n],e[t[n]]);delete e[t[n]]}BOOMR.init(e);return!0}function h(e,t){a.BOOMR_configt=BOOMR.now();var n,r=function o(e){var t=function(){throw new Exception("No JSON.parse available")};window.JSON&&"function"==typeof JSON.parse?t=JSON.parse:BOOMR.window&&(BOOMR.window.JSON&&"function"==typeof BOOMR.window.JSON.parse?t=BOOMR.window.JSON.parse:"function"==typeof BOOMR.window.json_parse&&(t=BOOMR.window.json_parse));try{return t(e)}catch(n){}return null}(e);if(r){n=t&&BOOMR.utils.getLocalStorage("LOGN")||{};for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i]);(p.storeConfig||r.LOGN&&r.LOGN.storeConfig)&&BOOMR.utils.setLocalStorage("LOGN",n,f);t||setTimeout(g,d);return m(r)}}function g(){var e,r,t,n=u.createElement("A"),i=BOOMR.getBeaconURL?BOOMR.getBeaconURL():"",o=[];if(!l){t=BOOMR.utils.getLocalStorage("LOGN");if(t&&m(t)){BOOMR.addVar("t_configls",Math.round(BOOMR.hrNow()));BOOMR.setImmediate(O)}}for(e in BOOMR.plugins)BOOMR.plugins.hasOwnProperty(e)&&o.push(encodeURIComponent(e));s=BOOMR.now();r="https://c.go-mpulse.net/api/config.json";r+="?key="+BOOMR.getVar("h.key")+"&d="+encodeURIComponent(c)+"&t="+Math.round(s/3e5)+"&v="+BOOMR.version+(a===window?"":"&if=")+"&sl="+(0<BOOMR.session.length?1:0)+"&si="+BOOMR.session.ID+"-"+Math.round(BOOMR.session.start/1e3).toString(36)+(l?"&r=":"")+(i?"&bcn="+encodeURIComponent(i):"")+(l?"":"&plugins="+o.join(","));r+="&acao=";if(BOOMR.plugins.AK&&BOOMR.plugins.AK.akVars){i=BOOMR.plugins.AK.akVars["ak.ai"];isNaN(i)||!BOOMR.utils.isInteger(i)&&isNaN(parseInt(i,10))||(r+="&ak.ai="+i)}n.href=r;BOOMR.config_url=n.href;!function(e){if(window.XDomainRequest){0===r.indexOf("https:")&&"http:"===window.location.protocol&&(r=r.replace("https://","http://"));var t=new XDomainRequest;t.open("GET",r);t.onload=function(){h(t.responseText,e)};t.send()}else{var n=new XMLHttpRequest;n.open("GET",r,!0);n.onreadystatechange=function(){4===n.readyState&&200===n.status&&h(n.responseText,e)};n.send(null)}}(l);l&&setTimeout(function(){g()},d)}function R(e){if(!e||!("undefined"!=typeof e.early||e["http.initiator"]&&0===e["http.initiator"].indexOf("api_custom_"))){BOOMR.removeVar("t_configjs");BOOMR.removeVar("t_configfb");BOOMR.removeVar("t_configls")}}}(BOOMR.window);BOOMR.init({primary:!0,log:null,wait:!0,site_domain:null,ResourceTiming:{enabled:!1},Angular:{enabled:!1},Ember:{enabled:!1},Backbone:{enabled:!1},History:{enabled:!1},Errors:{enabled:!1},TPAnalytics:{enabled:!1},UserTiming:{enabled:!1},Continuity:{enabled:!1},IFrameDelay:{enabled:!1},Early:{enabled:!1}});BOOMR.t_end=(new Date).getTime();
