require(["dojo/on","dojo/query","dojo/topic","dojo/dom","dojo/dom-style","dojo/dom-class","dojo/_base/event","dojo/NodeList-dom","dojo/domReady!"],function(a,f,b,g,c,e,d,h){widgetCommonJS={toggleDisplay:function(i){var j=g.byId(i);c.get(j,"display")==="none"?c.set(j,"display","block"):c.set(j,"display","none")},toggleCustomCheckBox:function(j,k,i){f("."+j,i).toggleClass(k);if(i.getAttribute("aria-checked")=="true"){i.setAttribute("aria-checked","false")}else{i.setAttribute("aria-checked","true")}},toggleCustomCheckBoxKeyPress:function(l,m,k,j){var i=j.charCode||j.keyCode;console.debug(i);if(i==dojo.keys.SPACE){widgetCommonJS.toggleCustomCheckBox(l,m,k)}},toggleReadEditSection:function(j,i){var k=g.byId("overlay");var l=g.byId(j+"Main");if(i=="edit"){dojo.query("#"+j).style("display","block");dojo.style(j+"Icon","display","none");dojo.style(j+"Read","display","none");if(k){e.remove(k,"nodisplay")}e.add(l,"editView");e.add(l,"lightedSection")}else{if(i=="read"){dojo.query("#"+j).style("display","none");dojo.query("#"+j+"Icon").style("display","inline-block");dojo.style(j+"Read","display","block");if(k){e.add(k,"nodisplay")}e.remove(l,"lightedSection");e.remove(l,"editView")}}},focusDiv:function(i){f("#"+i).addClass("dottedBorder")},blurDiv:function(i){f("#"+i).removeClass("dottedBorder")},toggleEditSection:function(l){e.toggle(l,"readOnly");e.toggle(l,"editView");var j=f(".editField",l);var k=f(".readField",l);var i=g.byId("overlay");if(e.contains(l,"readOnly")){j.attr("aria-hidden","true");k.removeAttr("aria-hidden");e.remove(l,"lightedSection");if(i){e.add(i,"nodisplay")}}else{k.attr("aria-hidden","true");j.removeAttr("aria-hidden");e.add(l,"lightedSection");if(i){e.remove(i,"nodisplay")}}},removeSectionOverlay:function(){var i=g.byId("overlay");if(i){e.add(i,"nodisplay")}},redirect:function(i,j){if(j!=null&&j!="undefined"){if(i.indexOf("?")>-1){i=i+"&"+j}else{i=i+"?"+j}}document.location.href=i},initializeEditSectionToggleEvent:function(){a(document,".pageSection .pageSectionTitle .editIcon[data-section-toggle]:click",function(j){var i=this.getAttribute("data-section-toggle");widgetCommonJS.toggleEditSection(document.getElementById(i));d.stop(j)});a(document,".pageSection .editField .button_footer_line a[data-section-toggle]:click",function(k){var j=this.getAttribute("data-section-toggle");widgetCommonJS.toggleEditSection(document.getElementById(j));var i={target:j};b.publish("sectionToggleCancelPressed",i);d.stop(k)})}}});dojo.require("wc.widget.Tooltip");require(["dojo/html","dojo/_base/lang","dojo/on","dojo/query","dojo/topic","dojo/dom","dojo/dom-style","dojo/dom-class","dojo/_base/event","dojo/_base/array","dojo/json","dojo/domReady!"],function(d,b,h,i,e,c,f,j,a,g,k){OnBehalfUtilities=function(){this.startCustomerService=function(n){var l=n.getAttribute("data-customer-service-url");var o=getCookie("WC_BuyOnBehalf_"+WCParamJS.storeId);if(CSRWCParamJS.env_shopOnBehalfSessionEstablished=="true"&&CSRWCParamJS.env_shopOnBehalfEnabled_CSR=="true"){var m=e.subscribe("onBehalfSessionTerminate",function(p){m.remove();if(p.action=="YES"){document.location.href=l}if(p.action=="NO"){}});MessageHelper.showConfirmationDialog("onBehalfSessionTerminate",b.replace(storeNLS.CSR_SESSION_TERMINATE_WARNING_MESSAGE,[escapeXml(o,true)]))}else{document.location.href=l}};this.updateUIAndRenderContext=function(p,v){var m,l,o,t=null;var w=wc.render.getContextById("UserRegistrationAdminUpdateStatusContext");if(typeof(w)!="undefined"){m=w.properties.userId;t=w.properties[m+"_userStatus"]}var q=wc.render.getContextById("UserRegistrationAdminUpdateStatusContextCSR");if(typeof(q)!="undefined"){l=q.properties.userId;o=q.properties[l+"_userStatus"]}var s=null;var r=null;if(v=="UserRegistrationAdminUpdateStatusContext"){s=t;r=m}else{if(v=="UserRegistrationAdminUpdateStatusContextCSR"){s=o;r=l}}if(typeof(w)!="undefined"){w.properties[r+"_updatedStatus"]=s}if(typeof(q)!="undefined"){q.properties[r+"_updatedStatus"]=s}var u=storeNLS.DISABLE_CUSTOMER_ACCOUNT;if(s=="0"){u=storeNLS.ENABLE_CUSTOMER_ACCOUNT}var n=i("div[data-toggle-userStatus = 'userStatus_"+r+"']");n.forEach(function(z,y,x){z.innerHTML=u})};this.cancelOrder=function(n,m,p){var o=wc.render.getContextById("onBehalfCommonContext");o.properties.cancelReloadURL=m;var l=wc.service.getServiceById("AjaxCancelOrderAdministrator");if(p!=null&&p=="true"){l.url=getAbsoluteURL()+"AjaxRESTCSROrderCancelOnbehalf"}else{l.url=getAbsoluteURL()+"AjaxRESTCSROrderCancelAsAdmin"}var q=[];q.orderId=n;q.storeId=WCParamJS.storeId;q.catalogId=WCParamJS.catalogId;q.langId=WCParamJS.langId;q.forcedCancel="true";wc.service.invoke("AjaxCancelOrderAdministrator",q)};this.unLockOrder=function(m,o){if(o!=null&&o!=""&&o=="true"){this.takeOverLock(m,"true");var n=e.subscribe("orderTakeOverSuccess",function(q){n.remove();onBehalfUtilitiesJS.unLockOrder(m,"false")});return}var l=this.getLockUnLockCartService("AjaxRESTOrderLockUnlockOnBehalf",getAbsoluteURL()+"AjaxRESTOrderUnlockOnBehalf","SUCCESS_ORDER_UNLOCK");var p=[];p.orderId=m;p.filterOption="All";p.storeId=WCParamJS.storeId;p.catalogId=WCParamJS.catalogId;p.langId=WCParamJS.langId;if(!submitRequest()){return}cursor_wait();wc.service.invoke(l.id,p)};this.lockOrder=function(m){var l=this.getLockUnLockCartService("AjaxRESTOrderLockUnlockOnBehalf",getAbsoluteURL()+"AjaxRESTOrderLockOnBehalf","SUCCESS_ORDER_LOCK");var n=[];n.orderId=m;n.filterOption="All";n.storeId=WCParamJS.storeId;n.catalogId=WCParamJS.catalogId;n.langId=WCParamJS.langId;if(!submitRequest()){return}cursor_wait();wc.service.invoke(l.id,n)};this.takeOverLock=function(m,n){var l=this.getLockUnLockCartService("AjaxRESTOrderLockUnlockOnBehalf",getAbsoluteURL()+"AjaxRESTOrderLockTakeOverOnBehalf","SUCCESS_ORDER_TAKE_OVER",n);var o=[];o.orderId=m;o.filterOption="All";o.takeOverLock="Y";o.storeId=WCParamJS.storeId;o.catalogId=WCParamJS.catalogId;o.langId=WCParamJS.langId;if(!submitRequest()){return}cursor_wait();wc.service.invoke(l.id,o)};this.getLockUnLockCartService=function(p,m,o,n){var l=wc.service.getServiceById("AjaxRESTOrderLockUnlockOnBehalf");if(l==null||l==undefined){wc.service.declare({id:"AjaxRESTOrderLockUnlockOnBehalf",actionId:"AjaxRESTOrderLockUnlockOnBehalf",url:"",formId:"",successMessageKey:"",publishTopic:"",successHandler:function(q){cursor_clear();if(l.publishTopic=="true"){e.publish("orderTakeOverSuccess",q);return}MessageHelper.hideAndClearMessage();MessageHelper.displayStatusMessage(storeNLS[l.successMessageKey]);setDeleteCartCookie();if(dijit.byId("quick_cart_container")!=null){dijit.byId("quick_cart_container").hide()}},failureHandler:function(q){if(q.errorMessage){MessageHelper.displayErrorMessage(q.errorMessage)}else{if(q.errorMessageKey){MessageHelper.displayErrorMessage(q.errorMessageKey)}}}});l=wc.service.getServiceById("AjaxRESTOrderLockUnlockOnBehalf")}if(p!=null&&p!="undefined"){l.actionId=p}if(o!=null&&o!="undefined"){l.successMessageKey=o}if(n!=null&&n!="undefined"){l.publishTopic=n}else{l.publishTopic=null}if(m!=null&&m!="undefined"){l.url=m}else{l.url=null}return l}}});dojo.addOnLoad(function(){onBehalfUtilitiesJS=new OnBehalfUtilities()});wc.render.declareContext("orderLockStatusContext",{},"");wc.render.declareContext("onBehalfCommonContext",{},"");wc.render.declareRefreshController({id:"orderLockStatusController",renderContext:wc.render.getContextById("orderLockStatusContext"),url:"",baseURL:getAbsoluteURL()+"OrderLockStatusView",formId:"",modelChangedHandler:function(c,d){console.debug("modelChangedHandler of orderLockStatusController",d);var a=this;var b=this.renderContext;a.url=a.baseURL+"?"+getCommonParametersQueryString();if(c.actionId=="AjaxRESTOrderLockUnlockOnBehalf"){d.refresh(b.properties)}},renderContextChangedHandler:function(a,b){console.debug("renderContextChangedHandler of orderLockStatusController",b)},postRefreshHandler:function(a){console.debug("Post refresh handler of orderLockStatus",a);cursor_clear()}});wc.service.declare({id:"AjaxRESTMemberPasswordResetByAdminOnBehalfForBuyer",actionId:"AjaxRESTMemberPasswordResetByAdminOnBehalfForBuyer",url:getAbsoluteURL()+"AjaxRESTMemberPasswordResetByAdminOnBehalf",formId:"",successHandler:function(a){MessageHelper.displayStatusMessage(storeNLS.RESET_PASSWORD_SUCCESS);cursor_clear()},failureHandler:function(a){var b=storeNLS[a.errorMessageKey];if(b==null){if(a.errorMessage){b=a.errorMessage}else{if(a.errorMessageKey){b=a.errorMessageKey}}}MessageHelper.displayErrorMessage(b)}});wc.service.declare({id:"AjaxRESTMemberPasswordResetByAdminOnBehalf",actionId:"AjaxRESTMemberPasswordResetByAdminOnBehalf",url:getAbsoluteURL()+"AjaxRESTMemberPasswordResetByAdminOnBehalf",formId:"",successHandler:function(a){MessageHelper.displayStatusMessage(storeNLS.RESET_PASSWORD_SUCCESS);if(typeof(registeredCustomersJS)!="undefined"){registeredCustomersJS.onResetPasswordByAdminSuccess()}cursor_clear()},failureHandler:function(a){var b="";if(typeof(registeredCustomersJS)!="undefined"){b=storeNLS[a.errorMessageKey];if(b==null){if(a.errorMessage){b=a.errorMessage}else{if(a.errorMessageKey){b=a.errorMessageKey}}}registeredCustomersJS.onResetPasswordByAdminError(b,a)}}});wc.service.declare({id:"AjaxRESTMemberPasswordResetByAdmin",actionId:"AjaxRESTMemberPasswordResetByAdmin",url:getAbsoluteURL()+"AjaxRESTMemberPasswordResetByAdmin",formId:"",successHandler:function(a){MessageHelper.displayStatusMessage(storeNLS.RESET_PASSWORD_SUCCESS);cursor_clear()},failureHandler:function(a){MessageHelper.displayErrorMessage(storeNLS.ERROR_RESET_PASSWORD_ACCESS_ACCOUNT_TO_RESET)}});wc.service.declare({id:"AjaxCancelOrderAdministrator",actionId:"AjaxCancelOrderAdministrator",url:getAbsoluteURL()+"AjaxRESTCSROrderCancelAsAdmin?"+getCommonParametersQueryString()+"&forcedCancel=true",formId:"",successHandler:function(b){MessageHelper.displayStatusMessage(storeNLS.ORDER_CANCEL_SUCCESS);var c=wc.render.getContextById("onBehalfCommonContext");var a=c.properties.cancelReloadURL;if(a!=""&&typeof(a)!="undefined"){document.location.href=a}else{window.location.reload(1)}cursor_clear()},failureHandler:function(a){if(a.errorMessage){MessageHelper.displayErrorMessage(a.errorMessage)}else{if(a.errorMessageKey){MessageHelper.displayErrorMessage(a.errorMessageKey)}}}});require(["dojo/html","dojo/on","dojo/query","dojo/topic","dojo/dom","dojo/dom-style","dojo/dom-class","dojo/_base/event","dojo/_base/array","dojo/domReady!"],function(c,g,h,d,b,e,i,a,f){RegisteredCustomers=function(){this.searchListData={progressBarId:"RegisteredCustomersList_form_botton_1",formId:"RegisteredCustomersSearch_searchForm",searchButtonId:"RegisteredCustomersList_form_botton_1",clearButtonId:"RegisteredCustomersList_form_botton_2"},this.csrResetPasswordIds={administratorPasswordId:"administratorPassword",errorDivId:"csr_resetPassword_error",errorMessageId:"csr_resetPassword_error_msg",parentNodeId:"csr_reset_password",resetPasswordButtonId:"csr_resetPassword_button",resetPasswordDropDownPanelId:"csr_resetPassword_dropdown_panel"},this.csrPasswordEnabled=false,this.setUpEvents=function(){var j=this;var k=dojo.byId(this.searchListData.searchButtonId);if(k!=null){g(k,"click",function(l){j.doSearch()})}k=dojo.byId(this.searchListData.clearButtonId);if(k!=null){g(k,"click",function(l){j.clearFilter()})}};this.clearFilter=function(){this.clearSearchResults();dojo.query('#RegisteredCustomersSearch_searchForm input[id ^= "RegisteredCustomersSearch_"]').forEach(function(j){j.value=null});dojo.query('#RegisteredCustomersSearch_searchForm table[id ^= "RegisteredCustomersSearch_"]').forEach(function(k){var j=dijit.byId(k.id);if(j!=null){j.setValue("-1")}})};this.doSearch=function(){this.clearSearchResults();var k=false;dojo.query("#"+this.searchListData.formId+' input[id ^= "RegisteredCustomersSearch_"]').forEach(function(n){var m=n.value;if(m!=null&&m!=""){k=true}});if(!k){dojo.query("#"+this.searchListData.formId+' table[id ^= "RegisteredCustomersSearch_"]').forEach(function(o){var n=dijit.byId(o.id);var m=n.value;if(m!=""){k=true}})}if(!k){MessageHelper.formErrorHandleClient(this.searchListData.searchButtonId,storeNLS.CSR_NO_SEARCH_CRITERIA);return false}var j=wc.render.getContextById("registeredCustomersSearchResultsContext");j.properties.searchInitializedForCustomers="true";setCurrentId(this.searchListData.progressBarId);if(!submitRequest()){return}cursor_wait();var l={};wc.render.getRefreshControllerById("registeredCustomersController").formId=this.searchListData.formId;wc.render.updateContext("registeredCustomersSearchResultsContext",l)};this.toggleMemberSummarySection=function(j){this.showHide("memberDetailsExpandedContent_"+j,"collapsed","expanded");this.changeDropDownArrow("dropDownArrow_"+j,"expanded");return true};this.handleActionDropDown=function(l,k,j){this.cancelEvent(l);this.toggleSelection("actionDropdown","actionDropdown_"+k,j,"active");this.toggleCSSClass("actionButton","actionButton7_"+k,j,"actionDropdownAnchorHide","actionDropdownAnchorDisplay");return false};this.showHide=function(l,k,j){h("#"+l).toggleClass(k);h("#"+l).toggleClass(j)};this.changeDropDownArrow=function(k,j){h("#"+k).toggleClass(j)};this.clearSearchResults=function(){if(dojo.byId("registeredCustomersList_table")!=null){dojo.style("registeredCustomersList_table","display","none")}};this.toggleSelection=function(l,m,k,j){var n=h("."+j,k);h("#"+m,k).toggleClass(j);n.removeClass(j)};this.resetPasswordByAdminOnBehalfForBuyers=function(j){wc.service.invoke("AjaxRESTMemberPasswordResetByAdminOnBehalfForBuyer",{logonId:j,URL:"test"})};this.resetPasswordByAdminOnBehalf=function(l){var k=wc.render.getContextById("registeredCustomersSearchResultsContext");if(this.csrPasswordEnabled){var m=dojo.byId(this.csrResetPasswordIds.administratorPasswordId).value;if(m==null||m==""){var j=storeNLS.CSR_PASSWORD_EMPTY_MESSAGE;this.onResetPasswordByAdminError(j);return false}wc.service.invoke("AjaxRESTMemberPasswordResetByAdminOnBehalf",{administratorPassword:m,logonId:l,URL:"test"})}else{wc.service.invoke("AjaxRESTMemberPasswordResetByAdminOnBehalf",{logonId:l,URL:"test"})}};this.resetPasswordByAdmin=function(j,k){wc.service.invoke("AjaxRESTMemberPasswordResetByAdmin",{administratorPassword:k,logonId:j,URL:"test"})};this.handleCSRPasswordReset=function(j){this.cancelEvent(j);if(this.csrPasswordEnabled){dojo.byId(this.csrResetPasswordIds.administratorPasswordId).value=""}h("#"+this.csrResetPasswordIds.resetPasswordButtonId,this.csrResetPasswordIds.parentNodeId).toggleClass("clicked");h("#"+this.csrResetPasswordIds.resetPasswordDropDownPanelId,this.csrResetPasswordIds.parentNodeId).toggleClass("active");h("#"+this.csrResetPasswordIds.errorDivId,this.csrResetPasswordIds.parentNodeId).addClass("hidden");return false};this.hideErrorDiv=function(){h("#"+this.csrResetPasswordIds.errorDivId,this.csrResetPasswordIds.parentNodeId).addClass("hidden")};this.onResetPasswordByAdminError=function(j,k){dojo.byId(this.csrResetPasswordIds.errorMessageId).innerHTML=j;h("#"+this.csrResetPasswordIds.errorDivId,this.csrResetPasswordIds.parentNodeId).removeClass("hidden");dojo.byId(this.csrResetPasswordIds.errorMessageId).focus()};this.onResetPasswordByAdminSuccess=function(){h("#"+this.csrResetPasswordIds.resetPasswordButtonId,this.csrResetPasswordIds.parentNodeId).toggleClass("clicked");h("#"+this.csrResetPasswordIds.resetPasswordDropDownPanelId,this.csrResetPasswordIds.parentNodeId).toggleClass("active");return false};this.handleErrorScenario=function(){var j=dojo.byId("errorMessage");var l=dojo.byId("errorMessage_section");if(j!=null){var k=j.value;if(k!=null&&k.length!=""&&l!=null){e.set(l,"display","block");c.set(l,k)}}else{e.set(l,"display","none")}};this.cancelEvent=function(j){if(j.stopPropagation){j.stopPropagation()}if(j.preventDefault){j.preventDefault()}j.cancelBubble=true;j.cancel=true;j.returnValue=false};this.closeActionButtons=function(n,k,j,m,l){h("."+n,k).removeClass(j)};this.resetActionButtonStyle=function(m,j,l,k){h("."+m,j).addClass(l);h("."+m,j).removeClass(k)};this.toggleCSSClass=function(m,n,j,l,k){var o=h("."+k,j);h("#"+n,j).toggleClass(l);h("#"+n,j).toggleClass(k);o.removeClass(k);o.addClass(l)};this.createGuestUser=function(k){var j=wc.render.getContextById("registeredCustomersSearchResultsContext");if((k==null||k=="")&&!stringStartsWith(document.location.href,"https")){j.properties.landingURL=""}else{k=WCParamJS.homePageURL;j.properties.landingURL=k}var l=[];wc.service.invoke("AjaxRESTCreateGuestUser",l)};this.createRegisteredUser=function(k){if(k!=null){var j=wc.render.getContextById("registeredCustomersSearchResultsContext");j.properties.landingURL=k}var m=[];var l=dojo.byId("Register");if(l.guestUserId!=null&&l.guestUserId.value!=null){m.userId=l.guestUserId.value}dojo.destroy(l.errorViewName);wc.service.invoke("AjaxRESTUserRegistrationAdminAdd",m)};this.setUserInSession=function(l,k,m){var j=wc.render.getContextById("registeredCustomersSearchResultsContext");if(k!=""&&k!=null){j.properties.selectedUser=escapeXml(k,true)}if(m!=""&&m!=null){j.properties.landingURL=m}j.properties.WC_OnBehalf_Role_="CSR";var n=[];n.runAsUserId=l;n.storeId=WCParamJS.storeId;wc.service.invoke("AjaxRunAsUserSetInSession",n)};this.onUserSetInSession=function(){var k=wc.render.getContextById("registeredCustomersSearchResultsContext");var j=k.properties.selectedUser;if(j!=""&&j!=null){setCookie("WC_BuyOnBehalf_"+WCParamJS.storeId,escapeXml(j,true),{path:"/",domain:cookieDomain})}var l=k.properties.WC_OnBehalf_Role_;if(l!=""&&l!=null){setCookie("WC_OnBehalf_Role_"+WCParamJS.storeId,l,{path:"/",domain:cookieDomain})}};this.enableDisableUserAccount=function(m,k){var l=wc.render.getContextById("UserRegistrationAdminUpdateStatusContext");l.properties.userId=m;var j=l.properties[m+"_updatedStatus"];if(j!=null){if(j=="0"){k="1"}else{k="0"}}l.properties[m+"_userStatus"]=k;wc.service.invoke("AjaxRESTUserRegistrationAdminUpdateStatus",{userId:m,userStatus:k})};this.onEnableDisableUserStatusAccount=function(j){var k=storeNLS.CUSTOMER_ACCOUNT_ENABLE_SUCCESS;if(j.userStatus=="0"){k=storeNLS.CUSTOMER_ACCOUNT_DISABLE_SUCCESS}MessageHelper.displayStatusMessage(k);onBehalfUtilitiesJS.updateUIAndRenderContext(j,"UserRegistrationAdminUpdateStatusContext")}}});dojo.addOnLoad(function(){registeredCustomersJS=new RegisteredCustomers();registeredCustomersJS.setUpEvents()});wc.render.declareContext("registeredCustomersSearchResultsContext",{searchInitializedForCustomers:"false",isPaginatedResults:"false"},"");wc.render.declareRefreshController({id:"registeredCustomersController",renderContext:wc.render.getContextById("registeredCustomersSearchResultsContext"),url:"",baseURL:getAbsoluteURL()+"RegisteredCustomersListView",formId:"",modelChangedHandler:function(a,b){console.debug("modelChangedHandler of registeredCustomersController",b)},renderContextChangedHandler:function(c,d){var a=this;a.url=a.baseURL+"?"+getCommonParametersQueryString();var b=this.renderContext;d.setInnerHTML("");console.debug(b.properties);d.refresh(b.properties)},postRefreshHandler:function(a){registeredCustomersJS.handleErrorScenario();console.debug("Post refresh handler of registeredCustomersController",a);cursor_clear()}});wc.render.declareContext("UserRegistrationAdminUpdateStatusContext",{},"");wc.service.declare({id:"AjaxRESTUserRegistrationAdminUpdateStatus",actionId:"AjaxRESTUserRegistrationAdminUpdateStatus",url:getAbsoluteURL()+"AjaxRESTUserRegistrationAdminUpdate",formId:"",successHandler:function(a){registeredCustomersJS.onEnableDisableUserStatusAccount(a);cursor_clear()},failureHandler:function(a){if(a.errorMessage){MessageHelper.displayErrorMessage(a.errorMessage)}else{if(a.errorMessageKey){MessageHelper.displayErrorMessage(a.errorMessageKey)}}}});wc.service.declare({id:"AjaxRunAsUserSetInSession",actionId:"AjaxRunAsUserSetInSession",url:getAbsoluteURL()+"AjaxRunAsUserSetInSession",formId:"",successHandler:function(a){if(typeof callCenterIntegrationJS!="undefined"&&callCenterIntegrationJS!=undefined&&callCenterIntegrationJS!=null){var c={};c.status="success";c.serviceResponse=a;callCenterIntegrationJS.postActionMessage(c,"START_ON_BEHALF_SESSION_RESPONSE")}MessageHelper.hideAndClearMessage();MessageHelper.displayStatusMessage(storeNLS.CSR_SUCCESS_CUSTOMER_ACCOUNT_ACCESS);registeredCustomersJS.onUserSetInSession();setDeleteCartCookie();var b=wc.render.getContextById("registeredCustomersSearchResultsContext").properties.landingURL;if(b!="-1"){window.location.href=b}},failureHandler:function(a){if(typeof callCenterIntegrationJS!="undefined"&&callCenterIntegrationJS!=undefined&&callCenterIntegrationJS!=null){var b={};b.status="error";b.serviceResponse=a;callCenterIntegrationJS.postActionMessage(b,"START_ON_BEHALF_SESSION_RESPONSE")}if(a.errorMessage){MessageHelper.displayErrorMessage(a.errorMessage)}else{if(a.errorMessageKey){MessageHelper.displayErrorMessage(a.errorMessageKey)}}cursor_clear()}});wc.service.declare({id:"AjaxRESTCreateGuestUser",actionId:"AjaxRESTCreateGuestUser",url:getAbsoluteURL()+"AjaxRESTCreateGuestUser",formId:"",successHandler:function(a){MessageHelper.hideAndClearMessage();MessageHelper.displayStatusMessage(storeNLS.CSR_SUCCESS_NEW_GUEST_USER_CREATION);var b=storeNLS.GUEST;registeredCustomersJS.setUserInSession(a.userId,b)},failureHandler:function(a){if(a.errorMessage){MessageHelper.displayErrorMessage(a.errorMessage)}else{if(a.errorMessageKey){MessageHelper.displayErrorMessage(a.errorMessageKey)}}cursor_clear()}});wc.render.declareContext("UserRegistrationAdminAddContext",{administratorPassword:"",userId:""},"");wc.service.declare({id:"AjaxRESTUserRegistrationAdminAdd",actionId:"AjaxRESTUserRegistrationAdminAdd",url:getAbsoluteURL()+"AjaxRESTUserRegistrationAdminAdd",formId:"Register",successHandler:function(a){MessageHelper.hideAndClearMessage();MessageHelper.displayStatusMessage(storeNLS.CSR_SUCCESS_NEW_REGISTERED_USER_CREATION);registeredCustomersJS.setUserInSession(a.userId,a.firstName+" "+a.lastName);cursor_clear()},failureHandler:function(a){if(a.errorMessage){MessageHelper.displayErrorMessage(a.errorMessage)}else{if(a.errorMessageKey){MessageHelper.displayErrorMessage(a.errorMessageKey)}}cursor_clear()}});