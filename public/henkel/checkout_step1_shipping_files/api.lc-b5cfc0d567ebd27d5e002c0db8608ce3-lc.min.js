"use strict";(self.heliuxModules=self.heliuxModules||[]).push([[7694],{48498:(t,e,r)=>{r.d(e,{_:()=>h});var s=r(54705),n=r(16045);class i extends n.${constructor(t,e,r,s,n={},i){if(super(t,e,r,s,n,i),this.__isConfigString(t)||!t.retryOn)throw new Error("FetchRestRetry needs at least the callback retryOn config");this.retryOn=t.retryOn}async __fetch(t,e,r=0){const s=await fetch(t,e);return r<5&&await this.retryOn(s,r)?this.__fetch(t,e,r+1):s}}function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){(0,s.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}class h extends i{constructor(t,e,r,s,n={},i){super(a(a({},t),{},{retryOn:async(t,e)=>{if(0===e&&401===t.status)try{const e=await t.json();return t.json=()=>e,await window.heliuxGigyaService.refreshLongLivedToken(),!0}catch(t){}return!1}}),e,r,s,n,i)}}},67030:(t,e,r)=>{r.d(e,{W:()=>o});var s=r(54705);function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){(0,s.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}class o{static postQuery(t,e={},r,s=null,n={}){return o.__handleRequest(t,e,r,s,n)}static getQuery(t,e={},r=null,s={}){return o.__handleRequest(t,e,r,i({method:"GET"},s))}static __getRequestOptions(t={},e,r=null,s={},n){const{method:o="POST"}=s,a=i(i({operationName:n},e&&{query:e}),r&&{variables:r}),h={headers:t};return i(i(i({method:o},"POST"===o&&{body:JSON.stringify(a)}),h),s)}static async __handleRequest(t,e,r="",s={},n={}){const i=o.__getRequestOptions(e,r,s,n);let a,h,c;try{a=await fetch(t,i)}catch(t){throw new Error(t)}if(!a.ok)try{h=await a.json()}catch(t){throw new Error(t)}if(h){const t=(h.errors||[h])[0]||{},{extensions:e={}}=t;throw new Error(`${e.code}:  ${t.message}`)}try{c=await a.json()}catch(t){throw new Error(t)}return c}static __validateUrl(t){const e="/"===t[0]?`https://domain${t}`:t;try{new URL(e)}catch(e){throw new Error(`InvalidParameter: Invalid URL: ${t}`)}}}},16045:(t,e,r)=>{r.d(e,{$:()=>c});var s=r(54705),n=r(31080),i=r(12595),o=r(79516);function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){(0,s.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}class c extends o.E{constructor(t,e,r={name:null,cacheTime:null},s={},n){super(t,e,s,n);const i=this.__isConfigString(),o=i?r.name:t.storeName,a=i?r.cacheTime:t.cacheTime;if(this.storeName=o,this.cacheTime=a||0,this.storeStates=this.__setStoreStates(),this.store={},this.storeName){const t=this.__getInitialStore();this.__initStore(t),!this.auth&&this.store.auth&&this.store.auth.root&&this.store.auth.root.token&&(this.auth=this.__getAuth(h({},this.store.auth.root)))}}__setStoreStates(){return{initState:"init",inProgressState:"inProgress",finishedState:"finished"}}async request(t,e={},r,s={},n,i={}){this.__validateMapperWithId(n,i);const o=this.__getStoreOptionsWithDefaults(i,null==s?void 0:s.method),a=this.__endpointStoreName(t,e,r);return this.__hasCache(o)?this.__handleGetWithStore(t,e,r,s,super.request,n,h(h({},o),{},{endpointStoreName:a})):super.request(t,e,r,s,n)}async get(t,e={},r={},s,n){return this.request(t,e,null,r,s,n)}async post(t,e={},r,s={},n,i){return this.request(t,e,r,h(h({},s),{},{method:"POST"}),n,i)}async put(t,e={},r,s={},n,i){return this.request(t,e,r,h(h({},s),{},{method:"PUT"}),n,i)}async patch(t,e={},r,s={},n,i){return this.request(t,e,r,h(h({},s),{},{method:"PATCH"}),n,i)}async delete(t,e={},r={},s,n){return this.request(t,e,null,h(h({},r),{},{method:"DELETE"}),s,n)}__validateMapperWithId(t,e){const r=this.__hasMapper(t),s=this.__hasCache(e),{responseMapperId:n}=e;if(s&&r&&!n)throw new Error("To cache mapped data the `storeOptions.responseMapperId` param is required")}async __handleGetWithStore(t,e,r,s,n,i,o={}){const a=this.__getStoreOptionsWithDefaults(o,s.method),h=this.__hasCache(o),{endpointStoreName:c}=a;if(h&&!this.store[c]&&this.__setStore(c,{}),!a.skipCache){const o=this.__getDataFromStore(c,i,a);if(o)return setTimeout((()=>{this.__getDataFromStore(c,i,a)&&this.__handleStoreGet(t,e,r,s,n,i,a)}),1e3*a.cacheTime),o}return this.__handleStoreGet(t,e,r,s,n,i,a)}async __handleStoreGet(t,e,r,s,n,i,o={}){const{inProgressState:a,finishedState:h}=this.storeStates,c=this.__hasCache(o),{endpointStoreName:u}=o;if(c&&this.store[u]&&this.store[u].status===a)return new Promise((t=>{this.store[u].subscribe((e=>{if(e.value===h){const e=this.__getDataFromStore(u,i,o);t(e)}}),"status",!0)}));let _;const p=this.__hasMapper(i);this.__setStatus(u,a,o);try{_=await n.call(this,t,e,r,s)}catch(t){throw this.__saveResponse(u,null,null,o),this.__setStatus(u,h,o),t}let l;try{l=p?i(_):null}catch(t){throw this.__saveResponse(u,_,null,o),this.__setStatus(u,h,o),t}return this.__saveResponse(u,_,l,o),this.__setStatus(u,h,o),p?l:_}__hasMapper(t){return"function"==typeof t}__cacheExpired(t){return t<Math.floor((new Date).getTime()/1e3)}__getDataFromStore(t,e,r={}){const s=this.__hasCache(r),n=this.__hasMapper(e),i=this.store[t],o=this.__mappedDataStoreKey(r);if(!i||!i.expiresOn||!s)return null;if(this.__cacheExpired(i.expiresOn))return null;if(i.rawData&&n){if(!i[o]){const t=e(i.rawData);return i[o]=t,t}return i[o]}return i.rawData||i[o]}__saveResponse(t,e,r,s={}){if(this.__hasCache(s)){const{cacheTime:n}=s,i=Math.floor((new Date).getTime()/1e3),o=n?i+n:0,a=this.__mappedDataStoreKey(s);this.__setStore(t,h(h({rawData:e},r&&{[a]:r}),{},{expiresOn:o}),{reset:!0})}}__mappedDataStoreKey(t={}){const{responseMapperId:e}=t;return`mappedData-${e}`}__setStatus(t,e,r={}){this.__hasCache(r)&&(this.store[t].status=e)}__getStoreOptionsWithDefaults(t={},e){const r=!e||"GET"===e,{cacheTime:s}=t,n=r?this.cacheTime:0,i="number"==typeof s?s:n;return h(h({},t),{},{cacheTime:i})}__hasCache(t={}){const e=this.__getStoreOptionsWithDefaults(t);return!!e&&this.storeName&&"number"==typeof e.cacheTime&&e.cacheTime>0}__getInitialStore(){const t=h({},localStorage),e={};return Object.keys(t).forEach((t=>{const r=t.split(this.__getStorePrefix());t.includes(this.storeName)&&r[1]&&(e[r[1]]={})})),e}__initStore(t={},e=!1){Object.keys(t).forEach((t=>{this.__setStore(t,{},{clean:e}),this.__checkAndClearStoreStatus(t)}))}__checkAndClearStoreStatus(t){const{inProgressState:e,initState:r}=this.storeStates;this.store[t].status===e&&(this.store[t].status=r)}__setStore(t,e={},r={clean:!1,reset:!1}){const s=this.__getStoreName(t);r.clean&&((0,n.bC)(s),this.store[t]=(0,n.KA)(s,e)),r.reset&&((0,n.zp)(s),Object.keys(e).forEach((r=>{this.store[t][r]=e[r]}))),this.store[t]=(0,n.KA)(s,e)}__getStoreName(t){return`${this.__getStorePrefix()}${t}`}__getStorePrefix(){return`${this.storeName}.`}getStoreName(t,e={},r){return this.__endpointStoreName(t,e,r)}__endpointStoreName(t,e,r){const s=(0,i.$N)({},e,r);return this.__getEndpointWithParams(t,s)}getStore(t,e={},r){if(!t)return h({},this.store);const s=this.__endpointStoreName(t,e,r);return this.store[s]||{}}updateStore(t,e={},r,s={}){this.__updateStore(t,e,r,s,!0)}setStore(t,e={},r,s={},n){this.__updateStore(t,e,r,s,h({merge:!1},n))}deleteStore(t,e={},r){const s=this.__endpointStoreName(t,e,r);delete this.store[s],(0,n.bC)(s)}listenStore(t,e,r){e&&this.store[e]?this.store[e].subscribe((e=>{t(e)}),r):t({})}__updateStore(t,e={},r,s={},n){const o=h({merge:!0},n),a=this.__endpointStoreName(t,e,r);if(!t||!this.store[a])return null;const c=o.isDataMapped?this.__mappedDataStoreKey(n):"raw";return o.merge?this.store[a][c]=(0,i.$N)({},this.store[a][c],s):this.store[a][c]=s,this.store[a][c]}}},79516:(t,e,r)=>{r.d(e,{E:()=>u});var s=r(54705),n=r(12595),i=r(58480),o=r(37252),a=r(71246);function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach((function(e){(0,s.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}class u{constructor(t,e,r={},s){const n=this.__isConfigString(t),i=n?t:t.serviceURL,o=n?e:t.auth;this.headers=!n&&t.headers?t.headers:{};const a=n?r:t.getParams,h=n?s:t.errorFormatter;this.errorTypes=this.__setErrorTypes(),n||(this.config=t),this.serviceURL=this.__getCleanUrl(i),this.auth=this.__getAuth(o),this.getParams=a||{},this.errorFormatter=h}get name(){return"FetchRestBase"}get logger(){return new o.V(this.name)}__isConfigString(t){return t&&"string"==typeof t}__setErrorTypes(){return{requiredParamErrorType:"RequiredParamError",requestErrorType:"RequestError",responseErrorType:"ResponseError",apiErrorType:"APIError",responseDataErrorType:"ResponseDataError",sdkErrorType:"SDKError"}}async __validateToken(t={}){let e=this.auth instanceof Promise?await this.auth:this.auth;if(e&&e.token&&(this.auth=e),t.token&&"undefined"!==t.token&&this.auth&&t.token===this.auth)this.logger.log("__validateToken: New Token is equal as existing one. Aborting ...");else{if(t.token&&!this.auth)return this.logger.log("__validateToken: Saving new token to Fetch auth"),void(this.auth=this.__getAuth(t.token));if(e=this.auth instanceof Promise?await this.auth:this.auth,e&&e.token&&(this.auth=e),!t.token&&!this.auth){this.logger.log("__validateToken: Empty new token, empty Fetch auth. Getting new token ...");const t=await this.__getToken();t&&(this.auth=this.__getAuth(t))}}}async __getToken(t){return this.logger.log("__getToken default"),t}async request(t,e={},r,s={},n){const i=(s.method||"GET").toUpperCase(),o=this.__getBody(r),a=this.__getEndpointWithParams(t,e);await this.__validateToken(s);const h=this.__getRequestOptions(o,c({method:i},s));return this.__handleFetch(this.serviceURL,a,h,n)}async get(t,e={},r={},s){return this.request(t,e,null,r,s)}async post(t,e={},r,s={},n){return this.request(t,e,r,c(c({},s),{},{method:"POST"}),n)}async put(t,e={},r,s={},n){return this.request(t,e,r,c(c({},s),{},{method:"PUT"}),n)}async patch(t,e={},r,s={},n){return this.request(t,e,r,c(c({},s),{},{method:"PATCH"}),n)}async delete(t,e={},r={},s){return this.request(t,e,null,c(c({},r),{},{method:"DELETE"}),s)}__getBody(t){return t instanceof FormData?t:t?JSON.stringify(t):null}__getEndpointWithParams(t,e){const r=t.split("?"),s=r[0]||"",n=r[1],i=this.mergeSearchParams(this.getParams,e,n);return`${s}${i&&i.length>0?"?":""}${i}`}mergeSearchParams(t,e,r){const s=[t,e].filter((t=>null!=t&&Object.keys(t).length>0)).map((t=>(0,i.objToQueryParams)(t))).join("&"),n=r?`${s}&${r}`:s;return this.normalizeSearchString(n)}normalizeSearchString(t){const e=t.split("&").map((t=>t.split("="))).map((t=>[decodeURIComponent(t[0]),t[1]?decodeURIComponent(t[1]).split(","):[]])),r={};return e.forEach((t=>{r[t[0]]?r[t[0]]=r[t[0]].concat(t[1]):r[t[0]]=t[1]})),[...Object.keys(r).flatMap((t=>[...new Set(r[t])].map((e=>`${encodeURIComponent(t)}=${encodeURIComponent(e)}`)))),...Object.keys(r).filter((t=>0===r[t].length)).map((t=>encodeURIComponent(t)))].sort().join("&")}__getAuth(t,e="Bearer"){return t?"object"==typeof t?t:{type:e,token:t}:null}__getAuthHeader({type:t="Bearer",token:e}){return{Authorization:`${t} ${e}`}}__getRequestOptions(t,e){const{method:r="POST"}=e,{headers:s}=this,i={headers:s};t instanceof FormData||(i.headers=c(c({},i.headers),{},{"Content-Type":"application/json"}));const o=this.__getAuthOptions(i,e);return c(c({method:r},t&&{body:t}),(0,n.$N)({},i,o,e))}__getAuthOptions(t,e){const r={},{token:s,credentials:n}=e,i=s?{token:s}:this.auth;return i&&(r.headers=c(c({},t.headers),this.__getAuthHeader(i)),r.credentials=n||"include"),r}async __handleFetch(t,e,r,s){const n=this.__getCleanEndpoint(e),i=this.__getUrl(t,n);let o,h;this.__validateUrl(i);const{requestErrorType:c,responseErrorType:u,apiErrorType:_,responseDataErrorType:p}=this.errorTypes;try{o=await this.__fetch(i,r)}catch(t){h=(0,a.IM)(t,c,"")}let l,d;if(!h&&!o.ok)try{l=await o.json()}catch(t){if(r.returnResponse)return{body:l,ok:o.ok,status:o.status};h=(0,a.IM)(t,u,o.status)}if(!h&&l){if(r.returnResponse)return{body:l,ok:o.ok,status:o.status};h=(0,a.IM)(l,_,o.status,this.errorFormatter)}if(!h)try{const t=r.readResponseMethod||"json";d=await o[t]()}catch(t){if(r.returnResponse)return o;if(r.noDataReturned)return null;h=(0,a.IM)(t,p,o.status)}if(h)throw h;return"function"==typeof s?s(d):d}async __fetch(t,e){return fetch(t,e)}__getUrl(t,e){return`${t}${e}`}__getCleanEndpoint(t){return this.serviceURL&&"/"!==t[0]&&"?"!==t[0]&&t?`/${t}`:t}__getCleanUrl(t){return t?"/"===t[t.length-1]?t.slice(0,-1):t:""}__validateUrl(t){const e="/"===t[0]?`https://domain${t}`:t,{sdkErrorType:r}=this.errorTypes;try{new URL(e)}catch(e){throw new a.JP("InvalidParameter",r,"",`Invalid URL/path: ${t}`)}}}},76883:(t,e,r)=>{r.d(e,{c:()=>a,d:()=>o});var s=r(88760),n=r(16045);class i{constructor(t={}){this.NS=t,this.isValid()?(this.fetchApi=new n.$({store:{storeName:"i18n",cacheTime:3e3}}),this.NS.isInit=!0,this.__setTranslations()):this.NS.isActive=!1}isValid(){return this.NS&&this.NS.endpoint}async __setTranslations(){this.NS.isReady=!1;try{const t=await this.fetchApi.get(this.NS.endpoint);this.NS.status="ok",this.NS.items=t||{}}catch(t){this.NS.status="api error",this.NS.apiError=t,this.NS.items={}}this.NS.isReady=!0}async __getTranslations(){if(!this.isValid())return{};if(void 0===this.NS.isReady&&await this.__setTranslations(),!1===this.NS.isReady)try{await(0,s.x5)(this.NS,"isReady",!0,1e3)}catch(t){}return this.NS.items}async __getTranslationItem(t){return(await this.__getTranslations()||{})[t]||{t,missing:!0}}async __getTranslationByType(t,e){if(!this.isValid())return t;const r=await this.__getTranslationItem(t);return r.type!==e?t:r.t||r._||t}public(){if(!this.isValid())return{label:t=>t,text:t=>t,image:t=>t,item:t=>t,items:[]};const t=this.__getTranslationByType.bind(this),e=this.__getTranslationItem.bind(this),r=this.__getTranslations.bind(this);return{label:async e=>t(e,"label"),text:async e=>t(e,"text"),image:async e=>t(e,"image"),item:async t=>e(t),items:async()=>r()}}}if(window.i18n=window.i18n||{},!window.i18n.fetch){const t=new i(window.i18n);window.i18n.fetch=t.public()}const o=window.i18n.fetch,a=t=>new i({endpoint:t}).public()},71246:(t,e,r)=>{r.d(e,{IM:()=>n,JP:()=>s});class s extends Error{constructor(t="",e="",r="",n="",i="",o,a="",h=!0){super(n);const c=!1!==o?Error.captureStackTrace:()=>{};c&&c instanceof Function&&c(this,s),h&&(this.stack=null),this.name=t||this.constructor.name,this.message=n||this.constructor.message,this.type=e||this.constructor.type,this.code=r||this.constructor.code,this.details=i||this.constructor.details,this.statusCode=a||this.constructor.statusCode}toJSON(){return{name:this.name,type:this.type,code:this.code,message:this.message,details:this.details,stacktrace:this.stack,statusCode:this.statusCode}}}const n=(t,e,r="",n=(t=>t),i)=>{const o=n(t),{name:a,type:h,message:c,details:u,code:_,captureStackTrace:p}=o,l=_||r,d=((t,e)=>{if(!t.code||!e)return t.message;const r=t.code.toString();return e[r]||e[`${r[0]}xx`]||t.message})({code:_,message:c},i);return new s(a,h||e,l,d,u,p,r)}},36606:(t,e,r)=>{r.d(e,{R:()=>n});var s=r(37252);const n=(t,e)=>{const r=Object.entries(t)[0],n=r[0],i=r[1],o=new s.V("UTIL.initAPI");return n&&i?(window.raqnAPI=window.raqnAPI||{},window.raqnAPI[n]?(o.info("API already initialized.",n,window.raqnAPI[n].config),window.raqnAPI[n]):(o.info("Initializing API ...",n),window.raqnAPI[n]=new i(e),o.info("API saved",window.raqnAPI[n]),window.raqnAPI[n])):(o.info("Get API Error. API class not valid."),null)}}}]);