"use strict";(self.heliuxModules=self.heliuxModules||[]).push([[6468],{19636:(e,s,i)=>{var t=i(54705),o=i(58480),n=i(99834),l=i(45817),d=i(84297);function c(e,s){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);s&&(t=t.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),i.push.apply(i,t)}return i}function r(e){for(var s=1;s<arguments.length;s++){var i=null!=arguments[s]?arguments[s]:{};s%2?c(Object(i),!0).forEach((function(s){(0,t.A)(e,s,i[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(i,s))}))}return e}class h extends o.ComponentBase{init(){this.config=r(r({},d.I),this.config),this.getElements(),this.focuseProperElementsInsideModal(),this.bindFunctionsForListeners(),this.listeners()}focuseProperElementsInsideModal(){this.closeBtn&&setTimeout((()=>{this.closeBtn.focus()}),400),(0,l.i)(this.el),(0,n.J)(this.el)}bindFunctionsForListeners(){this.onClickBinded=this.onClick.bind(this),this.onKeyDownBinded=this.onKeyDown.bind(this),this.closeModalOnCloseEventBinded=this.closeModalOnCloseEvent.bind(this),this.defineDelayedCloseFlowBinded=this.defineDelayedCloseFlow.bind(this),this.closeModalBinded=this.closeModal.bind(this)}listeners(){const{subscribes:e}=this.config;this.el.addEventListener("click",this.onClickBinded),document.addEventListener("keydown",this.onKeyDownBinded),(0,o.subscribe)(e.close,this.closeModalOnCloseEventBinded),(0,o.subscribe)(e.delayedClose,this.defineDelayedCloseFlowBinded),(0,o.subscribe)(e.closeById(this.el.id),this.closeModal.bind(this))}onKeyDown(e){const{publishes:s}=this.config;"Escape"===e.code&&(e.uuid=this.el.id,document.removeEventListener("keydown",this.onKeyDown.bind(this)),(0,o.publish)(s.close,e))}onClick(e){const{publishes:s}=this.config;e.target!==this.overlay&&e.target!==this.closeBtn||(this.el.classList.add(this.config.classes.modalClosing),e.uuid=this.el.id,setTimeout((()=>(0,o.publish)(s.close,e)),200))}defineDelayedCloseFlow(e){this.delay=!!e}closeModalOnCloseEvent(e){this.delay||(e&&(e.preventDefault(),e.stopPropagation()),this.closeModal(),this.destroy())}closeModal(){document.body.classList.remove(this.config.modifiers.noScroll);const e=this.el.parentNode;e&&(e.removeChild(this.el),e.classList.contains("modal")&&e.remove()),document.body.classList.remove(this.config.classes.overflowHidden)}focusCtaConnectedToModal(){const e=`btn__${this.el.getAttribute("id")}`,s=document.getElementById(e);s&&s.focus()}unsubscribeListeners(){const{subscribes:e}=this.config;this.el.removeEventListener("click",this.onClickBinded),document.removeEventListener("keydown",this.onKeyDownBinded),(0,o.unsubscribe)(e.close,this.closeModalOnCloseEventBinded),(0,o.unsubscribe)(e.delayedClose,this.defineDelayedCloseFlowBinded),(0,o.unsubscribe)(e.closeById(this.el.id),this.closeModalBinded)}destroy(){const{publishes:e}=this.config;this.focusCtaConnectedToModal(),this.unsubscribeListeners(),(0,o.publish)(e.closed(this.el.id))}}(0,o.register)({Modal:h},0)}},e=>{e.O(0,[750],(()=>(19636,e(e.s=19636)))),e.O()}]);