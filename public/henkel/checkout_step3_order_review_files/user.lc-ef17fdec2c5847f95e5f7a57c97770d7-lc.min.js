"use strict";(self.heliuxModules=self.heliuxModules||[]).push([[5117],{70228:(e,t,r)=>{r.d(t,{q:()=>f});var s=r(54705),n=r(11896),o=r(36606),i=r(58480),c=r(30082),a=r(71246),u=r(75854),l=r(15852);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,s.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class g extends n.f{constructor(e){super(p(p({},(0,l.m)(e)),e))}get name(){return"UserFetchApi"}_captchaHeader(e){if(!this.config.captchaConfig)return{};const{fieldName:t,headerName:r}=this.config.captchaConfig;if(e[t]){const s={[r]:e[t]};return delete e[t],s}return{}}_headers(e){const{headers:t}=this.config;return p(p({},this._captchaHeader(e)),t)}async getUserData(){return this.get("/ReadUser",{},{},u.IJ,{responseMapperId:"readUser"})}async getUserCompanyId(){const e=await this.getUserData();return(0,u.Bp)(e)}async getCompanies(){return this.get("/identity/users/companies",{},{})}async getCompaniesAddresses(){return this.get("/identity/companies/addresses",{},{})}async deleteUser(){return this.delete("/api/users",{},{noDataReturned:!0}).then((()=>{const e=()=>{window.location=this.config.accountDeletionRedirectUrl};(0,i.unsubscribe)(this.config.subscribes.userLoggedOut,e),(0,i.subscribe)(this.config.subscribes.userLoggedOut,e),(0,i.publish)(this.config.publishes.logout,{skipRedirect:!0}),this.showMessage("user.account_deleted_successful-title","user.account_deleted_successful-description")})).catch((()=>{this.showMessage("user.account_deleted_error-title","user.account_deleted_error-description","error")}))}async registerUser(e){const{clientId:t,redirectUrl:r}=this.config;try{const s=await this.post("/identity/b2c/users/register",{clientId:t,redirectUrl:r},e,{noDataReturned:!0,headers:this._headers(e)});return(0,i.publish)(this.config.publishes.register,e),s}catch(e){throw(0,a.IM)(e,e.type,e.code,(e=>e),this.config.errorMessages)}}async updateUserData(e){const{clientId:t}=this.config;try{return await this.patch("/identity/users",{client_Id:t},e,{noDataReturned:!0,headers:this._headers(e)})}catch(e){throw(0,a.IM)(e,e.type,e.code,(e=>e),this.config.errorMessages)}}async changePassword(e){try{return await this.put("/api/ChangePassword",{},e,{noDataReturned:!0,headers:this._headers(e),credentials:"same-origin"})}catch(e){throw(0,a.IM)(e,e.type,e.code,(e=>e),this.config.errorMessages)}}async resendVerificationEmail(e){const{clientId:t,redirectUrl:r}=this.config;try{return await this.post("/identity/verification-email",{client_id:t},{email:e,redirectUrl:r},{noDataReturned:!0})}catch(e){throw this.showMessage("user.account_resend_verification_email-title","user.account_resend_verification_email-description","error"),(0,a.IM)(e,e.type,e.code,(e=>e),this.config.errorMessages)}}showMessage(e,t,r="info",s=!0){(0,c.rG)({autoHide:s,type:r,title:e,description:t})}}const f=e=>(0,o.R)({UserFetchApi:g},e)},7684:(e,t,r)=>{r.d(t,{c:()=>l});var s=r(54705),n=r(11896),o=r(36606),i=r(15852);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,s.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class u extends n.f{constructor(e){super(a(a({},(0,i.s)(e)),e))}get name(){return"UserFetchApiV2"}async getUserData(){return this.get("/users/me?$expand=groups",{},{})}}const l=e=>(0,o.R)({UserFetchApiV2:u},e)},15852:(e,t,r)=>{r.d(t,{m:()=>c,s:()=>a});var s=r(54705),n=r(87587);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,s.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const c=(e={})=>({serviceURL:e.userApiUrl,clientId:e.clientId,redirectUrl:e.registerRedirectUrl,headers:i({"Ocp-Apim-Subscription-Key":e.subscriptionKey},e.extraHeaders),storeName:n.EF,cacheTime:10,errorFormatter:(e={})=>({name:e.status,message:e.title||e.message,details:e.source?e.source.info:e}),publishes:{logout:"ciam::logout::start",register:"ciam:register:success"},subscribes:{userLoggedOut:"ciam:user:loggedout"}}),a=(e={})=>i(i({},c(e)),{},{serviceURL:e.userApiV2Url})},75854:(e,t,r)=>{r.d(t,{Bp:()=>l,Hi:()=>d,IJ:()=>u});var s=r(54705),n=r(92220);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,s.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const c=(e={})=>{const t=(0,n.h)("applicationUserRelation.purposes",e);if(!t||!t.length)return"";const r=t[0].transactionDate,s=t.findIndex((e=>e.transactionDate!==r)),o=s>0?s:t.length;return t.filter(((e,t)=>t<o&&["pending","confirmed"].includes(e.status.toLocaleLowerCase()))).map((e=>e.name)).join(";")},a=(e={})=>i(i({},e.user||{}),{},{consent:c(e)}),u=(e={})=>{const t=e.companies||[],r=e.user||{},{signedInOns:s}=e.applicationUserRelation;return{company:t[0],details:a(e),shipping:r.deliveryAddress,billing:r.address,signedInBefore:s&&s.length>1}},l=(e={})=>e&&e.company?e.company.id:"",d=(e={})=>{const t=e.address,r=e.email,s={};return r&&(s.user={email:r,billingAddress:{companyName:t.fullName},deliveryAddress:{companyName:t.fullName}}),t&&(s.company={id:e.id?e.id:"",name:t.fullName,address:{addressLine2:t.addressLine2,streetName:t.street,zipCode:t.postalCode,town:t.city,stateOrRegion:t.state,country:t.countryCode}}),s}},62130:(e,t,r)=>{r.d(t,{l3:()=>u,Pm:()=>c,Hx:()=>a});var s=r(54705);function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}const o=(e=document.documentElement.lang)=>{var t,r;if(!e)return{};const s=e.split("-");return{language:null===(t=s[0])||void 0===t?void 0:t.toLowerCase(),country:null===(r=s[1])||void 0===r?void 0:r.toLowerCase()}},i=async e=>new Promise((()=>{window.location.href=e})),c=async e=>{if(!(e=>!!e&&e!==o())(e))return null;const t=(r=e,Array.from(document.querySelectorAll("[hreflang]")).map((e=>{const t=e.getAttribute("hreflang"),r=o(t);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){(0,s.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({href:e.getAttribute("href")},r)})).find((e=>e.language===r&&e.country===(void 0).pageLanguage.country)));var r;return t?i(t.href):null},a=async(e,t=(()=>{}))=>{if(!e||null!=e&&e.alreadyPerformed)return null;if(t({alreadyPerformed:!0}),e.successfulLoginAfterSignUp){const{timestamp:r,redirectUrl:s}=e.successfulLoginAfterSignUp;if(r+36e5>Date.now())return t({successfulLoginAfterSignUp:null}),i(s)}const r=e.successfullLogin;return r?(t({successfullLogin:null}),i(r)):null},u=async(e,t,r=!0,s)=>!t||null!=t&&t.alreadyPerformed?null:(s({alreadyPerformed:!0}),!r&&e?i(e):null)},17249:(e,t,r)=>{r.d(t,{L:()=>l});var s=r(54705),n=r(31080),o=r(47533),i=r(87587);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,s.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const u={serviceName:"CIAM",status:"initial",logged:!1,error:null,redirects:{}};class l{constructor(e={}){this.store=this.createInitialStore(i.EF,e)}getStore(){return this.store}subscribe(e){this.store.subscribe(e)}createInitialStore(e,t={}){var r;const s=!(null==t||null===(r=t.account)||void 0===r||!r.homeAccountId),o=a(a({},t),{},{logged:s});return(0,n.KA)(e,o,u)}clear(){this.store.logged=!1,this.store.account=null,this.store.idToken=null,this.store.status="logout",(0,o.W$)()}update(e,t="refreshed"){const{details:r}=e||{};r?this.updateStoreFromApi(e,t):this.updateStoreFromMsal(e,t)}updateStoreFromApi(e,t="refreshed"){this.store.user=e,this.store.status=t,this.store.logged=!0}updateStoreFromMsal(e,t="refreshed"){const{account:r,idToken:s}=e||{};this.store.account=r,this.store.idToken=s,this.store.status=t,this.store.logged=!(null==r||!r.homeAccountId)}updateToken(e){this.store.idToken=e,this.store.status="verified"}updateStatus(e){this.store.status=e}updateRedirects(e){this.store.redirects||(this.store.redirects={});const t=a({},this.store.redirects);Object.entries(e).forEach((([e,r])=>{t[e]=r})),this.store.redirects=t}}}}]);