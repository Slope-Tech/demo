"use strict";(self.heliuxModules=self.heliuxModules||[]).push([[8966],{14009:(n,t,i)=>{var e=i(54705),s=i(58480);const a={get:"",save:"",activationClass:"resource-animations--enabled",threshold:.01,data:{},subscribes:{update:"heliux:animations:update"},classes:{shell:".page-body",onScreen:"isOnScreen",offScreen:"isOffScreen"}};function o(n,t){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(n);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.push.apply(i,e)}return i}function r(n){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){(0,e.A)(n,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(i,t))}))}return n}class c extends s.ComponentBase{init(){if(this.config=r(r({},a),this.config),this.original=r({},this.config.data),!window.heliuxDisableAnimations){(0,s.subscribe)(this.config.subscribes.update,(n=>{if(this.config.data=n||this.original,this.config.data&&this.config.data.animations){this.parent.classList.add(this.config.classes.offScreen),this.parent.classList.remove(this.config.classes.onScreen);const n=this.config.data.animations.length>0?this.config.data.animations[0].duration:1400;setTimeout((()=>{this.parent.classList.add(this.config.classes.onScreen)}),n)}this.render()})),this.config.data&&this.render();const{threshold:n}=this.config;this.obs=new IntersectionObserver((n=>n.forEach((n=>this.checkEntrie(n)))),{threshold:n}),this.obs.observe(this.parent)}}get parent(){return this.el.parentNode?this.el.parentNode:this.el}checkEntrie(n){n.isIntersecting?(this.onScreen=!0,this.parent.classList.add(this.config.classes.onScreen),this.obs.unobserve(this.parent)):this.onScreen||this.parent.classList.add(this.config.classes.offScreen)}listeners(){const n=this.parentNode;if(n){const t=n.querySelector(this.config.classes.shell);t&&t.classList.add(this.config.activationClass)}document.body.classList.add(this.config.activationClass)}get animations(){return this.config.data}initialTrigger(n){const t=n.split(".");return t.length>1?`.${t[1]}`:""}finalTrigger(n){const t=n.split(".");return t.length>1?t.join("."):n}animationsTypeSelector(n){return`${this.config.componentName}__animations${n.split(" ").join("")}`}initialSelector(n,t,i=""){return n===t?`${this.config.activationClass} .${this.componentAnimationsTypeClass}${n}${i}`:`${this.config.activationClass} .${this.componentAnimationsTypeClass}${n}${i}${t}`}finalSelector(n,t,i){return n===t?`${this.config.activationClass} .${this.componentAnimationsTypeClass}${n}${i}`:`${this.config.activationClass} .${this.componentAnimationsTypeClass}${n}${i}${t}`}render(){this.animationstypeclass=this.animationsTypeSelector(this.config.name),this.componentAnimationsTypeClass=this.animationstypeclass,(this.animations&&this.animations.isDefault||""===this.config.name)&&(this.componentAnimationsTypeClass=this.animationsTypeSelector("Default ")),this.parent.classList.add(this.componentAnimationsTypeClass),this.animations&&(this.el.innerHTML=`\n    <style style="display:none">\n      ${this.renderType(this.animations)};\n    </style>`,this.listeners())}renderType(n){const{animations:t}=n;let i="";return t&&(i=t.map((n=>this.renderOptions(n))).join(""),t.isDefault&&(this.componentAnimationsTypeClass=this.animationstypeclass,i+=t.map((n=>this.renderOptions(n))).join(""))),i}convertName(n){return`${this.config.componentName}${n.split(" ").join("")}`}renderOptions(n){const{type:t,inicial:i,final:e,trigger:s,bounce:a,viewport:o}=n,r=n.initial||i;if(Object.keys(r).length>0){const i=Object.keys(r).map((n=>`${n}: ${r[n]}`)).join(";\n"),c=Object.keys(e).map((n=>`${n}: ${e[n]}`)).join(";\n");let l=[];"true"===a&&(l=Object.keys(e).map((n=>{const t=e[n].match(/([+-\d]|[\d]|[\d]?\.?,?[\d])+/g);return t?`${n}: ${t.reduce(((n,t)=>n.replace(t,""+-1*t)),e[n])}`:`${n}: ${e[n]}`})).join(";\n"));const h=this.initialTrigger(s),p=this.finalTrigger(s),m=this.getRenderFunction(t).call(this,n,i,c,h,p,l);return o?this.restrictStylesToViewport(o,m):m}return""}restrictStylesToViewport(n,t){return`${n} {\n      ${t}\n    }`}getRenderFunction(n){const t=`render${n.charAt(0).toUpperCase()}${n.slice(1)}`;return this[t]?this[t]:this.renderState}renderState(n,t,i,e,s){const{element:a,wrapper:o}=n;return`\n    .${this.initialSelector(o,a,e)} {\n      ${t};\n    }\n    .${this.finalSelector(o,a,s)} {\n      ${i};\n    }\n  `}renderTransition(n,t,i,e,s){const{delay:a,element:o,wrapper:r,duration:c,inicial:l}=n,h=n.initial||l;return`\n      .${this.initialSelector(r,o,e)} {\n        ${t};\n        transition-property: ${Object.keys(h).join(",")};\n        transition-duration: ${c}ms;\n        transition-timing-function: ${n["timing-function"]};\n        transition-delay: ${a}ms;\n      }\n\n      .${this.finalSelector(r,o,s)} {\n        ${i};\n      }\n    `}renderAnimation(n,t,i,e,s,a){const{delay:o,element:r,wrapper:c,duration:l,name:h,bounce:p}=n,m=(new Date).getTime(),f=this.convertName(h);return`\n    ${"true"===p?this.bounceKeyframe(f,m,t,i,a):this.animationKeyframe(f,m,t,i,a)}\n\n    .${this.finalSelector(c,r,s)} {\n      animation-name:  ${f}${m};\n      animation-duration: ${l}ms;\n      animation-delay: ${o}ms;\n      animation-timing-function: ${n["timing-function"]};\n    }\n    `}animationKeyframe(n,t,i,e){return`@keyframes ${n}${t} {\n      0% {\n        ${i};\n      }\n      100% {\n        ${e};\n      }\n\n    }`}bounceKeyframe(n,t,i,e,s){return`@keyframes ${n}${t} {\n      0% {\n        ${i};\n      }\n      25% {\n        ${e};\n      }\n      75% {\n        ${s};\n      }\n      100% {\n        ${i};\n      }\n\n    }`}}(0,s.register)({Animations:c},0)}},n=>{n.O(0,[750],(()=>(14009,n(n.s=14009)))),n.O()}]);