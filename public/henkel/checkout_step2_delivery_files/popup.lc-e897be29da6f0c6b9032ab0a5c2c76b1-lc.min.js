"use strict";(self.heliuxModules=self.heliuxModules||[]).push([[895],{85908:(e,t,o)=>{var i=o(54705),r=o(58480);const n={componentId:"defaultAutoloadedPopup",timeDelay:0,upperLimit:0,expire:48,selectors:{content:".popup__content",modal:".popup__modal"},template:e=>`\n  <div class="modal__base"\n    data-components="Modal">\n    <div class="modal__overlay"></div>\n    <div class="modal__container" role="dialog"\n    aria-labelledby="modal dialog"\n    aria-modal="true">\n    <div class="modal__content">${e}</div>\n    </div>\n  </div>\n  `};function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)}return o}function a(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){(0,i.A)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}let p=!1;class l extends r.ComponentBase{init(){if(!p)if(this.config=a(a({},n),this.config),this.popupId=`popup-${this.config.componentId}`,this.getElements(),this.getModalCookie()){if(!this.updateModalCookie())return void(p=!1);this.renderModal()}else this.setModalCookie(),this.renderModal()}loadPopupContentJsLibraries(){[...this.modal.querySelectorAll("script")].forEach((e=>{const t=document.createElement("script");[...e.attributes].forEach((e=>t.setAttribute(e.name,e.value))),t.appendChild(document.createTextNode(e.innerHTML)),e.parentNode.replaceChild(t,e)}))}renderModal(){this.timeDelay=1e3*Number(this.config.timeDelay),setTimeout((()=>{this.modal.innerHTML=this.config.template(this.content.dataset.template),this.loadPopupContentJsLibraries()}),this.timeDelay),p=!0}getModalCookie(){return(0,r.getCookie)(this.popupId)}updateModalCookie(){let e=Number((0,r.getCookie)(this.popupId));return e<=Number(this.config.upperLimit)&&0!==e&&(e-=1,(0,r.setCookie)(this.popupId,e),e)}setModalCookie(){let e=new Date;const t=60*Number(this.config.expire)*60*1e3;e.setTime(e.getTime()+t),e=e.toUTCString(),this.modalExpires={expires:e},(0,r.setCookie)(this.popupId,this.config.upperLimit,{expires:e})}}(0,r.register)({Popup:l},0)}},e=>{e.O(0,[750],(()=>(85908,e(e.s=85908)))),e.O()}]);