"use strict";(self.heliuxModules=self.heliuxModules||[]).push([[8868],{29712:(t,e,o)=>{var s=o(54705),i=o(58480),n=o(99834);const r={desiredSteps:40,minPagesToShow:2,throttleTime:400,variables:{backToTopBottom:"--backtotop-bottom"},modifiers:{isHidden:"backtotop__base--hidden",aboveCart:"above-sticky-cart",aboveCounter:"above-sticky-cart-counter"},elements:{bottomNavigation:".banner--isBottomNavigationBar",addToCart:".addtocart",addToCartCounter:".addtocartcounter"},selectors:{buttonAnchor:".backtotop__button"}};function c(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,s)}return o}function a(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?c(Object(o),!0).forEach((function(e){(0,s.A)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}class l extends i.ComponentBase{init(){this.config=a(a({},r),this.config),this.lastScrollTop=0,this.isButtonFocusable=!1,this.getElements(),this.showBackToTopButtonDebounced=(0,i.debounce)(this.showBackToTopButton.bind(this),this.config.throttleTime).bind(this),this.setEventListeners(),this.setProperPosition(),this.positionAboveSticky()}setProperPosition(){const{bottomNavigation:t}=this.config.elements,e=document.querySelector(t);if(e){const t=parseInt(e.offsetHeight,10),o=window.getComputedStyle(this.el).getPropertyValue("bottom"),s=parseInt(o.slice(0,-2),10);this.el.style.setProperty(this.config.variables.backToTopBottom,`${t+s}px`)}}setEventListeners(){this.addScrollListener(),this.el.addEventListener("click",this.scrollToTop.bind(this)),this.buttonAnchor.addEventListener("focus",this.showBackToTopButtonDebounced)}addScrollListener(){this.removeScrollListener(),window.addEventListener("scroll",this.showBackToTopButtonDebounced)}removeScrollListener(){window.removeEventListener("scroll",this.showBackToTopButtonDebounced)}showBackToTopButton(){const t=window.innerHeight*this.config.minPagesToShow,e=this.lastScrollTop>window.pageYOffset,o=this.buttonAnchor===document.activeElement,s=window.pageYOffset>t;s&&!this.isButtonFocusable?(this.buttonAnchor.tabIndex=0,this.isButtonFocusable=!0):!s&&this.isButtonFocusable&&(this.buttonAnchor.tabIndex=-1,this.isButtonFocusable=!1),(e||o)&&s?this.el.classList.remove(this.config.modifiers.isHidden):this.el.classList.add(this.config.modifiers.isHidden),this.lastScrollTop=window.pageYOffset}scrollToTop(t){t.preventDefault(),0===t.detail&&t.stopPropagation(),this.removeScrollListener(),(0,i.scrollTo)(0,this.config.desiredSteps,window).then(this.addScrollListener.bind(this)),(0,n.J)(document)}positionAboveSticky(){const t=document.querySelector(this.config.elements.addToCart),e=document.querySelector(this.config.elements.addToCartCounter);t&&e?this.el.classList.add(this.config.modifiers.aboveCounter):t&&this.el.classList.add(this.config.modifiers.aboveCart)}}(0,i.register)({BackToTop:l},0)}},t=>{t.O(0,[750],(()=>(29712,t(t.s=29712)))),t.O()}]);