"use strict";(self.heliuxModules=self.heliuxModules||[]).push([[9626],{97800:(e,t,s)=>{s.d(t,{d:()=>h});var i=s(54705),r=s(58480),n=s(40836),l=s(20247),a=s(55765);const o={selectors:{sortFilterContainer:".sortfilter__container",modalContent:".modal__content",filterContainer:".filter__container",filterLabelBtn:".filter__labelWrapper",filterSelected:".filter__selected",filterSelectedNumber:".filter__selectedNumber",filterViewAll:".filter__viewAll",filterOptions:".filter__options",filterOption:".filter__option",filterArea:'section[class$="__filtersArea"]',arrowIcon:".filter__arrow > heliux-icon",leftArrow:".filter__arrowPrev",rightArrow:".filter__arrowNext",multipleDropdownClearBtn:".filter__multipleDropdownClearBtn",multipleDropdownFilterBtn:".filter__multipleDropdownFilterBtn",filterReset:".filter__resetAll",optionsMultipleDropdownWrapper:".filter__optionsMultipleDropdownWrapper"},elements:{filterOption:".filter__option"},classes:{leftArrow:"icon__previous",rightArrow:"icon__next",hidden:"hidden",filterOption:"filter__option"},modifiers:{collapsed:"collapsed",expanded:"expanded",filterViewAllActive:"filter__viewAll--active",arrowVisible:"filter__arrow--visible",labelWrapperIsActive:"filter__labelWrapper--isActive"},filterTypes:{checkbox:"checkbox",radio:"radio",tags:"tags",singleDropdown:"dropdown-single-selection",multiDropdown:"dropdown-multi-selection"},subscribes:{filterAllUpdate:e=>`sortfilter:${e}:filter:all:update`,filterUpdate:e=>`sortfilter:${e}:filter:update`,filterOptionRemoved:e=>`sortfilter:${e}:filter:remove`,clearButtonClicked:e=>`sortfilter:${e}:button:clear`},publishes:{filterChange:e=>`sortfilter:${e}:filter:change`,filterResetAll:e=>`sortfilter:${e}:filter:change`},forceResultsLiveReload:e=>e.closest('section[class$="__headerFiltersArea"]'),templates:{filterOption:({id:e,type:t,value:s,label:i,checked:r,count:n,showCount:o})=>`<li class="filter__optionWrapper ${0!==n||r?"":"filter__optionWrapper--hidden"}">\n        <input id="${e}"\n          class="filter__option"\n          type="${t}"\n          value="${(0,l.z)(s)}"\n          ${r?"checked":""}\n          ${0!==n||r?"":"disabled"}\n        />\n        <label for="${e}">\n          ${(0,a.JD)(i||s)}${o?`<span class="filter__optionCount">(${n})</span>`:""}\n        </label>\n      </li>`,filterSelectedString:e=>`${e.join(", ")}`}};function c(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(Object(s),!0).forEach((function(t){(0,i.A)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}class h extends r.ComponentBase{init(){this.config=d(d(d({},o),this.config),{},{maxItems:parseInt(this.config.maxItems||0,10),preview:this.config.preview}),this.options=[],this.getElements(),this.listeners(),this.setOptionsOnModal(),this.containerId||this.renderOptions({preview:!0})}get containerId(){if(this.sortFilterContainer)return this.sortFilterContainer.id;const e=this.el.closest(this.config.selectors.filterArea);return e&&e.dataset.containerId?e.dataset.containerId:""}get filterName(){return`${this.containerId}.${this.config.filter.name}`}get selectedOptionsArray(){return(this.options||[]).filter((e=>e.checked)).map((e=>e.value))}get checkboxTypes(){const{filterTypes:e}=this.config;return[e.checkbox,e.radio,e.tags]}get singleSelectionTypes(){const{filterTypes:e}=this.config;return[e.radio]}getElements(){const{sortFilterContainer:e,modalContent:t}=this.config.selectors;super.getElements(),this.sortFilterContainer=this.el.closest(e),this.modalContainer=this.el.closest(t)}listeners(){const{filterAllUpdate:e,filterUpdate:t,filterOptionRemoved:s,clearButtonClicked:i}=this.config.subscribes;(0,r.subscribe)(e(this.containerId),this.setAllOptionOnAllFiltersChange.bind(this)),(0,r.subscribe)(t(this.containerId),this.setOptionsOnResultsChange.bind(this)),(0,r.subscribe)(s(this.containerId),this.uncheckOptionOnOptionRemove.bind(this)),(0,r.subscribe)(i(this.containerId),this.clearAllOptions.bind(this)),this.filterLabelBtn&&this.filterLabelBtn.addEventListener("click",this.toggleOptionsExpandState.bind(this)),this.filterViewAll&&this.filterViewAll.addEventListener("click",this.toggleViewAllButton.bind(this)),this.filterOptions&&(this.filterOptions.addEventListener("click",(({target:e})=>{"INPUT"===e.nodeName&&this.onOptionClick(e)})),this.filterOptions.addEventListener("keydown",this.optionsKeyListener.bind(this))),this.filterReset&&this.filterReset.addEventListener("click",this.publishResetChanges.bind(this))}optionsKeyListener(e){const{keyCode:t}=e,{classes:s,elements:i}=this.config,n=document.activeElement;t!==r.keyMap.ARROW_RIGHT&&t!==r.keyMap.ARROW_DOWN||n.classList.contains(s.filterOption)&&n.parentNode.nextElementSibling&&(n.parentNode.nextElementSibling.querySelector(i.filterOption).focus(),e.preventDefault()),t!==r.keyMap.ARROW_LEFT&&t!==r.keyMap.ARROW_UP||n.classList.contains(s.filterOption)&&n.parentNode.previousElementSibling&&(n.parentNode.previousElementSibling.querySelector(i.filterOption).focus(),e.preventDefault())}render(){this.renderOptions(),this.renderSelectedOptionsListUnderLabel(),this.showViewAllButton()}publishResetChanges(){const{filterResetAll:e}=this.config.publishes,t=this.config.forceResultsLiveReload(this.el);(0,r.publish)(e(this.containerId),{filters:{[this.filterName]:[]},forceLiveReload:t,preventLiveReload:!1})}setAllOptionOnAllFiltersChange({allFilterOptions:e}){this.allFilterOptions=e,this.render()}setOptionsOnResultsChange({filters:e}){this.setOptionsFromData(e)&&this.render(),this.checkAndHideFilterContainer(this.options)}checkAndHideFilterContainer(e){const{hideInactiveValues:t,classes:s}=this.config;!this.containerId||!t||null!=e&&e.filter((({count:e})=>e)).length?this.el.classList.remove(s.hidden):this.el.classList.add(s.hidden)}uncheckOptionOnOptionRemove({filterName:e,value:t}){this.filterName===e&&(this.options=this.options.map((e=>e.value===t?d(d({},e),{},{checked:!1}):d({},e))),this.render())}clearAllOptions(){this.options=this.options.map((e=>d(d({},e),{},{checked:!1}))),this.render()}setOptionsOnModal(){if(this.modalContainer){if(this.modalContainer.dataset.filters)try{const e=JSON.parse(this.modalContainer.dataset.filters);this.setOptionsFromData(e)}catch(e){this.setOptionsFromData({})}if(!this.options&&this.modalContainer.dataset.nestedFilters)try{const e=JSON.parse(this.modalContainer.dataset.nestedFilters);this.setOptionsFromData(e)}catch(e){this.setOptionsFromData({})}}}convertProductDocumentLanguageFilterOptionsISOToString(e){return"PRODUCT_DOCUMENT_LANGUAGE"===this.config.filter.type?e.map((e=>d(d({},e),{},{label:(0,n.DU)(e.value)}))):e}setOptionsFromData(e){if(e){const t=JSON.stringify(this.options)!==JSON.stringify(e[this.filterName]);if(e[this.filterName]&&!e[this.filterName].length||t){let t=e[this.filterName];return t=this.convertProductDocumentLanguageFilterOptionsISOToString(t),this.options=t,!0}}return!1}onOptionClick(e){const{filterOption:t}=this.config.selectors,{type:s}=this.config;this.singleSelectionTypes.includes(s)&&this.filterOptions.querySelectorAll(t).forEach((t=>{t!==e&&(t.checked=!1)})),this.options=(this.options||[]).map((t=>{const i={};return e.value===t.value?i.checked=e.checked:this.singleSelectionTypes.includes(s)&&(i.checked=!1),d(d({},t),i)})),this.publishOptionsChange()}publishOptionsChange(){const{filterChange:e}=this.config.publishes,t=this.config.forceResultsLiveReload(this.el);(0,r.publish)(e(this.containerId),d(d({},this.newPublishOptions),{},{forceLiveReload:t,preventLiveReload:!1}))}get newOptions(){return this.options.map((e=>d({},e)))}get newPublishOptions(){return{filters:{[this.filterName]:this.newOptions}}}showViewAllButton(){const{type:e,maxItems:t,filterTypes:s,modifiers:i}=this.config;if(this.filterViewAll&&this.options&&"arrows"!==this.config.expandType){const r=[...this.filterOptions.children];[s.checkbox,s.tags].includes(e)&&t&&r.length>t?(this.filterViewAll.classList.add(i.filterViewAllActive),this.toggleOptionsDependingOnMaxItems()):this.filterViewAll.classList.remove(i.filterViewAllActive)}}toggleViewAllButton(){const{collapsed:e,expanded:t}=this.config.modifiers;this.filterViewAll.classList.contains(e)?(this.filterViewAll.classList.add(t),this.filterViewAll.classList.remove(e)):(this.filterViewAll.classList.add(e),this.filterViewAll.classList.remove(t)),this.toggleOptionsDependingOnMaxItems()}toggleOptionsDependingOnMaxItems(){const{collapsed:e}=this.config.modifiers,{maxItems:t}=this.config,s=this.filterViewAll.classList.contains(e);[...this.filterOptions.children].slice(t).forEach((e=>{e.style.display=s?"none":"block"}))}toggleOptionsExpandState(){const{collapsed:e,expanded:t}=this.config.modifiers;this.filterContainer.classList.contains(e)?(this.filterContainer.classList.add(t),this.filterContainer.classList.remove(e),this.filterLabelBtn.setAttribute("aria-expanded",!0)):(this.filterContainer.classList.add(e),this.filterContainer.classList.remove(t),this.filterLabelBtn.setAttribute("aria-expanded",!1),this.renderSelectedOptionsListUnderLabel())}renderSelectedOptionsListUnderLabel(){if(!this.filterSelected)return;const{filterSelectedString:e}=this.config.templates,{collapsed:t}=this.config.modifiers;this.filterContainer.classList.contains(t)&&this.selectedOptionsArray.length>0?this.filterSelected.innerHTML=e(this.selectedOptionsArray):this.filterSelected.innerHTML=""}renderOptions({preview:e}={preview:this.config.preview}){const{type:t,templates:s,hideInactiveValues:i,showResultsCounts:r}=this.config;if(e)return;this.options&&this.options.length||(this.options=[]);const n=this.checkboxTypes.includes(t)?"checkbox":t;let l=this.options;!i&&this.allFilterOptions&&this.allFilterOptions[this.filterName]&&(l=this.allFilterOptions[this.filterName].map((e=>{const t=this.options.find((t=>t.value===e.value));return d(d(d({},e),t),{},{count:t?t.count:0})}))),this.checkAndHideFilterContainer(l),this.arrayOfOptionString=l.map((e=>{const t=`${this.containerId}_${this.el.id}_${e.value}`.replace(/\s/g,"-");return s.filterOption({id:t,type:n,value:e.value,label:e.label,checked:e.checked,count:parseInt(e.count,10)||0,showCount:r})})),this.filterOptions.innerHTML=this.arrayOfOptionString.join(" ")}}(0,r.register)({Filter:h},0)},26597:(e,t,s)=>{s.d(t,{$:()=>r,f:()=>n});const i=(e,t=0)=>t===(e||0)?"":`\n    subCounts {\n      name count code ${i(e,t+1)}\n    }\n  `,r=({nestedFiltersMaxLevel:e})=>`\n  query RaqnwebSortAndFilterFiltersQuery(\n    $parent: String\n    $paths: [String!]\n    $filterFields: [OptionFieldType!]\n    $filters: [OptionsField!]\n    $nestedFilterFields: [NestedFilterField!]\n    $nestedFilters: [NestedFilter!]\n    $rangeFilterFields: [RangeFilterType!]\n    $rangeFilters: [RangeFilter!]\n  ) {\n    raqnwebFilter(\n      parent: $parent\n      paths: $paths\n      filterFields: $filterFields\n      filters: $filters\n      nestedFilterFields: $nestedFilterFields\n      nestedFilters: $nestedFilters\n      rangeFilterFields: $rangeFilterFields\n      rangeFilters: $rangeFilters\n    ) {\n      filterableOptions {\n        ... on RaqnwebOptionFilterCounts {\n          name options { name count }\n        }\n        ... on RaqnwebOptionFilterRange {\n          name min max\n        }\n        ... on RaqnwebNestedOptionFilterCounts {\n          name\n          options { ...nestedCount }\n        }\n      }\n    }\n  }\n\n  fragment nestedCount on NestedCount {\n    name count code ${i(e)}\n  }\n`,n=({nestedFiltersMaxLevel:e,queryAlias:t})=>`\n  query ${t||"RaqnwebSearchFiltersQuery"}(\n    $term: String\n    $offset: Int!\n    $site: RaqnwebSite!\n    $tab: String\n    $filterFields: [OptionFieldType!]\n    $filters: [OptionsField!]\n    $nestedFilterFields: [NestedFilterField!]\n    $nestedFilters: [NestedFilter!]\n    $rangeFilterFields: [RangeFilterType!]\n    $rangeFilters: [RangeFilter!]\n  ) {\n    raqnwebSearch(\n      term: $term\n      offset: $offset\n      site: $site\n      tab: $tab\n      filterFields: $filterFields\n      filters: $filters\n      nestedFilterFields: $nestedFilterFields\n      nestedFilters: $nestedFilters\n      rangeFilterFields: $rangeFilterFields\n      rangeFilters: $rangeFilters\n    ) {\n      filterableOptions {\n        ... on RaqnwebOptionFilterCounts {\n          name options { name count }\n        }\n        ... on RaqnwebOptionFilterRange {\n          name min max\n        }\n        ... on RaqnwebNestedOptionFilterCounts {\n          name\n          options { ...nestedCount }\n        }\n      }\n    }\n  }\n\n  fragment nestedCount on NestedCount {\n    name count code sort ${i(e)}\n  }\n`},25520:(e,t,s)=>{s.d(t,{b:()=>r});const i=(e,t=0)=>t===(e||0)?"":`\n    subCounts {\n      name count code ${i(e,t+1)}\n    }\n  `;function r({displayTags:e,filterByTabs:t,displayFilters:s,nestedFiltersMaxLevel:r,baseEntity:n,context:l,grouping:a}){const o=[],c=[],d=[],h=[],u=["variantIdh","variantExtraFields"];let p="";return e&&(o.push("$tag: [String!]"),c.push("tag: $tag"),d.push("\n      tags {\n        name\n        count\n      }\n    ")),"VARIANT"===n&&u.push("variantName","variantDescription","variantMainImage","variantMainImageAlt","variantContainerType","variantPackageSize","price { minPrice, currency, stockStatus }"),t&&(o.push("$tab: String"),c.push("tab: $tab"),d.push("\n      tabs {\n        name\n        count\n      }\n    ")),s&&(o.push("$filterFields: [OptionFieldType!]"),o.push("$filters: [OptionsField!]"),c.push("filterFields: $filterFields"),c.push("filters: $filters"),o.push("$nestedFilterFields: [NestedFilterField!]"),o.push("$nestedFilters: [NestedFilter!]"),c.push("nestedFilterFields: $nestedFilterFields"),c.push("nestedFilters: $nestedFilters"),o.push("$rangeFilterFields: [RangeFilterType!]"),o.push("$rangeFilters: [RangeFilter!]"),c.push("rangeFilterFields: $rangeFilterFields"),c.push("rangeFilters: $rangeFilters"),d.push("\n      filterableOptions {\n        ... on RaqnwebOptionFilterCounts {\n          name options { name count }\n        }\n        ... on RaqnwebOptionFilterRange {\n          name min max\n        }\n        ... on RaqnwebNestedOptionFilterCounts {\n          name\n          options { ...nestedCount }\n        }\n      }\n    "),h.push(`\n      fragment nestedCount on NestedCount {\n        name count code ${i(r)}\n      }\n    `)),a&&(o.push("$grouping: GroupField"),c.push("grouping: $grouping"),p="\n      groupResults {\n        __typename\n        groupMainImage\n        groupMainImageAltText,\n        ... productSearchResult\n      }\n    "),null!=l&&l.assetOrder&&(o.push("$context: SearchContext"),c.push("context: $context")),`query RaqnwebSearchResultsQuery(\n      $term: String\n      $offset: Int!\n      $size: Int\n      $sort: RaqnwebSort\n      $site: RaqnwebSite!\n      ${o.join("\n ")}\n    ) {\n    raqnwebSearch(\n      term: $term\n      offset: $offset\n      size: $size\n      sort: $sort\n      site: $site\n      ${c.join("\n ")}\n    ) {\n      resultCount\n      ${a?"groupedResultCount":""}\n      results {\n        __typename\n        ... on RaqnwebPageSearchResult {\n          title, preTitle, description, url, snippet, image, imageAlt, date, pageType, communitiesFields { ...communitiesFields }, badge { ...badgeFields }\n        }\n        ... on ProductSearchResult {\n          ...productSearchResult ${p}\n\n        }\n        ... on ProductTdsSearchResult {\n          title, url, documentLanguage, snippet\n          productFields { ...productFields }\n        }\n        ... on ProductVariantDocumentSearchResult {\n          productVariantDocumentType, title, url, snippet, documentId, documentLanguage, documentComponentName, documentComponentIdh,\n          variantIdh, variantSku, variantSku, variantDescription, variantSize,\n          productFields { ...productFields }\n        }\n        ... on DamDocumentSearchResult {\n          title, description, fileName, url, snippet, date, documentLanguage, documentCountries, documentChannels, assetTypes\n        }\n      }\n      ${d.join("\n ")}\n    }\n  }\n\n  fragment productFields on ProductFields {\n    productSku, productCatalog, productLanguage, productName, productNameExtension, productDescription, productShortDescription, productLongProductName, productHistoricalName, sortedProductCategories, productKnownAs, productTagline, variants { ...variantFields }, productCategories { ... productCategories }, productExtraFields\n  }\n\n  fragment productCategories on ProductCategory {\n    code parentCode\n  }\n\n  fragment variantFields on VariantFields {\n      ${u.join("\n ")}\n  }\n\n  fragment communitiesFields on RaqnwebCommunitiesFields {\n    communitiesArticleId, likes, dislikes, computedLikes, numberOfComments\n  }\n\n  fragment badgeFields on BadgeInfoResult {\n    icon, label, link\n  }\n\n  fragment bazaarVoiceFields on RaqnwebProductRatingInfo {\n    bazaarVoiceProductId\n  }\n\n  fragment productSearchResult on ProductSearchResult{\n    title, preTitle, description, url, snippet, image, imageAlt, date, productMainImage, productMainImageAltText, variantSizes,\n    productFields { ...productFields }, bazaarVoiceFields { ...bazaarVoiceFields }, badge { ...badgeFields },\n    price { idh, minPrice, currency, stockStatus }, available, productCommerceSort\n  }\n\n  ${h.join("\n")}\n  `}},73963:(e,t,s)=>{s.d(t,{Ww:()=>i,cB:()=>n,h8:()=>a,mp:()=>r,yi:()=>o,z$:()=>l});const i="searchTrackingId",r="trackingSearchBox",n="<blank>",l="searchresults::clicked",a="sortfilter::changed",o="siteFilter::changed"},57052:(e,t,s)=>{s.d(t,{b:()=>o});var i=s(58480),r=s(12595),n=s(45817),l=s(37376);const a={elements:{searchContainer:".searchresults__base",searchView:".searchresults__viewStyle",closeButton:".searchresults__closeBtn",views:".searchresults__viewStyle",itemToReRender:".itemReRenderContainer",modalContent:".modal__content",groupSelector:"heliux-colorselector",groupContainer:".colorselector__container",groupItemButton:".colorselector__button",groupItemExpandButton:".colorselector__expandButton"},classes:{isHidden:"isHidden",noScroll:"noScroll"},publishes:{closeModal:e=>`modal:${e}:close`},publishesReRender:{reRenderOnGroupItemSelection:"reRender::on::searchResult::item::change"},templates:{modal:(e,t,s)=>`\n    <div id="${e}" class="modal__base modal__base--flyout searchresults__groupModal"\n        data-components="Modal">\n        <div class="modal__overlay"></div>\n        <div class="modal__container">\n            <div class="modal__head">\n              <span class="heading3">${s||""}</span>\n              <button class="modal__closeBtn" title="modal close button">\n                ${t}\n              </button>\n            </div>\n            <div class="modal__content searchresults__groupModalContent" tabindex="0">\n            </div>\n        </div>\n    </div>`}};class o extends i.ComponentBase{init(){this.config=(0,r.$N)({},a,this.config),this.getElements(),this.searchListeners()}getElements(){const{elements:e}=this.config;super.getElements(),this.searchContainer=this.el.closest(e.searchContainer),this.views=this.searchContainer.querySelectorAll(e.searchView),this.closeButton=this.searchContainer.querySelector(e.closeButton)}get modalId(){return`${this.searchContainer.id}-group-modal`}get modal(){const{elements:e,templates:t,title:s}=this.config,i=this.closeButton.cloneNode(!0);return i.removeAttribute("hidden"),this.modalNode=document.createElement("div"),this.modalNode.innerHTML=t.modal(this.modalId,i.innerHTML,s),this.modalNode.addEventListener("click",(0,l.F)([e.groupItemButton],this.onFlyoutItemClick.bind(this))),document.body.appendChild(this.modalNode),this.modalNode}reRenderCondition(e){if(this.views&&this.views.length>1){const{elements:t,classes:s}=this.config,i=e.closest(t.views);return i&&!i.classList.contains(s.isHidden)}return!0}publishSelectedItemEvent(e,t){const{publishesReRender:s}=this.config,{currentDelegatedTarget:r}=e,n=r.dataset.itemIdentifier;(0,i.publish)(s.reRenderOnGroupItemSelection,{itemIdentifierData:{itemRenderId:t,itemIdentifierValues:n,getFromPreviousRenderData:!0},allowReRender:this.reRenderCondition.bind(this)})}onItemClick(e){var t;const{elements:s}=this.config,{currentDelegatedTarget:i}=e,r=null===(t=i.closest(s.itemToReRender))||void 0===t?void 0:t.dataset.itemRenderId;r&&this.publishSelectedItemEvent(e,r)}onFlyoutItemClick(e){if(!this.itemRenderId)return;const{publishes:t}=this.config;this.publishSelectedItemEvent(e,this.itemRenderId),(0,i.publish)(t.closeModal(this.modalId))}onExpandButtonClick(e){var t;const{elements:s,classes:i}=this.config,{currentDelegatedTarget:r}=e;this.itemRenderId=null===(t=r.closest(s.itemToReRender))||void 0===t?void 0:t.dataset.itemRenderId;const l=r.closest(s.groupSelector).cloneNode(!0);l.querySelector(s.groupContainer).id="";const a=this.modal,o=a.querySelector(s.modalContent);o.innerHTML="",o.appendChild(l),(0,n.i)(a),document.body.classList.add(i.noScroll)}searchListeners(){const{elements:e}=this.config;this.searchContainer.addEventListener("click",(0,l.F)([e.groupItemButton],this.onItemClick.bind(this))),this.searchContainer.addEventListener("click",(0,l.F)([e.groupItemExpandButton],this.onExpandButtonClick.bind(this)))}}(0,i.register)({SearchResultsGroupSelector:o},0)},57619:(e,t,s)=>{s.d(t,{L:()=>v});var i=s(54705),r=s(58480),n=s(51553),l=s(12595),a=s(50783),o=s(32945),c=s(19061),d=s(26597),h=s(25520),u=s(19004);const p={pagination:{enabled:!1,scope:null,usePageUrlParam:!1,pageSize:null},order:"relevant",selectors:{resultsWrapper:".searchresults__resultsWrapper",tipsAndHelp:".searchresults__tipsAndHelp",views:".searchresults__viewStyle",tabBanner:".searchresults__tabBanner",closeButton:".searchresults__closeBtn"},elements:{searchTerm:"searchTerm",view:".searchresults__viewStyle"},classes:{tipsAndHelpHidden:"searchresults__tipsAndHelp--hidden",isHidden:"isHidden",removeShimmer:"image__base--removeShimmer"},urlParams:{tags:"tags",tab:"tab",searchTerm:"searchTerm"},offset:0,count:0,shownItems:0,publishesReRender:{reRenderOnSearchResultsRender:"reRender::on::searchResult::render",reRenderOnSearchResultsLoadMore:"reRender::on::searchResult::loadMore",reRenderOnSearchResultsPaginationChange:"reRender::on::searchResult::pagination:change"},publishes:{populateSearchHistory:"searchresults::populateSearchHistory",updateLoadMore:"searchresults::pagination",updateTracking:"searchresults::tracking",renderTags:"searchresults::tags::render",renderTabs:"searchresults::tabs::render",searchResultsRendered:"searchResults::rendered"},subscribes:{loadMoreClicked:"searchpagination::loadmore::clicked",searchTermButtonClicked:"searchbutton::clicked",searchResultsTeaserlistInit:"TeaserListV2RenderSearchApi::init",selectedTagsChanged:"searchresults::tags::selected",selectedTabChanged:"searchresults::tabs::selected",listGridViewChanged:"searchresults:view:changed"},tabConfigsType:{pageType:"PAGE_TYPE",productDocument:"PRODUCT_DOCUMENT",damDocument:"DAM_DOCUMENT"},relatedTeaserListComponent:"TeaserListV2RenderSearchApi"};var f=s(31080),g=s(73963);function m(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function b(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?m(Object(s),!0).forEach((function(t){(0,i.A)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):m(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}class F{constructor(){this.currentSearchTerm=null}sendSearchTrackingEvent(e,t){if(this.currentSearchTerm===t)return;this.currentSearchTerm=t;const s=this.searchTrackingId;s&&this.clearTrackingIdSearchParam();const i=this.getSearchBoxTrackingData(s);if(null!=i)this.publishSearchTracking(i,e),this.clearTrackingStore(s);else if(!t){const t={isInsideFlyOut:!1,isSearchHistory:!1,isAutocomplete:!1,searchText:g.cB};this.publishSearchTracking(t,e)}}getSearchBoxTrackingData(e){if(!e)return null;const t=(0,f.KA)(g.mp);return t?t[e]:null}clearTrackingStore(e){if(!e)return;const t=(0,f.KA)(g.mp);t&&(delete t[e],(0,f.bC)(g.mp),0!==Object.keys(t).length&&(0,f.KA)(g.mp,t))}publishSearchTracking(e,t){var s;const i=b(b({},e),{},{number:t.resultCount,numberPerPage:null===(s=t.items)||void 0===s?void 0:s.length});(0,r.publish)(g.z$,i)}clearTrackingIdSearchParam(){const e=new URL(window.location.href);e.searchParams.delete(g.Ww),window.history.replaceState({},"",e)}get searchTrackingId(){return new URL(window.location.href).searchParams.get(g.Ww)}}function R(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function y(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?R(Object(s),!0).forEach((function(t){(0,i.A)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):R(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}class v extends u.Y{init(){this.config=(0,l.$N)({},p,this.config,{displayFilters:this.displayFilters,apiUrl:this.config.apiUrl||"https://w9lrwqvyp6.execute-api.eu-central-1.amazonaws.com/dev/search"}),this.alreadyInitialised=!1,this.renderedResults=[],this.initPagination(),super.init()}initPagination(){const{pagination:e,teaserListIds:t}=this.config;null!=e&&e.enabled&&(this.paginationController=new o.J(y(y({},e),{},{scopes:t})),this.offset=this.paginationController.offset)}setInitialValues(){this.filtersClearedBySearchTermChanged=!1,this.setFilterByTabsConfig(),this.initFilters(),this.initTracking(),super.setInitialValues()}initTracking(){const{adobeTrackingEnabled:e}=this.config;e&&(this.searchResultsTracking=new F(this.config))}setFilterByTabsConfig(){const{tabConfigs:e}=this.config;this.config.filterByTabs=e&&e.length}get filterNames(){const{filterNames:e}=this.config;return e||[]}get filterNestedNames(){const{filterNestedNames:e}=this.config;return e||[]}get filterRangedNames(){const{filterRangedNames:e}=this.config;return e||[]}get searchTerm(){const e=new URL(window.location.href),{urlParams:t}=this.config,s=e.searchParams.get(t.searchTerm);if(s)return s}get searchTermChanged(){return!this.initialRound&&this.currentSearchTerm!==this.searchTerm}get defaultTab(){const{tabConfigs:e}=this.config;return e.length?e[0].label:""}get tabConfigs(){const{tabConfigs:e,tabConfigsType:t}=this.config;return e.map((({label:e,pageTypes:s,productDocuments:i,damDocuments:r})=>{const n={name:e,types:[]};return s&&s.length&&n.types.push({type:t.pageType,values:s}),i&&i.length&&n.types.push({type:t.productDocument,values:i}),r&&r.length&&n.types.push({type:t.damDocument,values:r}),n}))}initVariables(){const{offset:e,count:t,shownItems:s,pagination:{enabled:i,usePageUrlParam:r}}=this.config,n=i&&r;this.currentSearchTerm=this.searchTerm,this.offset=n?this.paginationController.offset:e,this.count=t,this.shownItems=s,this.selectedTab=this.defaultTab,super.initVariables()}initFilters(){const{displayFilters:e,filterNames:t,filterNestedNames:s,filterRangedNames:i}=this.config;if(e){const e={},r={},n={};t.filter((e=>![...s,...i].includes(e))).forEach((t=>{e[this.filterNameWithContainer(t)]=[]})),s.forEach((e=>{r[this.filterNameWithContainer(e)]=[]})),i.forEach((e=>{n[this.filterNameWithContainer(e)]=[]})),this.populateFilters({filters:e,nestedFilters:r,rangeFilters:n})}}waitForTeaserListComponentToLoad(e){const{subscribes:t,relatedTeaserListComponent:s}=this.config,i=window.ncComponentsInstances[s],n=()=>{this.alreadyInitialised||(this.alreadyInitialised=!0,e())};i&&i.length?n():(0,r.subscribe)(t.searchResultsTeaserlistInit,n)}listeners(){const{subscribes:e,pagination:t}=this.config;super.listeners(),(0,r.subscribe)(e.selectedTabChanged,(({selectedTab:e})=>{this.selectedTab=e,this.updateResults()})),(0,r.subscribe)(e.selectedTagsChanged,(({selectedTags:e})=>{this.selectedTags=e,this.updateResults(!0)})),(0,r.subscribe)(e.searchTermButtonClicked,(e=>{this.onSearchTermBtnClick(e)})),t.enabled?this.paginationController.subscribeChange((e=>{this.loadPaginationResultsRender(e)})):(0,r.subscribe)(e.loadMoreClicked,(({increment:e})=>{this.onLoadMoreBtnClick({increment:e})})),(0,r.subscribe)(c.g.topics.loaded,this.removeShimmerOnImages.bind(this)),(0,r.subscribe)(c.g.topics.error,this.removeShimmerOnImages.bind(this)),(0,r.subscribe)(e.listGridViewChanged,(()=>{this.publishRenderEvent({renderData:this.renderedResults})}))}removeShimmerOnImages({el:e}){e.closest(this.config.selectors.resultsWrapper)&&e.classList.add(this.config.classes.removeShimmer)}requestOnInit(){this.getTagsFromUrlParams(),this.getTabFromUrlParams(),this.waitForTeaserListComponentToLoad((async()=>{const{displayTags:e,displayFilters:t,publishes:s}=this.config,i=[];if(e&&this.selectedTags.length){const e=this.getSearchFacets("\n  query RaqnwebSearchTagsQuery($term: String, $site: RaqnwebSite!, $size: Int, $offset: Int) {\n    raqnwebSearch(term: $term, site: $site, size: $size, offset: $offset) {\n      tags {\n        name\n        count\n      }\n    }\n  }\n").then(this.checkResultsForError.bind(this)).then((e=>(0,r.publish)(s.renderTags,{results:e,selectedTags:this.selectedTags}))).catch(this.renderError.bind(this));i.push(e)}Promise.all(i).then((()=>{t&&this.requestAllFilters(),this.requestResults(this.selectedTags.length)}))}))}requestAllFilters(){const{filterByTabs:e}=this.config,t=y(y(y({},this.filtersQueryParams),e&&{tabConfigs:this.tabConfigs}),{},{filters:[],nestedFilters:[]});return this.getSearchFacets((0,d.f)({nestedFiltersMaxLevel:this.nestedFiltersMaxLevel,queryAlias:"RaqnwebSearchAllFiltersQuery"}),t).then(this.checkResultsForError.bind(this)).then(this.populateAllFilters.bind(this)).catch(this.renderError.bind(this))}requestSelectedFiltersFromAPI(){const{filterByTabs:e,displayFilters:t}=this.config,s=y(y({},e&&{tab:this.selectedTab,tabConfigs:this.tabConfigs}),t&&y({},this.filtersQueryParams));return this.getSearchFacets((0,d.f)({nestedFiltersMaxLevel:this.nestedFiltersMaxLevel,queryAlias:"RaqnwebSearchSelectedFiltersQuery"}),s)}getSearchFacets(e,t={}){const s=new n.L(this.config),i=this.searchTerm;return s.getData(e,y({searchTerm:i,offset:this.offset},t))}getResults(){const e=new n.L(this.config),t=this.searchTerm,{filterByTabs:s,displayTags:i,displayFilters:r,baseEntity:l,context:a,groupConfig:o}=this.config,c=y(y(y(y({searchTerm:t},i&&{tag:this.selectedTags}),s&&{tab:this.selectedTab,tabConfigs:this.tabConfigs}),r&&y({},this.filtersQueryParams)),{},{grouping:o,sort:this.sortValue,offset:this.offset,count:this.count,context:a});return this.showLoadingSpinner(),e.getData((0,h.b)({displayTags:i,filterByTabs:s,displayFilters:r,nestedFiltersMaxLevel:this.nestedFiltersMaxLevel,baseEntity:l,context:a,grouping:!!o}),c).finally((()=>{this.hideLoadingSpinner()}))}requestResults(e){this.getResults().then(this.checkResultsForError.bind(this)).then(this.handlePaginationPageFromUrl.bind(this)).then((t=>{this.onRequestResultsSuccess(t,e),this.publishSearchResultsTracking(t),this.publishFilterChangeTrackingEvent(),this.initialRound=!1,this.filtersClearedBySearchTermChanged=!1})).catch((e=>{this.onRequestResultsError(e)}))}async handlePaginationPageFromUrl(e){if(!this.initialRound)return e;const{pagination:t}=this.config;if(!t.enabled||!t.usePageUrlParam)return e;if(this.offset<=this.totalNumberOfResultsForPagination(e))return e;this.paginationController.setOffsetFromPage(1),this.offset=this.paginationController.offset;const s=await this.getResults();return this.checkResultsForError(s)}checkTabsAndRequestResultsAgainIfCurrentTabResultsEmpty(e){var t,s,i,r;const{displayTabs:n,filterByTabs:l}=this.config;if(!n||!l)return!1;const a=(null===(t=e.tabs)||void 0===t?void 0:t.length)&&e.tabs[0].name,o=this.initialRound&&!this.urlTab&&!(null!==(s=e.tabs)&&void 0!==s&&s.find((({name:e})=>e===this.defaultTab))),c=this.initialRound&&this.urlTab&&!(null!==(i=e.tabs)&&void 0!==i&&i.find((({name:e})=>e===this.urlTab))),d=this.searchTermChanged&&this.selectedTab&&!(null!==(r=e.tabs)&&void 0!==r&&r.find((({name:e})=>e===this.selectedTab)));return!(!a||!(o||c||d)||(this.selectedTab=e.tabs[0].name,this.requestResults(this.selectedTags.length),0))}onRequestResultsSuccess(e,t){this.checkTabsAndRequestResultsAgainIfCurrentTabResultsEmpty(e)||(this.updatePDPUrlsWithRelatedVariant(e),this.setPaginationData(e,!this.initialRound),this.updateBanner(),this.renderFilters(e),this.renderTabs(e),this.renderTags(e,t),this.renderResults(e),this.populateResultsNumber(e.resultCount),this.publishFiltersChange(),this.setLoadMoreData(e),this.hideLoadingSpinner())}onRequestResultsError(e){this.searchResultsTracking&&this.searchResultsTracking.clearTrackingIdSearchParam(),this.renderError(e),this.updateLoadMore({error:!0}),this.hideLoadingSpinner(),console.error(e)}updatePDPUrlsWithRelatedVariant(e){e.items.filter((e=>"ProductSearchResult"===e.__typename)).filter((e=>{var t;return null===(t=e.price)||void 0===t?void 0:t.idh})).forEach((e=>{e.url+=`?variantId=${e.price.idh}`}))}renderFilters(e){this.searchTermChanged&&this.populateAllFilters(e);const{filters:t,nestedFilters:s,rangeFilters:i}=this.getFiltersFromResults(e);this.populateFilters({filters:t,nestedFilters:s,rangeFilters:i})}renderTabs(e){const{displayTabs:t,filterByTabs:s}=this.config;if(!t||!s)return;const{publishes:i}=this.config;(0,r.publish)(i.renderTabs,{results:e,selectedTab:this.selectedTab})}renderTags(e,t){const{publishes:s}=this.config;(0,r.publish)(s.renderTags,{results:e,tagsAlreadyLoaded:t,selectedTags:this.selectedTags})}renderResults(e){const{classes:t,publishes:s}=this.config,i=e.items,n=i&&i.length>0;i&&0===i.length&&this.tipsAndHelp?this.tipsAndHelp.classList.remove(t.tipsAndHelpHidden):this.tipsAndHelp&&this.tipsAndHelp.classList.add(t.tipsAndHelpHidden),this.renderedResults=e,this.publishRenderEvent({renderData:e});const l=this.searchTerm;this.currentSearchTerm=l,n&&l&&(0,r.publish)(s.populateSearchHistory,{searchTerm:l})}publishRenderEvent(e={renderData:this.renderedResults,isLoadMore:!1}){const{publishesReRender:t}=this.config,s=y({allowReRender:this.reRenderCondition.bind(this)},e);s.isLoadMore?(0,r.publish)(t.reRenderOnSearchResultsLoadMore,s):(0,r.publish)(t.reRenderOnSearchResultsRender,s)}reRenderCondition(e){if(this.views&&this.views.length>1){const{elements:t,classes:s}=this.config,i=e.closest(t.view);return i&&!i.classList.contains(s.isHidden)}return!0}totalNumberOfResultsForPagination(e){return e.groupedResultCount??e.resultCount}onLoadMoreBtnClick({increment:e}){this.offset=0===this.offset?this.count:this.offset+e,this.count=e,this.updateLoadMoreRendering(this.getResults())}updateLoadMore({current:e,total:t,state:s,show:i,error:n}){const{publishes:l,pagination:a}=this.config;a.enabled||((0,r.publish)(l.updateLoadMore,{current:e,total:t,state:s,show:i,error:n}),(0,r.publish)(l.updateTracking,{current:e,total:t,state:s,show:i,error:n}))}setLoadMoreData(e){const{pagination:t}=this.config;if(t.enabled)return;const s=e.items&&e.items.length;this.shownItems+=e.items.length,this.updateLoadMore({current:this.shownItems,total:this.totalNumberOfResultsForPagination(e),show:s,error:!s})}updateLoadMoreRendering(e){e.then((e=>{e.error?this.renderError(e.error):(this.renderedResults=(0,l.$N)(this.renderedResults,e,{items:[...this.renderedResults.items,e.items]}),this.publishRenderEvent({renderData:e,isLoadMore:!0}),this.shownItems+=e.items.length,this.updateLoadMore({current:this.shownItems,total:this.totalNumberOfResultsForPagination(e)}))}))}async loadPaginationResultsRender(e){const{publishesReRender:t}=this.config;this.offset=e.offset;const s=await this.getResults();this.renderedResults=s,this.setPaginationData(this.renderedResults,!1),(0,r.publish)(t.reRenderOnSearchResultsPaginationChange,{renderData:this.renderedResults,allowReRender:this.reRenderCondition.bind(this)})}setPaginationData(e,t=!1){const{pagination:s}=this.config;if(!s.enabled)return s;const{offset:i}=this.paginationController;this.offset=(()=>this.initialRound?i:t?0:this.offset)();const r={totalResults:this.totalNumberOfResultsForPagination(e),offset:this.offset,reset:t};return e.paginationData=r,r}resetPaginationValues(){this.count=this.config.count,this.offset=0,this.shownItems=0}onSearchTermBtnClick({searchTerm:e,predefinedUrl:t}){const{displayFilters:s}=this.config,i=e||this.searchTerm;this.resetPaginationValues(),t&&(this.getTabFromUrlParams(),this.getSortFromUrlParams(),s&&(this.regularFilters.selected=this.selectedFromUrlParams.filters||{},this.nestedFilters.selected=this.selectedFromUrlParams.nestedFilters||{},this.rangedFilters.set=this.selectedFromUrlParams.rangeFilters||{},this.publishFiltersChange())),t||(this.selectedTab=this.defaultTab,this.selectedTags=[],this.updatePageUrlParams(i),s&&(this.filtersClearedBySearchTermChanged=!0,this.clearSelectedFilters(),this.updatePageUrlFiltersParams(),this.publishFiltersChange())),this.requestResults(!1)}updateBanner(){var e;const{classes:t,tabConfigs:s,displayTabs:i,filterByTabs:r}=this.config;if(!i||!r)return;const n=null===(e=s.find((e=>e.label===this.selectedTab)))||void 0===e?void 0:e.bannerXFUrl;n?(0,a.BU)(n,null).then((({fragmentString:e})=>{this.tabBanner.innerHTML=e,this.tabBanner.classList.remove(t.isHidden)})).catch((e=>console.warn(e))):(this.tabBanner.innerHTML="",this.tabBanner.classList.add(t.isHidden))}updateResults(e){this.resetPaginationValues(),this.updateLoadMore({state:"enabled"}),super.updateResults(e),this.updatePageUrlParams(this.searchTerm)}getTagsFromUrlParams(){const{urlParams:e}=this.config,t=new URL(window.location.href);t.searchParams.has(e.tags)?this.selectedTags=t.searchParams.getAll(e.tags):this.selectedTags=[]}getTabFromUrlParams(){const{urlParams:e}=this.config,t=new URL(window.location.href);t.searchParams.has(e.tab)?(this.urlTab=t.searchParams.get(e.tab),this.selectedTab=this.urlTab):this.selectedTab=this.defaultTab}updatePageUrlParams(e=""){const{displayTags:t,filterByTabs:s,urlParams:i}=this.config,r=new URL(window.location.href);r.searchParams.delete(i.tags),r.searchParams.delete(i.searchTerm),r.searchParams.delete(i.tab),e&&r.searchParams.set(i.searchTerm,e),t&&this.selectedTags.length&&this.selectedTags.forEach((e=>{r.searchParams.append(i.tags,e)})),s&&this.selectedTab&&this.selectedTab!==this.defaultTab&&r.searchParams.append(i.tab,this.selectedTab),window.history.replaceState({},"",r)}renderError(e){console.error("ERROR:",e);const{selectors:t,publishes:s}=this.config,i=document.querySelector(t.resultsWrapper);i.errorInserted||(i.errorInserted=!0,super.renderError(e,i,(()=>{(0,r.publish)(s.searchResultsRendered,{error:!0})})))}publishSearchResultsTracking(e){this.searchResultsTracking&&this.searchResultsTracking.sendSearchTrackingEvent(e,this.searchTerm)}publishFilterChangeTrackingEvent(){this.filtersClearedBySearchTermChanged||super.publishFilterChangeTrackingEvent()}}(0,r.register)({SearchResults:v},0)},19004:(e,t,s)=>{s.d(t,{Y:()=>R});var i=s(54705),r=s(58480),n=s(37252),l=s(50783),a=s(73355),o=s(12595),c=s(77494),d=s(48669),h=s(55765),u=s(29278),p=s(73963);class f{constructor(e){this.name=e}filterChangeTracking({filtersData:e,filtersLabels:t,selectedTab:s,resultsNumber:i}){const n=[];Object.keys(e).filter((e=>t[e])).forEach((s=>{e[s].filter((({value:e})=>!e.includes(":"))).forEach((e=>{n.push({attribute:t[s],value:e.name||e.value})}))})),(0,r.publish)(p.yi,{type:this.name,tab:s,filters:n,resultsCount:i})}sortChangeTracking({sortValue:e,resultsNumber:t}){(0,r.publish)(p.h8,{resultsNumber:t,sortValue:e,containerName:this.name})}searchBoxTracking(){}}var g=s(20247);const m={reservedFilterNames:["searchTerm","sort","tab","tags"],modifiers:{noScroll:"noScroll",loading:"loading"},selectors:{filtersArea:'[class$="__filtersArea"]',closeBtn:'[class$="__closeBtn"]',flyoutBtn:'[class$="__flyoutBtn"]',resultBtn:".filterbutton__wrapper--result",filterElements:".filter__wrapper",rangeFilterElements:".filterrange__base",resultsAres:'[class$="__resultsArea"]',spinner:"heliux-spinner"},subscribes:{filterOptionChanged:e=>`sortfilter:${e}:filter:change`,filterOptionRemoved:e=>`sortfilter:${e}:filter:remove`,sortOptionChanged:e=>`sortfilter:${e}:sort:change`,sortRequestValue:e=>`sortfilter:${e}:sort:requestvalue`,searchButtonClicked:e=>`sortfilter:${e}:button:filter`,clearButtonClicked:e=>`sortfilter:${e}:button:clear`,newResultsLoaded:e=>`sortfilter:${e}:results:loaded`,prependFilterIntoFlyout:e=>`sortfilter:${e}:flyout:prepend`},publishes:{filterAllUpdate:e=>`sortfilter:${e}:filter:all:update`,filterUpdate:e=>`sortfilter:${e}:filter:update`,sortOptionSet:e=>`sortfilter:${e}:sort:set`,resultsTagsUpdate:e=>`sortfilter:${e}:results:tags`,resultsNumberUpdate:e=>`sortfilter:${e}:results:number`,requestForFilterResults:e=>`sortfilter:${e}:results:reload`,urlParamsChanged:e=>`sortfilter:${e}:results:urlParamsChanged`,showSpinner:e=>`spinner:${e}:show`,hideSpinner:e=>`spinner:${e}:hide`},template:(e,t,s,i,r,n)=>`\n    <div class="modal">\n      <div class="modal__base modal__base--flyout ${n.modalCustomizationClass}"\n        id="${e}"\n        data-components="Modal">\n        <div class="modal__overlay"></div>\n        <div class="modal__container"\n          role="dialog"\n          aria-labelledby="modal dialog"\n          aria-modal="true">\n            <div class="modal__closeBtn">${t}</div>\n            <div class="modal__content"\n              data-filters='${(0,g.z)(s)}'\n              data-nested-filters='${(0,g.z)(i)}'\n              data-range-filters='${(0,g.z)(r)}'>\n            </div>\n        </div>\n      </div>\n    </div>`,preview:{filters:{field1:[{value:"value1",count:2},{value:"value2",count:5},{value:"value3",count:5}],field2:[{value:"value3",count:4},{value:"value4",count:6}]},resultsNumber:5},filterDatasetParams:{filter:"componentsParamsFilter",nestedFilter:"componentsParamsNestedfilter",tagsFilter:"componentsParamsFiltertags",dropdownFilter:"componentsParamsDropdownfilter",rangeFilter:"componentsParamsFilterrange"},filterRangeDatasetParams:{rangeFilter:"componentsParamsFilterrange"},filterConditions:{or:"OR",and:"AND"},nestedFilterDelimiter:":"};function b(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function F(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?b(Object(s),!0).forEach((function(t){(0,i.A)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):b(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}class R extends r.ComponentBase{init(){this.logger=new n.V(this.name),this.config=F(F(F({},m),this.config),{},{selectors:F(F({},m.selectors),this.config.selectors),subscribes:F(F({},m.subscribes),this.config.subscribes),publishes:F(F({},m.publishes),this.config.publishes),flyoutFilter:JSON.parse((this.config.flyoutFilter||"false").toLowerCase())}),this.searchTrackingEvents=new f(this.name),this.initVariables(),this.getElements(),this.setInitialValues(),this.listeners(),this.requestOnInit()}get containerId(){return this.el.id}get filterNames(){return console.warn("filterNames: Should be configured with inheritance Class"),[]}get filterNestedNames(){return console.warn("filterNestedNames: Should be configured with inheritance Class"),[]}get filterRangedNames(){return console.warn("filterRangedNames: Should be configured with inheritance Class"),[]}get displayFilters(){return!![...this.filterNames,...this.filterNestedNames,...this.filterRangedNames].length}get filtersLabels(){const e=F(F(F({},this.regularFilters.all),this.nestedFilters.all),this.rangedFilters.all),t={};return Object.keys(e).forEach((e=>{const s=this.filtersComponentsParams.find((({name:t})=>this.filterNameWithContainer(t)===e));s&&(t[e]=s.label)})),t}get nestedFiltersMaxLevel(){const{nestedFilterDelimiter:e}=this.config;let t=0;return Object.keys(F({},this.nestedFilters.filters)).forEach((s=>{const i=[...this.nestedFilters.selected[s]||[],...this.nestedFilters.checkedButNotApplied[s]||[]].filter((({checked:e})=>e)).map((({value:t})=>t&&t.split(e).length));t=Math.max(t,...i)})),t}get filtersQueryParams(){return this.filtersQuery.getParams({filtersComponentsParams:this.filtersComponentsParams,rangeFiltersComponentsParams:this.rangeFiltersComponentsParams,regularFilters:this.regularFilters,nestedFilters:this.nestedFilters,rangedFilters:this.rangedFilters})}get shouldLiveUpdateResults(){const e=this.el.querySelector(this.config.selectors.resultBtn);return!(e&&"none"!==getComputedStyle(e).display||this.flyoutOpen)}get sortOptionFromUrlParam(){const e=new URL(window.location.href),t=`${this.containerId}.sort`;return(0,h.JD)(e.searchParams.get(t))}get preSelectedFilters(){const e={},t={};return this.filtersComponentsParams.forEach((({name:s,preselectedOptions:i})=>{const r=this.filterNameWithContainer(s);if(this.filterNames.includes(s)&&i&&i.length&&(e[r]=i.map((e=>({value:e,checked:!0})))),this.filterNestedNames.includes(s)&&i&&i.length){const{nestedFilterDelimiter:e}=this.config;t[r]=[];const s=i=>{const n=i.split(e),l=n.pop();n.length&&s(n.join(e)),t[r].push({checked:!0,code:l,value:i})};i.forEach((e=>{s(e)}))}})),{filters:e,nestedFilters:t}}initVariables(){this.initialRound=!0,this.regularFilters=this.regularFilters||{filters:{},all:{},checkedButNotApplied:{},selected:{}},this.nestedFilters=this.nestedFilters||{filters:{},all:{},checkedButNotApplied:{},selected:{}},this.rangedFilters=this.rangedFilters||{filters:{},all:{},checkedButNotApplied:{},set:{}}}setInitialValues(){this.getSortFromUrlParams(),this.filtersQuery=new u.C(F(F({},this.config),{},{containerId:this.containerId})),this.filtersToAddIntoFlyout=[];const{filters:e,nestedFilters:t,rangeFilters:s}=this.selectedFromUrlParams;this.regularFilters.selected=e||{},this.nestedFilters.selected=t||{},this.rangedFilters.set=s||{},this.rangeFiltersComponentsParams=this.getRangeFilterComponentsParams()||{},this.selectDefaultNestedFilters(),this.objectIsEmpty(this.regularFilters.selected)&&this.objectIsEmpty(this.nestedFilters.selected)&&(this.regularFilters.selected=this.preSelectedFilters.filters,this.nestedFilters.selected=this.preSelectedFilters.nestedFilters),this.updatePageUrlSortAndFilterParams()}selectDefaultNestedFilters(){const{defaultNestedFilters:e}=this.config;e&&Object.keys(e).forEach((t=>{this.nestedFilters.selected[t]=(0,c.N)([...e[t],...this.nestedFilters.selected[t]||[]],"code")}))}get filtersComponentsParams(){return this.filtersComponentsParamsObject=this.filtersComponentsParamsObject||this.getFilterComponentsParams(),this.filtersComponentsParamsObject}getFilterComponentsParams(){const{filterDatasetParams:e}=this.config;return(0,a.K)(this.filterElements).map((t=>{const s=Object.values(e).find((e=>t.dataset[e]));if(t.dataset[s]){const e=JSON.parse(t.dataset[s]),i=e&&e.filter;if(i)return{name:i.name,label:e.label,orderBy:i.orderBy,type:i.type,preselectedOptions:i.preselectedOptions,condition:i.condition,parentCode:i.parentCode,nestedPrefix:i.prefix}}return{}}))}getRangeFilterComponentsParams(){const{filterRangeDatasetParams:e}=this.config;return(0,a.K)(this.rangeFilterElements).map((t=>{const s=Object.values(e).find((e=>t.dataset[e]));if(t.dataset[s]){const e=JSON.parse(t.dataset[s]),i=e&&e.filter;if(i)return{name:i.name,label:i.label,type:i.type,unit:e.unit,unitLocation:e.unitLocation}}return{}}))}requestOnInit(){this.displayFilters&&this.requestAllFilters().then((()=>{this.publishFiltersChange()})).then((()=>{this.requestOnInitFinished()}))}requestResults(){console.warn("requestResults function is not defined!")}requestAllFilters(){console.warn("requestAllFilters function is not defined!")}requestSelectedFiltersFromAPI(){console.warn("requestSelectedFiltersFromAPI function is not defined!")}hasMinMax(e,t){return!isNaN(e)&&!isNaN(t)}requestSelectedFiltersFromAPIAndMap(){return this.requestSelectedFiltersFromAPI().then((({filterableOptions:e})=>{const t={};return e.forEach((({name:e,options:s,min:i,max:r})=>{s&&(t[this.filterNameWithContainer(e)]=s.map((e=>e.code?{name:e.name,count:e.count,code:e.code,subCounts:e.subCounts}:{value:e.name,count:e.count}))),this.hasMinMax(i,r)&&(t[this.filterNameWithContainer(e)]={min:i,max:r})})),t}))}filterName(e){return this.filtersQuery.filterName(e)}filterNameWithContainer(e){return`${this.containerId}.${e}`}listeners(){const{filterOptionChanged:e,filterOptionRemoved:t,sortOptionChanged:s,sortRequestValue:i,clearButtonClicked:n,searchButtonClicked:l,prependFilterIntoFlyout:a}=this.config.subscribes,{sortOptionSet:o}=this.config.publishes;(0,r.subscribe)(e(this.containerId),this.updateSelectedFiltersOnFilterChange.bind(this)),(0,r.subscribe)(t(this.containerId),this.updateSelectedFiltersOnFilterRemove.bind(this)),(0,r.subscribe)(s(this.containerId),this.updateSelectedSortValueOnSortChange.bind(this)),(0,r.subscribe)(i(this.containerId),(()=>(0,r.publish)(o(this.containerId),this.sortValue))),(0,r.subscribe)(n(this.containerId),this.clearSelectedFiltersAndUpdateResults.bind(this)),(0,r.subscribe)(l(this.containerId),this.updateResultsFromNotAppliedFilters.bind(this)),this.flyoutBtn&&(this.flyoutBtn.addEventListener("click",(()=>this.loadFiltersInFlyout())),(0,r.subscribe)(a(this.containerId),(e=>{this.filtersToAddIntoFlyout.unshift(e)})))}forEachEntry(e,t){Object.entries(e).filter((([,e])=>Array.isArray(e))).forEach((([e,s])=>t(e,s)))}forEachRangeEntry(e,t){Object.entries(e).filter((([,e])=>(0,o.Gv)(e)&&this.hasMinMax(e.min,e.max))).forEach((([e,s])=>t(e,s)))}flagCheckedFiltersBaseOnPreselection(e,t,s){return this.forEachEntry(e,((i,r)=>{if(!Array.isArray(e[i]))return;const n=(0,a.K)(t&&t[i]).map((e=>F(F({},e),{},{count:0})));e[i]=(0,c.N)([...r,...n],s,((e,t)=>F(F({},e),{},{checked:e.checked||t.checked})))})),e}flagCheckedNestedFiltersBaseOnPreselection(e,t){const s=this.flattenNestedFilters(e);return this.forEachEntry(s,((e,i)=>{if(!Array.isArray(s[e]))return;const r=(0,a.K)(t&&t[e]).map((e=>F(F({},e),{},{count:0})));s[e]=(0,c.N)([...i,...r],"code",((e,t)=>F(F({},e),{},{checked:e.checked||t.checked})))})),s}getFiltersFromResults({filterableOptions:e}){const t={},s={},i={};return e&&(e.filter((e=>e.options)).filter((({name:e})=>this.filterNames.includes(e))).forEach((({name:e,options:s})=>{const i=this.filterNameWithContainer(e);t[i]=s.map((e=>({value:e.code||e.name,label:e.name,count:e.count,checked:!1})))})),e.filter((e=>e.options)).filter((({name:e})=>this.filterNestedNames.includes(e))).forEach((({name:e,options:t})=>{const i=this.filterNameWithContainer(e);s[i]=t.map((e=>({name:e.name,value:e.code,count:e.count,code:e.code,sort:e.sort,subCounts:e.subCounts,checked:!1})))})),e.filter((e=>this.hasMinMax(e.min,e.max))).forEach((({name:e,min:t,max:s})=>{const r=this.filterNameWithContainer(e);i[r]={min:t,max:s}}))),{filters:t,nestedFilters:s,rangeFilters:i}}populateResultsNumber(e){this.resultsNumber=e}populateFilters({filters:e,nestedFilters:t,rangeFilters:s}){this.regularFilters.filters=this.flagCheckedFiltersBaseOnPreselection(e,this.regularFilters.selected,"value"),this.nestedFilters.filters=this.flagCheckedNestedFiltersBaseOnPreselection(t,this.nestedFilters.selected),this.rangedFilters.filters=s}populateSelectedFilters({filters:e,nestedFilters:t,setRangeFilters:s}){this.forEachEntry(e,((e,t)=>{this.regularFilters.selected[e]=t.filter((e=>e.checked))})),this.forEachEntry(t,((e,t)=>{this.nestedFilters.selected[e]=t.filter((e=>e.checked))})),this.forEachRangeEntry(s,((e,t)=>{this.rangedFilters.set[e]=t}))}populateNestedValue({options:e,parentValue:t,nestedPrefix:s}){return e.map((e=>{const i=!t&&s?`${s}:${e.code}`:e.code,r=t?`${t}:${i}`:i;return F(F({},e),{},{value:r,subCounts:this.populateNestedValue({options:e.subCounts||[],parentValue:r})})}))}flattenNestedFilterOptions(e,t){const s=[],i=e=>{(e||[]).forEach((e=>{s.push(e),i(e.subCounts)}))};return this.populateNestedValue({options:e||[],nestedPrefix:t}).forEach((e=>{s.push(e),i(e.subCounts)})),s}flattenNestedFilters(e={}){const t={};return this.forEachEntry(e,((e,s)=>{const i=this.filtersComponentsParams.find((({name:t})=>this.filterNameWithContainer(t)===e)),r=i?i.nestedPrefix:"";t[e]=this.flattenNestedFilterOptions(s,r)})),t}populateAllFilters(e){const{filterAllUpdate:t}=this.config.publishes,{filters:s,nestedFilters:i,rangeFilters:n}=this.getFiltersFromResults(e);this.regularFilters.all=s,this.nestedFilters.all=this.flattenNestedFilters(i),this.rangedFilters.all=n,(0,r.publish)(t(this.containerId),{allFilterOptions:F({},this.regularFilters.all),allNestedFilterOptions:F({},this.nestedFilters.all)})}populateCheckedButNotAppliedFilters(e){this.regularFilters.checkedButNotApplied=F(F({},this.regularFilters.checkedButNotApplied),e.filters),this.nestedFilters.checkedButNotApplied=F(F({},this.nestedFilters.checkedButNotApplied),e.nestedFilters),this.rangedFilters.checkedButNotApplied=F(F({},this.rangedFilters.checkedButNotApplied),e.setRangeFilters),this.requestSelectedFiltersFromAPIAndMap().then((e=>{if(e){const{filterUpdate:t}=this.config.publishes,s={},i={},n={};this.forEachEntry(this.regularFilters.all,((t,i)=>{s[t]=i.map((s=>{const i=(0,a.K)(this.regularFilters.checkedButNotApplied[t]).find((e=>e.value===s.value)),r=(0,a.K)(this.regularFilters.selected[t]).find((e=>e.value===s.value)),n=(0,a.K)(e[t]).find((e=>e.value===s.value)),l=n?n.count:0;return F(F({},s),{},i?{count:l,checked:i.checked}:r?{count:l,checked:r.checked}:{count:l,checked:!1})}))})),this.forEachEntry(this.nestedFilters.all,(t=>{i[t]=this.flattenNestedFilterOptions(e[t]).map((e=>{const s=(0,a.K)(this.nestedFilters.checkedButNotApplied[t]).find((t=>t.code===e.code));return F(F({},e),{},s?{checked:s.checked}:{checked:!1})}))})),this.forEachRangeEntry(this.rangedFilters.all,((e,t)=>{n[e]=F({},this.rangedFilters.checkedButNotApplied[e]||this.rangedFilters.set[e]||t)})),(0,r.publish)(t(this.containerId),{filters:s,nestedFilters:i,setRangeFilters:n,availableRangeFilters:F({},this.rangedFilters.filters)})}}))}getSortFromUrlParams(){const{order:e}=this.config;this.populateSelectedSortValue(this.sortOptionFromUrlParam||e)}populateSelectedSortValue(e){this.sortValue=e,this.checkedButNotAppliedSortValue=void 0}publishFiltersChange(){this._publishResultsNumberUpdate(),this._publishResultsTagsUpdate(),this._publishFiltersUpdate()}_publishResultsNumberUpdate(){const{resultsNumberUpdate:e}=this.config.publishes;(0,r.publish)(e(this.containerId),this.resultsNumber)}_publishResultsTagsUpdate(){const{resultsTagsUpdate:e}=this.config.publishes;(0,r.publish)(e(this.containerId),{filters:this.regularFilters.filters,nestedFilters:this.nestedFilters.filters,setRangeFilters:F(F({},this.rangedFilters.filters),this.rangeFiltersWithUnit(this.rangedFilters.set))})}_publishFiltersUpdate(){const{filterUpdate:e}=this.config.publishes;(0,r.publish)(e(this.containerId),{filters:this.regularFilters.filters,nestedFilters:this.nestedFilters.filters,setRangeFilters:F(F({},this.rangedFilters.filters),this.rangedFilters.set),availableRangeFilters:F({},this.rangedFilters.filters)})}rangeFiltersWithUnit(e){return Object.keys(e).reduce(((t,s)=>{const{unit:i,unitLocation:r}=this.rangeFiltersComponentsParams.find((e=>e.name===this.filterName(s)));return t[s]=F(F({},e[s]),{},{unit:i,unitLocation:r}),t}),{})}updateSelectedFiltersOnFilterChange(e){const t=F({filters:{},setRangeFilters:{},nestedFilters:{}},e);!this.shouldLiveUpdateResults&&!t.forceLiveReload||t.preventLiveReload?this.populateCheckedButNotAppliedFilters(t):(this.populateSelectedFilters(t),this.updateResults(),this.regularFilters.checkedButNotApplied={},this.nestedFilters.checkedButNotApplied={},this.rangedFilters.checkedButNotApplied={})}updateSelectedFiltersOnFilterRemove({filterName:e,value:t}){if(this.regularFilters.selected[e]&&(this.regularFilters.selected[e]=this.regularFilters.selected[e].filter((e=>e.value!==t))),this.nestedFilters.selected[e]){const{nestedFilterDelimiter:s}=this.config;this.nestedFilters.selected[e]=this.nestedFilters.selected[e].filter((e=>e.value!==t&&!e.value.includes(`${t}${s}`)))}this.rangedFilters.set[e]&&delete this.rangedFilters.set[e],this.flyoutOpen||this.updateResults()}publishSortChangeTrackingEvent(e){this.searchTrackingEvents.sortChangeTracking({sortValue:e,resultsNumber:this.resultsNumber})}publishFilterChangeTrackingEvent(){if(!this.initialRound){const e=F(F({},this.regularFilters.selected),this.nestedFilters.selected);this.searchTrackingEvents.filterChangeTracking({filtersData:e,filtersLabels:this.filtersLabels,selectedTab:this.selectedTab,resultsNumber:this.resultsNumber})}}updateSelectedSortValueOnSortChange({sortValue:e,forceLiveReload:t}){this.publishSortChangeTrackingEvent(e),this.shouldLiveUpdateResults||t?(this.populateSelectedSortValue(e),this.updateResults()):this.checkedButNotAppliedSortValue=e}clearSelectedFilters(){this.regularFilters.selected={},this.nestedFilters.selected={},this.rangedFilters.set={},this.regularFilters.checkedButNotApplied={},this.nestedFilters.checkedButNotApplied={},this.rangedFilters.checkedButNotApplied={},this.checkedButNotAppliedSortValue=void 0}clearSelectedFiltersAndUpdateResults(){this.clearSelectedFilters(),this.selectDefaultNestedFilters(),this.updateResults()}updateResults(...e){this.updatePageUrlSortAndFilterParams(),this.requestResults(...e),this.flyoutOpen&&((0,r.publish)(`modal:${this.modalId}:close`),this.flyoutOpen=!1)}get allSelectedFiltersAsUrlParams(){const e=[...this.selectedFiltersAsUrlParams,...this.selectedNestedFiltersAsUrlParams,...this.setRangeFiltersAsUrlParams].filter((e=>e));return e.length?`&${e.join("&")}`:""}get selectedFiltersAsUrlParams(){const e=[];return this.forEachEntry(this.regularFilters.selected,((t,s)=>{s.forEach((s=>{e.push(`${t}=${encodeURIComponent(s.value)}`)}))})),e}get selectedNestedFiltersAsUrlParams(){const e=[],t=(s,i)=>i.filter((e=>e.checked&&!e.hidden)).forEach((i=>{e.push(`${s}=${encodeURIComponent(i.value)}`),t(s,i.subCounts||[])}));return this.forEachEntry(this.nestedFilters.selected,((e,s)=>t(e,s))),e}get setRangeFiltersAsUrlParams(){const e=[];return this.forEachRangeEntry(this.rangedFilters.set,((t,s)=>{Object.keys(s).forEach((i=>{["min","max"].includes(i)&&e.push(`${t}.${i}=${encodeURIComponent(s[i])}`)}))})),e}get selectedFromUrlParams(){const{reservedFilterNames:e,nestedFilterDelimiter:t}=this.config,s=new URL(window.location.href),i={},r={},n={},l=[...s.searchParams].filter((([t])=>{const s=t.includes(`${this.containerId}.`),i=e.some((e=>e===this.filterName(t)));return s&&!i}));return l.filter((([e])=>this.filterNames.some((t=>e.includes(t))))).forEach((([e,t])=>{const s=(0,h.JD)(t.replace(/\+/g,"%20")),r=e;i[r]=i[r]||[],i[r].push({value:s,checked:!0})})),l.filter((([e])=>this.filterNestedNames.some((t=>e.includes(t))))).forEach((([e,s])=>{const i=(0,h.JD)(s.replace(/\+/g,"%20"));r[e]=r[e]||[],r[e].push({checked:!0,code:i.split(t).reverse()[0],value:i})})),l.filter((([e])=>this.filterRangedNames.some((t=>e.includes(t))))).forEach((([e,t])=>{const s=window.Number((0,h.JD)(t.replace(/\+/g,"%20"))),i=e.includes(".min"),r=e.includes(".max"),l=e.replace(/.min|.max/,"");n[l]=F(F(F({},n[l]),i&&{min:s}),r&&{max:s})})),Object.entries(n).forEach((([e,{min:t,max:s}])=>{this.hasMinMax(t,s)||delete n[e]})),{filters:i,nestedFilters:r,rangeFilters:n}}updatePageUrlSortAndFilterParams(){this.updatePageUrlFiltersParams(),this.updatePageUrlSortParams()}updatePageUrlFiltersParams(){const e=`^${this.containerId}\\.`,t=`${window.location.search.substr(1).split("&").filter((t=>!t.match(new RegExp(e)))).join("&")}${this.allSelectedFiltersAsUrlParams}`;window.history.replaceState({},document.title,`${window.location.pathname}?${t}`)}updatePageUrlSortParams(){const{order:e}=this.config,t=new URL(window.location.href),s=`${this.containerId}.sort`;t.searchParams.delete(s),this.sortValue&&this.sortValue!==e&&t.searchParams.set(s,this.sortValue),window.history.replaceState({},"",t)}get modalCustomizationClasses(){const{modalCustomizationClass:e=""}=this.config;return{modalCustomizationClass:e}}loadFiltersInFlyout(){if(!(0,d.LD)().matches||this.config.flyoutFilter){this.modalId=`modal_${this.containerId}`;const e=this.filtersArea,t=Array.isArray(this.closeBtn)?this.closeBtn[0]:this.closeBtn,s=JSON.stringify({setRangeFilters:F(F({},this.rangedFilters.filters),this.rangeFiltersWithUnit(this.rangedFilters.set)),availableRangeFilters:F({},this.rangedFilters.filters)}),i=this.config.template(this.modalId,t.innerHTML,JSON.stringify(this.regularFilters.filters),JSON.stringify(this.nestedFilters.filters),s,this.modalCustomizationClasses),n=document.createRange().createContextualFragment(i),l=e.cloneNode(!0);if(document.body.classList.add(this.config.modifiers.noScroll),this.filtersToAddIntoFlyout.length){let e=l.querySelector(".filter, .filterrange");this.filtersToAddIntoFlyout.forEach((t=>{const s=t.cloneNode(!0);e?l.insertBefore(s,e):l.append(s),e=s}))}l.querySelectorAll("*[id], *[for]").forEach((e=>{e.id=`modal_${e.id}`,e.setAttribute("for",`modal_${e.getAttribute("for")}`)})),l.setAttribute("data-container-id",this.containerId),n.querySelector(".modal__content").appendChild(l),document.body.appendChild(n),this.flyoutOpen=!0,(0,r.subscribe)(`modal:${this.modalId}:closed`,this.onModalClose.bind(this))}}onModalClose(){(0,r.unsubscribe)(`modal:${this.modalId}:closed`,this.onModalClose.bind(this)),document.body.classList.remove(this.config.modifiers.noScroll),this.flyoutBtn.focus(),this.updateResultsFromNotAppliedFilters()}updateResultsFromNotAppliedFilters(){const e={filters:F(F({},this.regularFilters.selected),this.regularFilters.checkedButNotApplied),nestedFilters:F(F({},this.nestedFilters.selected),this.nestedFilters.checkedButNotApplied),setRangeFilters:F(F({},this.setRangeFilter),this.rangedFilters.checkedButNotApplied)};this.populateSelectedFilters(e),this.checkedButNotAppliedSortValue&&this.populateSelectedSortValue(this.checkedButNotAppliedSortValue),this.regularFilters.checkedButNotApplied={},this.nestedFilters.checkedButNotApplied={},this.rangedFilters.checkedButNotApplied={},this.updateResults()}objectIsEmpty(e){return!Object.keys(e).length}checkResultsForError(e){if(e.error)throw new Error(e.error);return e}renderError(e,t,s){const{errorXFUrl:i}=this.config;this.logger.error(e),i?(0,l.BU)(i,null).then((({fragmentString:e})=>{t.insertAdjacentHTML("beforeend",e),s()})).catch((()=>{t.insertAdjacentHTML("beforeend","<div><p>Oops something went wrong, please try again later!</p></div>"),s()})):(t.insertAdjacentHTML("beforeend","<div><p>Oops something went wrong, please try again later!</p></div>"),s()),this.hideLoadingSpinner()}showLoadingSpinner(){const e=(0,a.K)(this.spinner);if(e.length){const{publishes:t,modifiers:s}=this.config;this.el.classList.add(s.loading),e.forEach((e=>{(0,r.publish)(t.showSpinner(e.id))}))}}hideLoadingSpinner(){const e=(0,a.K)(this.spinner);if(e.length){const{publishes:t,modifiers:s}=this.config;this.el.classList.remove(s.loading),e.forEach((e=>{(0,r.publish)(t.hideSpinner(e.id))}))}}}(0,r.register)({SortFilterBase:R},0)}}]);